[{"line":2,"elements":[{"line":38,"name":"downoad deltas op locatie buitenhof perceel","description":"","id":"downoad-deltas-op-locatie-buitenhof-perceel","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"print \"bepaal een delta ids \"","result":{"duration":35436391,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7,"doc_string":{"content_type":"","value":"02:29:04.017 base url : {\n  \"apiBaseUrl\": \"https:\/\/downloads.pdok.nl\/\"\n}\n \n02:29:04.049 [print] bepaal een delta ids","line":7}},{"name":"url apiBaseUrl + 'kadastralekaart\/api\/v4_0\/delta'","result":{"duration":17424593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":8},{"name":"param count = 1000","result":{"duration":1565459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":9},{"name":"param after-delta-id = \"b2219778-e94c-40b0-92bd-95e3491af2bb\"","result":{"duration":16494395,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":10},{"name":"method GET","result":{"duration":625593639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":11,"doc_string":{"content_type":"","value":"02:29:04.096 request:\n1 > GET https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta?count=1000&after-delta-id=b2219778-e94c-40b0-92bd-95e3491af2bb\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:04.714 response time in milliseconds: 615.84\n1 < 200\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:04 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < Transfer-Encoding: chunked\n1 < X-Cnection: [close, close]\n{\"deltas\":[{\"id\":\"2b104759-f77d-496a-94e4-7064f199b446\",\"timeWindow\":{\"from\":\"2021-05-15T21:59:59Z\",\"to\":\"2021-05-16T21:59:59Z\"}},{\"id\":\"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\"timeWindow\":{\"from\":\"2021-05-16T21:59:59Z\",\"to\":\"2021-05-17T21:59:59Z\"}},{\"id\":\"801a3c3e-a010-4fff-9c4a-812d7c813674\",\"timeWindow\":{\"from\":\"2021-05-17T21:59:59Z\",\"to\":\"2021-05-18T21:59:59Z\"}},{\"id\":\"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\"timeWindow\":{\"from\":\"2021-05-18T21:59:59Z\",\"to\":\"2021-05-19T21:59:59Z\"}},{\"id\":\"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\"timeWindow\":{\"from\":\"2021-05-19T21:59:59Z\",\"to\":\"2021-05-20T21:59:59Z\"}},{\"id\":\"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\"timeWindow\":{\"from\":\"2021-05-20T21:59:59Z\",\"to\":\"2021-05-21T21:59:59Z\"}},{\"id\":\"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\"timeWindow\":{\"from\":\"2021-05-21T21:59:59Z\",\"to\":\"2021-05-22T21:59:59Z\"}},{\"id\":\"e6640b5a-f20a-450e-9250-986540178c75\",\"timeWindow\":{\"from\":\"2021-05-22T21:59:59Z\",\"to\":\"2021-05-23T21:59:59Z\"}},{\"id\":\"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\"timeWindow\":{\"from\":\"2021-05-23T21:59:59Z\",\"to\":\"2021-05-24T21:59:59Z\"}},{\"id\":\"25e98e4e-ef9b-42d1-a419-03fef9478802\",\"timeWindow\":{\"from\":\"2021-05-24T21:59:59Z\",\"to\":\"2021-05-25T21:59:59Z\"}},{\"id\":\"9297d9e4-cc92-415f-b258-642b4ecdb967\",\"timeWindow\":{\"from\":\"2021-05-25T21:59:59Z\",\"to\":\"2021-05-26T21:59:59Z\"}},{\"id\":\"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\"timeWindow\":{\"from\":\"2021-05-26T21:59:59Z\",\"to\":\"2021-05-27T21:59:59Z\"}},{\"id\":\"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\"timeWindow\":{\"from\":\"2021-05-27T21:59:59Z\",\"to\":\"2021-05-28T21:59:59Z\"}},{\"id\":\"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\"timeWindow\":{\"from\":\"2021-05-28T21:59:59Z\",\"to\":\"2021-05-29T21:59:59Z\"}},{\"id\":\"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\"timeWindow\":{\"from\":\"2021-05-29T21:59:59Z\",\"to\":\"2021-05-30T21:59:59Z\"}},{\"id\":\"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\"timeWindow\":{\"from\":\"2021-05-30T21:59:59Z\",\"to\":\"2021-05-31T21:59:59Z\"}},{\"id\":\"a7ced3a4-8dd3-44df-8774-f08d01839035\",\"timeWindow\":{\"from\":\"2021-05-31T21:59:59Z\",\"to\":\"2021-06-01T21:59:59Z\"}},{\"id\":\"3021d17f-c396-4704-8770-d0231e9d5d9b\",\"timeWindow\":{\"from\":\"2021-06-01T21:59:59Z\",\"to\":\"2021-06-02T21:59:59Z\"}},{\"id\":\"199c4014-5688-4581-9513-9d8bc2f0c040\",\"timeWindow\":{\"from\":\"2021-06-02T21:59:59Z\",\"to\":\"2021-06-03T21:59:59Z\"}},{\"id\":\"74c6011e-9871-4f8a-b911-0142eea98ee7\",\"timeWindow\":{\"from\":\"2021-06-03T21:59:59Z\",\"to\":\"2021-06-04T21:59:59Z\"}},{\"id\":\"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\"timeWindow\":{\"from\":\"2021-06-04T21:59:59Z\",\"to\":\"2021-06-05T21:59:59Z\"}},{\"id\":\"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\"timeWindow\":{\"from\":\"2021-06-05T21:59:59Z\",\"to\":\"2021-06-06T21:59:59Z\"}},{\"id\":\"74059578-fae6-4945-9c61-b14d8315506f\",\"timeWindow\":{\"from\":\"2021-06-06T21:59:59Z\",\"to\":\"2021-06-07T21:59:59Z\"}},{\"id\":\"7846306d-9db1-47be-bb67-960c8db4901b\",\"timeWindow\":{\"from\":\"2021-06-07T21:59:59Z\",\"to\":\"2021-06-08T21:59:59Z\"}},{\"id\":\"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\"timeWindow\":{\"from\":\"2021-06-08T21:59:59Z\",\"to\":\"2021-06-09T21:59:59Z\"}},{\"id\":\"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\"timeWindow\":{\"from\":\"2021-06-09T21:59:59Z\",\"to\":\"2021-06-10T21:59:59Z\"}},{\"id\":\"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\"timeWindow\":{\"from\":\"2021-06-10T21:59:59Z\",\"to\":\"2021-06-11T21:59:59Z\"}},{\"id\":\"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\"timeWindow\":{\"from\":\"2021-06-11T21:59:59Z\",\"to\":\"2021-06-12T21:59:59Z\"}},{\"id\":\"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\"timeWindow\":{\"from\":\"2021-06-12T21:59:59Z\",\"to\":\"2021-06-13T21:59:59Z\"}},{\"id\":\"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\"timeWindow\":{\"from\":\"2021-06-13T21:59:59Z\",\"to\":\"2021-06-14T21:59:59Z\"}}],\"_links\":[]}","line":11}},{"name":"status 200","result":{"duration":9233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":12},{"name":"def alldelta = response.deltas","result":{"duration":6032886,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"print \"alldelta:\", alldelta","result":{"duration":20670114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14,"doc_string":{"content_type":"","value":"02:29:04.741 [print] alldelta: [\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-15T21:59:59Z\",\n      \"to\": \"2021-05-16T21:59:59Z\"\n    },\n    \"id\": \"2b104759-f77d-496a-94e4-7064f199b446\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-16T21:59:59Z\",\n      \"to\": \"2021-05-17T21:59:59Z\"\n    },\n    \"id\": \"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-17T21:59:59Z\",\n      \"to\": \"2021-05-18T21:59:59Z\"\n    },\n    \"id\": \"801a3c3e-a010-4fff-9c4a-812d7c813674\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-18T21:59:59Z\",\n      \"to\": \"2021-05-19T21:59:59Z\"\n    },\n    \"id\": \"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-19T21:59:59Z\",\n      \"to\": \"2021-05-20T21:59:59Z\"\n    },\n    \"id\": \"9c93aa0c-86a4-49fa-826e-549c719cc0aa\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-20T21:59:59Z\",\n      \"to\": \"2021-05-21T21:59:59Z\"\n    },\n    \"id\": \"1577858c-8c9f-481a-8e45-084bd85e5f4e\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-21T21:59:59Z\",\n      \"to\": \"2021-05-22T21:59:59Z\"\n    },\n    \"id\": \"f784d3c1-2e95-4c30-9268-11d0d61ac131\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-22T21:59:59Z\",\n      \"to\": \"2021-05-23T21:59:59Z\"\n    },\n    \"id\": \"e6640b5a-f20a-450e-9250-986540178c75\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-23T21:59:59Z\",\n      \"to\": \"2021-05-24T21:59:59Z\"\n    },\n    \"id\": \"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-24T21:59:59Z\",\n      \"to\": \"2021-05-25T21:59:59Z\"\n    },\n    \"id\": \"25e98e4e-ef9b-42d1-a419-03fef9478802\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-25T21:59:59Z\",\n      \"to\": \"2021-05-26T21:59:59Z\"\n    },\n    \"id\": \"9297d9e4-cc92-415f-b258-642b4ecdb967\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-26T21:59:59Z\",\n      \"to\": \"2021-05-27T21:59:59Z\"\n    },\n    \"id\": \"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-27T21:59:59Z\",\n      \"to\": \"2021-05-28T21:59:59Z\"\n    },\n    \"id\": \"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-28T21:59:59Z\",\n      \"to\": \"2021-05-29T21:59:59Z\"\n    },\n    \"id\": \"ee7de3a0-af84-4382-88f6-015c69fbcf22\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-29T21:59:59Z\",\n      \"to\": \"2021-05-30T21:59:59Z\"\n    },\n    \"id\": \"7d86880e-ec38-45a7-8d26-8b50b25cb564\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-30T21:59:59Z\",\n      \"to\": \"2021-05-31T21:59:59Z\"\n    },\n    \"id\": \"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-31T21:59:59Z\",\n      \"to\": \"2021-06-01T21:59:59Z\"\n    },\n    \"id\": \"a7ced3a4-8dd3-44df-8774-f08d01839035\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-01T21:59:59Z\",\n      \"to\": \"2021-06-02T21:59:59Z\"\n    },\n    \"id\": \"3021d17f-c396-4704-8770-d0231e9d5d9b\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-02T21:59:59Z\",\n      \"to\": \"2021-06-03T21:59:59Z\"\n    },\n    \"id\": \"199c4014-5688-4581-9513-9d8bc2f0c040\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-03T21:59:59Z\",\n      \"to\": \"2021-06-04T21:59:59Z\"\n    },\n    \"id\": \"74c6011e-9871-4f8a-b911-0142eea98ee7\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-04T21:59:59Z\",\n      \"to\": \"2021-06-05T21:59:59Z\"\n    },\n    \"id\": \"95843b80-f891-4f0d-ac68-6f104d38a0c6\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-05T21:59:59Z\",\n      \"to\": \"2021-06-06T21:59:59Z\"\n    },\n    \"id\": \"304c598c-211c-4d4e-86cf-c87c8be1fd60\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-06T21:59:59Z\",\n      \"to\": \"2021-06-07T21:59:59Z\"\n    },\n    \"id\": \"74059578-fae6-4945-9c61-b14d8315506f\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-07T21:59:59Z\",\n      \"to\": \"2021-06-08T21:59:59Z\"\n    },\n    \"id\": \"7846306d-9db1-47be-bb67-960c8db4901b\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-08T21:59:59Z\",\n      \"to\": \"2021-06-09T21:59:59Z\"\n    },\n    \"id\": \"ecc65af0-5df2-4c51-997e-424a8ec168f9\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-09T21:59:59Z\",\n      \"to\": \"2021-06-10T21:59:59Z\"\n    },\n    \"id\": \"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-10T21:59:59Z\",\n      \"to\": \"2021-06-11T21:59:59Z\"\n    },\n    \"id\": \"80d32f9f-5641-4d0a-89bb-616e9c0f890f\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-11T21:59:59Z\",\n      \"to\": \"2021-06-12T21:59:59Z\"\n    },\n    \"id\": \"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-12T21:59:59Z\",\n      \"to\": \"2021-06-13T21:59:59Z\"\n    },\n    \"id\": \"ee381f94-96f3-41e5-bbd5-4b678eee1db0\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-13T21:59:59Z\",\n      \"to\": \"2021-06-14T21:59:59Z\"\n    },\n    \"id\": \"359a0c94-3317-42ed-b8c7-508f5d13f2c1\"\n  }\n]","line":14}},{"name":"def pararray = []","result":{"duration":90469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"def featureslist = [\"perceel\"]","result":{"duration":65633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"def fun =","result":{"duration":12745378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":20,"doc_string":{"content_type":"","value":"function(delta) {\nreq = { format: \"gml\", geofilter: 'POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))' };\nreq[\"deltaId\"] = delta[\"id\"];\nreq[\"featuretypes\"] = featureslist;\npararray.add (req);\n}","line":20}},{"name":"eval karate.forEach(alldelta, fun)","result":{"duration":99406676,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":30},{"name":"print \"array:\", pararray","result":{"duration":30512879,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":32,"doc_string":{"content_type":"","value":"02:29:04.885 [print] array: [\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"2b104759-f77d-496a-94e4-7064f199b446\",\n    \"featuretypes\": [\n      \"perceel\"\n    ]\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"801a3c3e-a010-4fff-9c4a-812d7c813674\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"e6640b5a-f20a-450e-9250-986540178c75\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"25e98e4e-ef9b-42d1-a419-03fef9478802\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"9297d9e4-cc92-415f-b258-642b4ecdb967\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"a7ced3a4-8dd3-44df-8774-f08d01839035\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"3021d17f-c396-4704-8770-d0231e9d5d9b\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"199c4014-5688-4581-9513-9d8bc2f0c040\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"74c6011e-9871-4f8a-b911-0142eea98ee7\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"74059578-fae6-4945-9c61-b14d8315506f\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"7846306d-9db1-47be-bb67-960c8db4901b\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  }\n]","line":32}},{"name":"print \"done\"","result":{"duration":1551668,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33,"doc_string":{"content_type":"","value":"02:29:04.886 [print] done","line":33}},{"name":"def dodelta = call read('DeltaCustomargs.feature') pararray","result":{"duration":72604336136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"[0] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"2b104759-f77d-496a-94e4-7064f199b446\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":48292041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":43451335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":495106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:05.069 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"2b104759-f77d-496a-94e4-7064f199b446\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":35532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":597114097,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:05.149 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"2b104759-f77d-496a-94e4-7064f199b446\",\"featuretypes\":[\"perceel\"]}\n\n02:29:05.667 response time in milliseconds: 516.99\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:05 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c6e3039e-9001-4276-6513-d25c67f9bed2\/status\"}},\"downloadRequestId\":\"c6e3039e-9001-4276-6513-d25c67f9bed2\"}","line":14}},{"name":"status 202","result":{"duration":8970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":302988,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":2861601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":2952242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":43446291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:05.717 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":16914769,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":7026887,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:05.741 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c6e3039e-9001-4276-6513-d25c67f9bed2\/status","line":23}},{"name":"url statusurl","result":{"duration":16272,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":509266904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:05.744 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c6e3039e-9001-4276-6513-d25c67f9bed2\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:06.250 response time in milliseconds: 505.01\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:06 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/1e7e5b35-96c2-4a9f-bf1d-b57fa68ef2cc\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":24295,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":13612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":550275383,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:06.256 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c6e3039e-9001-4276-6513-d25c67f9bed2\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:06.761 response time in milliseconds: 504.41\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:06 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/1e7e5b35-96c2-4a9f-bf1d-b57fa68ef2cc\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":1966294,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":241542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":18864608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:06.822 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/1e7e5b35-96c2-4a9f-bf1d-b57fa68ef2cc\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":8496907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":529392095,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:06.834 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/1e7e5b35-96c2-4a9f-bf1d-b57fa68ef2cc\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:07.360 response time in milliseconds: 526.05\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:07 GMT\n4 < Etag: \"9bd59fe38fc0598bd58c721084f4cc8a-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:05 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08254984041\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":2491787,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":9246213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":670731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":1581561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:07.375 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":3414111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:07.378 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/1e7e5b35-96c2-4a9f-bf1d-b57fa68ef2cc\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":7245372,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:07.386 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":16618047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":345204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":264352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":186171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":10863547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[1] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":16754056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":1867997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":494650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:07.459 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":14337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":559002310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:07.460 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\"featuretypes\":[\"perceel\"]}\n\n02:29:08.016 response time in milliseconds: 555.55\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:07 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/295ca6c3-25c0-4156-4386-d17903aa718c\/status\"}},\"downloadRequestId\":\"295ca6c3-25c0-4156-4386-d17903aa718c\"}","line":14}},{"name":"status 202","result":{"duration":4476,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":5327727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":18498460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":394598,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":555267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:08.043 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":6060568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":4792378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:08.054 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/295ca6c3-25c0-4156-4386-d17903aa718c\/status","line":23}},{"name":"url statusurl","result":{"duration":25774,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":509991349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:08.063 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/295ca6c3-25c0-4156-4386-d17903aa718c\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:08.572 response time in milliseconds: 508.12\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:08 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f9d2a85-9306-4428-9f7a-1cf50593501d\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":7650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":548658148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:08.574 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/295ca6c3-25c0-4156-4386-d17903aa718c\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:09.118 response time in milliseconds: 543.71\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:09 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f9d2a85-9306-4428-9f7a-1cf50593501d\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":222863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":284007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":4277147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:09.125 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f9d2a85-9306-4428-9f7a-1cf50593501d\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":1879885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":701162852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:09.133 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f9d2a85-9306-4428-9f7a-1cf50593501d\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:09.829 response time in milliseconds: 692.81\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 646\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:09 GMT\n4 < Etag: \"35bf684c465bd73a7de6ff200881a770-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:08 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A082E2053616\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":252682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":154197,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":267211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":5886344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:09.835 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":20732112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:09.856 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f9d2a85-9306-4428-9f7a-1cf50593501d\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":319277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:09.857 [print] size 646","line":42}},{"name":"assert zipsize > 600","result":{"duration":1528314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":256871,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":241375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":154741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":14451568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[2] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"801a3c3e-a010-4fff-9c4a-812d7c813674\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":10149964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":1169364,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":249989,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:09.887 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"801a3c3e-a010-4fff-9c4a-812d7c813674\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":10901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2126715414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:09.888 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"801a3c3e-a010-4fff-9c4a-812d7c813674\",\"featuretypes\":[\"perceel\"]}\n\n02:29:12.014 response time in milliseconds: 2125.25\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:11 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/750697fd-06f2-45eb-6c18-235fad4461af\/status\"}},\"downloadRequestId\":\"750697fd-06f2-45eb-6c18-235fad4461af\"}","line":14}},{"name":"status 202","result":{"duration":7037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":360363,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":382856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":294977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":1239398,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:12.020 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":340593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":25373087,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:12.047 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/750697fd-06f2-45eb-6c18-235fad4461af\/status","line":23}},{"name":"url statusurl","result":{"duration":9724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":516585051,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:12.065 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/750697fd-06f2-45eb-6c18-235fad4461af\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:12.562 response time in milliseconds: 496.70\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:12 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d181a0bf-886a-4340-a7b8-31e1c8f3239a\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":14390,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":10921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":499690699,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:12.567 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/750697fd-06f2-45eb-6c18-235fad4461af\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:13.056 response time in milliseconds: 487.70\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:12 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d181a0bf-886a-4340-a7b8-31e1c8f3239a\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":223860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":288448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":18240269,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:13.084 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d181a0bf-886a-4340-a7b8-31e1c8f3239a\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":7312158,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":552833150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:13.093 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d181a0bf-886a-4340-a7b8-31e1c8f3239a\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:13.644 response time in milliseconds: 551.24\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:13 GMT\n4 < Etag: \"92be2c83e50ed7e7d55805c2ff47a531-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:12 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A083CA1990DC\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6296,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":301805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":146051,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":323607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":198260,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:13.646 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":415971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:13.646 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d181a0bf-886a-4340-a7b8-31e1c8f3239a\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":307061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:13.647 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":183271,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":313758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":188663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":147654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":2481950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[3] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":5642527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":226481,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":294830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:13.662 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":10832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":525061108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:13.676 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\"featuretypes\":[\"perceel\"]}\n\n02:29:14.187 response time in milliseconds: 510.25\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:14 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2a6fc076-9af3-4090-69a3-d2b80d96a505\/status\"}},\"downloadRequestId\":\"2a6fc076-9af3-4090-69a3-d2b80d96a505\"}","line":14}},{"name":"status 202","result":{"duration":28944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":1096409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":396526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":281954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":398353,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:14.190 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":250301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":385736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:14.190 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2a6fc076-9af3-4090-69a3-d2b80d96a505\/status","line":23}},{"name":"url statusurl","result":{"duration":7381,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":503807628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:14.191 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2a6fc076-9af3-4090-69a3-d2b80d96a505\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:14.694 response time in milliseconds: 502.31\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:14 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/64037bcb-8b3f-42e7-9791-895c7d2678df\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":16035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":8216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":511178554,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:14.695 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2a6fc076-9af3-4090-69a3-d2b80d96a505\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:15.204 response time in milliseconds: 507.70\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:15 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/64037bcb-8b3f-42e7-9791-895c7d2678df\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":213970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":219277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":1379264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:15.207 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/64037bcb-8b3f-42e7-9791-895c7d2678df\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":362922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":507203526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:15.216 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/64037bcb-8b3f-42e7-9791-895c7d2678df\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:15.721 response time in milliseconds: 499.50\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 648\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:15 GMT\n4 < Etag: \"a3af6f222dd0398d318456bfd9ef0e84-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:14 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0844640A9FB\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6670,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":287567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":193483,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":301066,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":204610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:15.723 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":377876,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:15.723 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/64037bcb-8b3f-42e7-9791-895c7d2678df\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":286705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:15.724 [print] size 648","line":42}},{"name":"assert zipsize > 600","result":{"duration":196384,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":251055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":226831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":198356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":541109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[4] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":2207597,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":150028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":192469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:15.736 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":10311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":511945017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:15.739 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\"featuretypes\":[\"perceel\"]}\n\n02:29:16.248 response time in milliseconds: 508.54\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:16 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/1098e73a-b6e5-4994-7de0-95f250075427\/status\"}},\"downloadRequestId\":\"1098e73a-b6e5-4994-7de0-95f250075427\"}","line":14}},{"name":"status 202","result":{"duration":5885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":267845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":436291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":249137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":443191,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:16.250 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":265017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":295645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:16.250 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/1098e73a-b6e5-4994-7de0-95f250075427\/status","line":23}},{"name":"url statusurl","result":{"duration":6119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":492709806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:16.251 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/1098e73a-b6e5-4994-7de0-95f250075427\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:16.740 response time in milliseconds: 488.81\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:16 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8955f067-2a39-40a6-98b3-2bca0134d921\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":13648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":8472,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":505944138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:16.744 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/1098e73a-b6e5-4994-7de0-95f250075427\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:17.248 response time in milliseconds: 503.66\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:17 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8955f067-2a39-40a6-98b3-2bca0134d921\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":253521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":254179,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":541505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:17.250 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8955f067-2a39-40a6-98b3-2bca0134d921\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":316096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":530344375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:17.252 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8955f067-2a39-40a6-98b3-2bca0134d921\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:17.781 response time in milliseconds: 528.70\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 646\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:17 GMT\n4 < Etag: \"adccec1203fc01c85380595b5fd92660-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:16 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A084BFA160D7\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":557906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":164168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":291166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":223642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:17.782 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":405729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:17.783 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8955f067-2a39-40a6-98b3-2bca0134d921\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":297008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:17.783 [print] size 646","line":42}},{"name":"assert zipsize > 600","result":{"duration":280292,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":251020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":170203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":182380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":553123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[5] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":10177471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":172242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":5016720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:17.802 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":11252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1880008046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:17.803 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\"featuretypes\":[\"perceel\"]}\n\n02:29:19.682 response time in milliseconds: 1878.50\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:19 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/6e498fd5-2dd6-4806-7b62-78995ab74be3\/status\"}},\"downloadRequestId\":\"6e498fd5-2dd6-4806-7b62-78995ab74be3\"}","line":14}},{"name":"status 202","result":{"duration":13348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":232625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":350832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":232295,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":337275,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:19.684 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":471479,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":292687,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:19.685 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/6e498fd5-2dd6-4806-7b62-78995ab74be3\/status","line":23}},{"name":"url statusurl","result":{"duration":7097,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":493100564,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:19.686 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/6e498fd5-2dd6-4806-7b62-78995ab74be3\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:20.178 response time in milliseconds: 491.77\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:20 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e80f0dec-5fe0-4d14-b24e-1723821ae3e3\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":13403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":511485928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:20.179 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/6e498fd5-2dd6-4806-7b62-78995ab74be3\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:20.689 response time in milliseconds: 509.63\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:20 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e80f0dec-5fe0-4d14-b24e-1723821ae3e3\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":149639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":212077,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":441934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:20.690 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e80f0dec-5fe0-4d14-b24e-1723821ae3e3\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":250805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":507996848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:20.692 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e80f0dec-5fe0-4d14-b24e-1723821ae3e3\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:21.199 response time in milliseconds: 506.78\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:21 GMT\n4 < Etag: \"dc67a4a81b65cbea52533484f8ed1073-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:19 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0858D682BD9\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":3956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":10682974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":174625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":117105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":168611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:21.210 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":410921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:21.210 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e80f0dec-5fe0-4d14-b24e-1723821ae3e3\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":198655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:21.211 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":249205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":280580,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":3454644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":145304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":639091,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[6] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1072521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":119878,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":802587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:21.222 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":11202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":496805574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:21.234 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\"featuretypes\":[\"perceel\"]}\n\n02:29:21.719 response time in milliseconds: 484.22\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:21 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/1e1688fb-fb99-4bed-7fe3-215d327afcec\/status\"}},\"downloadRequestId\":\"1e1688fb-fb99-4bed-7fe3-215d327afcec\"}","line":14}},{"name":"status 202","result":{"duration":6820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":372746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":476594,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":4385203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":412253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:21.725 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":6609511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":5475592,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:21.737 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/1e1688fb-fb99-4bed-7fe3-215d327afcec\/status","line":23}},{"name":"url statusurl","result":{"duration":9002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":498791040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:21.748 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/1e1688fb-fb99-4bed-7fe3-215d327afcec\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:22.236 response time in milliseconds: 487.31\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:22 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4af853bb-59e0-4dca-a906-af1ec1b2eb04\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":12171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":506133603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:22.237 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/1e1688fb-fb99-4bed-7fe3-215d327afcec\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:22.736 response time in milliseconds: 498.53\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:22 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4af853bb-59e0-4dca-a906-af1ec1b2eb04\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":115269,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":119278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":307429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:22.743 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4af853bb-59e0-4dca-a906-af1ec1b2eb04\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":2138989,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":575723196,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:22.746 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4af853bb-59e0-4dca-a906-af1ec1b2eb04\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:23.321 response time in milliseconds: 574.51\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 648\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:23 GMT\n4 < Etag: \"bbda8b0a7d4d74afb54e7730469aec6f-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:22 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A086089861F9\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6199,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":347770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":165050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":130358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":1982589,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:23.327 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":11566868,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:23.339 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4af853bb-59e0-4dca-a906-af1ec1b2eb04\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":193314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:23.339 [print] size 648","line":42}},{"name":"assert zipsize > 600","result":{"duration":173176,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":6819401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":86688,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":66035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":418142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[7] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"e6640b5a-f20a-450e-9250-986540178c75\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":5126589,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":281273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":208860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:23.354 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"e6640b5a-f20a-450e-9250-986540178c75\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":10947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":501403469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:23.357 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"e6640b5a-f20a-450e-9250-986540178c75\",\"featuretypes\":[\"perceel\"]}\n\n02:29:23.857 response time in milliseconds: 500.07\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:23 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ec52537d-7df0-4a20-7a78-b8b6a961fe92\/status\"}},\"downloadRequestId\":\"ec52537d-7df0-4a20-7a78-b8b6a961fe92\"}","line":14}},{"name":"status 202","result":{"duration":5082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":181814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":1734333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":1318807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":311886,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:23.861 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1399724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":5839490,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:23.868 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ec52537d-7df0-4a20-7a78-b8b6a961fe92\/status","line":23}},{"name":"url statusurl","result":{"duration":7499,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":494338863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:23.869 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ec52537d-7df0-4a20-7a78-b8b6a961fe92\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:24.363 response time in milliseconds: 493.06\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:24 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bd60ac74-563e-4632-a8aa-faeb82f683bd\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":14616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7355,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":494861679,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:24.364 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ec52537d-7df0-4a20-7a78-b8b6a961fe92\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:24.855 response time in milliseconds: 489.99\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:24 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bd60ac74-563e-4632-a8aa-faeb82f683bd\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":113162,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":111272,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":7175720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:24.865 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bd60ac74-563e-4632-a8aa-faeb82f683bd\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":3199135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":605201956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:24.875 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bd60ac74-563e-4632-a8aa-faeb82f683bd\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:25.474 response time in milliseconds: 598.85\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:25 GMT\n4 < Etag: \"9ec220cfb43dd890bb2e210a7eca439e-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:23 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0868BB30760\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":4350172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":4650481,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":160936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":2379703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:25.486 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":3423831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:25.489 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bd60ac74-563e-4632-a8aa-faeb82f683bd\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":2360500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:25.491 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":2696215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":171974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":82294,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":80179,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":2857444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[8] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":3242463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":145424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":1977962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:25.505 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":369705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":494967326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:25.510 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\"featuretypes\":[\"perceel\"]}\n\n02:29:26.000 response time in milliseconds: 490.30\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:25 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f998b70e-8e05-44b7-7998-ead8574592bb\/status\"}},\"downloadRequestId\":\"f998b70e-8e05-44b7-7998-ead8574592bb\"}","line":14}},{"name":"status 202","result":{"duration":6526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":261823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":470148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":302759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":455541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:26.002 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":271990,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":471974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:26.003 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f998b70e-8e05-44b7-7998-ead8574592bb\/status","line":23}},{"name":"url statusurl","result":{"duration":8023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":487912518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:26.004 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f998b70e-8e05-44b7-7998-ead8574592bb\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:26.491 response time in milliseconds: 486.28\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:26 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3495b6c5-cefc-4cdb-bd06-0a42e8656f1c\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":399047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":9027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":525404956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:26.499 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f998b70e-8e05-44b7-7998-ead8574592bb\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:27.017 response time in milliseconds: 517.68\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:26 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3495b6c5-cefc-4cdb-bd06-0a42e8656f1c\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":102862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":108415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":1314250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:27.019 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3495b6c5-cefc-4cdb-bd06-0a42e8656f1c\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":236648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":537353276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:27.021 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3495b6c5-cefc-4cdb-bd06-0a42e8656f1c\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:27.556 response time in milliseconds: 534.79\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 649\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:27 GMT\n4 < Etag: \"148536b4e63d01a35e6bc88e541de8f4-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:26 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08707F16938\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":967793,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":256911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":153586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":216742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:27.558 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":612291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:27.559 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3495b6c5-cefc-4cdb-bd06-0a42e8656f1c\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":322548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:27.559 [print] size 649","line":42}},{"name":"assert zipsize > 600","result":{"duration":193029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":134565,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":72374,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":77920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":483625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[9] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"25e98e4e-ef9b-42d1-a419-03fef9478802\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1293994,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":196843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":253146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:27.564 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"25e98e4e-ef9b-42d1-a419-03fef9478802\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":518294801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:27.565 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"25e98e4e-ef9b-42d1-a419-03fef9478802\",\"featuretypes\":[\"perceel\"]}\n\n02:29:28.083 response time in milliseconds: 516.62\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:28 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/8b8bc3a2-2af3-4e7b-62fa-3c3a3ad4a5db\/status\"}},\"downloadRequestId\":\"8b8bc3a2-2af3-4e7b-62fa-3c3a3ad4a5db\"}","line":14}},{"name":"status 202","result":{"duration":5117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":176350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":346537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":205728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":3755008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:28.087 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1779288,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":2337362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:28.092 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/8b8bc3a2-2af3-4e7b-62fa-3c3a3ad4a5db\/status","line":23}},{"name":"url statusurl","result":{"duration":9832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":545549130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:28.100 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/8b8bc3a2-2af3-4e7b-62fa-3c3a3ad4a5db\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:28.638 response time in milliseconds: 537.79\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:28 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3a4dd7ff-3f43-4d3a-bca5-43ca354b9d9f\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":10240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5883,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":483851855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:28.639 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/8b8bc3a2-2af3-4e7b-62fa-3c3a3ad4a5db\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:29.122 response time in milliseconds: 482.46\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:29 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3a4dd7ff-3f43-4d3a-bca5-43ca354b9d9f\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":114586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":132561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":445591,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:29.123 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3a4dd7ff-3f43-4d3a-bca5-43ca354b9d9f\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":295483,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":541461856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:29.124 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3a4dd7ff-3f43-4d3a-bca5-43ca354b9d9f\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:29.665 response time in milliseconds: 540.17\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 645\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:29 GMT\n4 < Etag: \"18e51b9bdb78075877a878a25b377209-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:28 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08784137CA7\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":3802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":158831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":110790,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":92266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":92124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:29.665 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":266398,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:29.666 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3a4dd7ff-3f43-4d3a-bca5-43ca354b9d9f\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":209308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:29.666 [print] size 645","line":42}},{"name":"assert zipsize > 600","result":{"duration":152805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":104297,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":55432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":52936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":10140523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[10] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9297d9e4-cc92-415f-b258-642b4ecdb967\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1143063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":4282989,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":206844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:29.685 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9297d9e4-cc92-415f-b258-642b4ecdb967\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6599,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":490573053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:29.688 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"9297d9e4-cc92-415f-b258-642b4ecdb967\",\"featuretypes\":[\"perceel\"]}\n\n02:29:30.175 response time in milliseconds: 486.28\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:30 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ed07d173-2134-4ef5-5c18-58763ec09dae\/status\"}},\"downloadRequestId\":\"ed07d173-2134-4ef5-5c18-58763ec09dae\"}","line":14}},{"name":"status 202","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":180389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":343238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":190854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":316735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:30.176 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":214947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":264089,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:30.177 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ed07d173-2134-4ef5-5c18-58763ec09dae\/status","line":23}},{"name":"url statusurl","result":{"duration":6686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":631289617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:30.178 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ed07d173-2134-4ef5-5c18-58763ec09dae\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:30.808 response time in milliseconds: 630.08\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:30 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8e9030a9-a3fe-4063-a005-dd85ae31c2e0\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5495,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":546730358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:30.809 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ed07d173-2134-4ef5-5c18-58763ec09dae\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:31.355 response time in milliseconds: 545.23\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:31 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8e9030a9-a3fe-4063-a005-dd85ae31c2e0\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":108623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":130252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":347846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:31.356 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8e9030a9-a3fe-4063-a005-dd85ae31c2e0\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":212083,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":513519935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:31.357 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8e9030a9-a3fe-4063-a005-dd85ae31c2e0\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:31.869 response time in milliseconds: 512.26\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 648\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:31 GMT\n4 < Etag: \"5aac022dd4b540bb985b9d456ac242f9-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:30 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0880888D529\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":215235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":225692,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":114842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":155512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:31.870 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":16406394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:31.887 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8e9030a9-a3fe-4063-a005-dd85ae31c2e0\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":321375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:31.887 [print] size 648","line":42}},{"name":"assert zipsize > 600","result":{"duration":223127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":153294,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":97474,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":96963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":703388,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[11] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1223705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":163828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":221971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:31.897 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":505640285,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:31.900 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\"featuretypes\":[\"perceel\"]}\n\n02:29:32.403 response time in milliseconds: 502.52\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:32 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3215fdce-0ecc-44fb-5c2c-514f338946b9\/status\"}},\"downloadRequestId\":\"3215fdce-0ecc-44fb-5c2c-514f338946b9\"}","line":14}},{"name":"status 202","result":{"duration":6311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":254501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":369117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":224328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":319366,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:32.404 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":299138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":290619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:32.405 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3215fdce-0ecc-44fb-5c2c-514f338946b9\/status","line":23}},{"name":"url statusurl","result":{"duration":7111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":494702311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:32.406 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3215fdce-0ecc-44fb-5c2c-514f338946b9\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:32.899 response time in milliseconds: 493.42\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:32 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e674f245-5755-4260-99b4-32d2e7d133d6\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":3961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5385,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":495869211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:32.900 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3215fdce-0ecc-44fb-5c2c-514f338946b9\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:33.395 response time in milliseconds: 494.20\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:33 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e674f245-5755-4260-99b4-32d2e7d133d6\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":136616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":153392,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":557004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:33.396 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e674f245-5755-4260-99b4-32d2e7d133d6\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":230445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":507986939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:33.397 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e674f245-5755-4260-99b4-32d2e7d133d6\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:33.905 response time in milliseconds: 506.99\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 12062\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:33 GMT\n4 < Etag: \"6e8415e0e940d65a3873fa1a7f9643b6-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:32 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0888218B275\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":3720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":156624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":144569,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":96613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":112984,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:33.905 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":7158317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:33.912 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e674f245-5755-4260-99b4-32d2e7d133d6\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":217480,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:33.913 [print] size 12062","line":42}},{"name":"assert zipsize > 600","result":{"duration":153041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":110585,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":48141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":60091,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":409409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[12] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":3174346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":119270,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":116747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:33.919 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1584729066,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:33.923 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\"featuretypes\":[\"perceel\"]}\n\n02:29:35.503 response time in milliseconds: 1579.89\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:35 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2b72365b-f226-489d-74c6-fa97bc1eb245\/status\"}},\"downloadRequestId\":\"2b72365b-f226-489d-74c6-fa97bc1eb245\"}","line":14}},{"name":"status 202","result":{"duration":5461,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":159926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":341028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":1000967,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":262603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:35.505 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":205721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":253567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:35.506 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2b72365b-f226-489d-74c6-fa97bc1eb245\/status","line":23}},{"name":"url statusurl","result":{"duration":6686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":484427205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:35.507 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2b72365b-f226-489d-74c6-fa97bc1eb245\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:35.990 response time in milliseconds: 483.39\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:35 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/57854703-b5fd-45fd-b400-4d78cf263291\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5673,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":493197056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:35.991 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2b72365b-f226-489d-74c6-fa97bc1eb245\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:36.480 response time in milliseconds: 488.33\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:36 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/57854703-b5fd-45fd-b400-4d78cf263291\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":109762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":101357,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":303678,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:36.484 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/57854703-b5fd-45fd-b400-4d78cf263291\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":311929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":513713903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:36.485 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/57854703-b5fd-45fd-b400-4d78cf263291\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:36.998 response time in milliseconds: 512.66\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:36 GMT\n4 < Etag: \"78b04ed2ab8b9dffa9e1df5e881ce6b2-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:35 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08939F89C73\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":506858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":261491,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":167284,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":155086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:37.000 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":457465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:37.000 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/57854703-b5fd-45fd-b400-4d78cf263291\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":1526472,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:37.002 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":332102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":142485,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":158927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":89145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":613223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[13] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":2906363,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":195995,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":136464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:37.012 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":511128342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:37.014 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\"featuretypes\":[\"perceel\"]}\n\n02:29:37.523 response time in milliseconds: 508.16\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:37 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7248926a-2fc4-472f-47ce-281b5cf3daa7\/status\"}},\"downloadRequestId\":\"7248926a-2fc4-472f-47ce-281b5cf3daa7\"}","line":14}},{"name":"status 202","result":{"duration":10320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":3117626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":179018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":56576,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":291997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:37.530 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":163975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":297966,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:37.530 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7248926a-2fc4-472f-47ce-281b5cf3daa7\/status","line":23}},{"name":"url statusurl","result":{"duration":18363,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":487030331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:37.531 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7248926a-2fc4-472f-47ce-281b5cf3daa7\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:38.017 response time in milliseconds: 485.69\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:37 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47ab3b40-517c-4174-8fab-d7e82e034c91\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5598,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":512289282,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:38.021 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7248926a-2fc4-472f-47ce-281b5cf3daa7\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:38.529 response time in milliseconds: 508.14\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:38 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47ab3b40-517c-4174-8fab-d7e82e034c91\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":89783,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":163137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":257138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:38.530 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47ab3b40-517c-4174-8fab-d7e82e034c91\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":121841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":505070634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:38.531 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47ab3b40-517c-4174-8fab-d7e82e034c91\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:39.035 response time in milliseconds: 503.99\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:38 GMT\n4 < Etag: \"a25a0dbd96d79fd305a5d83a8c9e8991-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:37 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A089B4101D7A\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":266370,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":112601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":136988,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":125880,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:39.036 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":6628141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:39.037 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47ab3b40-517c-4174-8fab-d7e82e034c91\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":180262,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:39.043 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":836664,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":172608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":65774,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":64360,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":304992,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[14] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":989512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":60640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":2440150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:39.050 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":488640399,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:39.054 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\"featuretypes\":[\"perceel\"]}\n\n02:29:39.539 response time in milliseconds: 484.32\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:39 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e9ae0160-6d1b-4ea2-53c7-b66ebdc24030\/status\"}},\"downloadRequestId\":\"e9ae0160-6d1b-4ea2-53c7-b66ebdc24030\"}","line":14}},{"name":"status 202","result":{"duration":7381,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":176481,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":264557,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":124574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":299841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:39.540 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":116116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":130460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:39.540 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e9ae0160-6d1b-4ea2-53c7-b66ebdc24030\/status","line":23}},{"name":"url statusurl","result":{"duration":6627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":506267615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:39.541 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e9ae0160-6d1b-4ea2-53c7-b66ebdc24030\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:40.046 response time in milliseconds: 505.06\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:39 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/91c3f7c6-cc2d-4407-9c50-e535ee8e7392\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4987,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":8129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":505318318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:40.047 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e9ae0160-6d1b-4ea2-53c7-b66ebdc24030\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:40.551 response time in milliseconds: 503.86\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:40 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/91c3f7c6-cc2d-4407-9c50-e535ee8e7392\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":128217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":150156,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":3427510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:40.556 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/91c3f7c6-cc2d-4407-9c50-e535ee8e7392\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":136201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":492120205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:40.557 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/91c3f7c6-cc2d-4407-9c50-e535ee8e7392\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:41.048 response time in milliseconds: 491.05\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 646\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:40 GMT\n4 < Etag: \"8b990ce3263c1e70d0728bec9587e057-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:39 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08A2CC6C67E\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":5893581,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":165721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":133933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":740196,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:41.055 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":1221749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:41.056 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/91c3f7c6-cc2d-4407-9c50-e535ee8e7392\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":819812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:41.057 [print] size 646","line":42}},{"name":"assert zipsize > 600","result":{"duration":121278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":157663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":89064,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":96409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":238444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[15] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":887951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":50874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":108153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:41.061 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":1950085,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":491758421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:41.064 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\"featuretypes\":[\"perceel\"]}\n\n02:29:41.555 response time in milliseconds: 490.55\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:41 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3969a179-fc1d-4e9d-740e-e29a23b606ea\/status\"}},\"downloadRequestId\":\"3969a179-fc1d-4e9d-740e-e29a23b606ea\"}","line":14}},{"name":"status 202","result":{"duration":6310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":279908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":233826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":110818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":319728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:41.561 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":175981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":177280,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:41.562 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3969a179-fc1d-4e9d-740e-e29a23b606ea\/status","line":23}},{"name":"url statusurl","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":495933245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:41.563 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3969a179-fc1d-4e9d-740e-e29a23b606ea\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:42.057 response time in milliseconds: 488.01\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:41 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7904a36b-92ae-4c62-934b-ad6d6d05ea32\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":19332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":12221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":507410321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:42.061 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3969a179-fc1d-4e9d-740e-e29a23b606ea\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:42.564 response time in milliseconds: 503.05\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:42 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7904a36b-92ae-4c62-934b-ad6d6d05ea32\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":1054704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":555970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":260135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:42.568 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7904a36b-92ae-4c62-934b-ad6d6d05ea32\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":96975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":528416589,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:42.571 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7904a36b-92ae-4c62-934b-ad6d6d05ea32\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:43.097 response time in milliseconds: 525.62\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:43 GMT\n4 < Etag: \"417007145eab17996b2c8150bddb2829-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:41 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08AA6696E0B\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":9171948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":213354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":130993,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":2991730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:43.110 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":783847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:43.111 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7904a36b-92ae-4c62-934b-ad6d6d05ea32\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":521965,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:43.112 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":118136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":2148246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":95572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":77305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":240559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[16] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"a7ced3a4-8dd3-44df-8774-f08d01839035\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":2621557,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":69217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":180212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:43.119 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"a7ced3a4-8dd3-44df-8774-f08d01839035\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":37183,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1594901574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:43.124 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"a7ced3a4-8dd3-44df-8774-f08d01839035\",\"featuretypes\":[\"perceel\"]}\n\n02:29:44.715 response time in milliseconds: 1590.77\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:44 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/d58f4161-d662-4290-7f42-71bb24c40146\/status\"}},\"downloadRequestId\":\"d58f4161-d662-4290-7f42-71bb24c40146\"}","line":14}},{"name":"status 202","result":{"duration":5187,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":214860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":5304734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":121730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":292520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:44.722 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":115346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":181648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:44.722 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/d58f4161-d662-4290-7f42-71bb24c40146\/status","line":23}},{"name":"url statusurl","result":{"duration":6883,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":564692491,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:44.723 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/d58f4161-d662-4290-7f42-71bb24c40146\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:45.287 response time in milliseconds: 563.37\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:45 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8976d67b-8b75-47ec-947b-5387760471bf\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":11009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":40599,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":514170088,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:45.288 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/d58f4161-d662-4290-7f42-71bb24c40146\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:45.798 response time in milliseconds: 509.67\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:45 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8976d67b-8b75-47ec-947b-5387760471bf\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":132139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":152687,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":197183,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:45.802 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8976d67b-8b75-47ec-947b-5387760471bf\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":99631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":522288566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:45.803 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8976d67b-8b75-47ec-947b-5387760471bf\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:46.325 response time in milliseconds: 521.31\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:46 GMT\n4 < Etag: \"b6d54bba3957ba4f26283dd007c58bdf-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:45 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08B65E6B09F\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":6175836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":192719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":91182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":110338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:46.331 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":262845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:46.332 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8976d67b-8b75-47ec-947b-5387760471bf\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":214791,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:46.332 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":139986,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":190187,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":73762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":84852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":335485,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[17] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"3021d17f-c396-4704-8770-d0231e9d5d9b\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":863727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":56748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":147340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:46.336 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"3021d17f-c396-4704-8770-d0231e9d5d9b\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":493981117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:46.337 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"3021d17f-c396-4704-8770-d0231e9d5d9b\",\"featuretypes\":[\"perceel\"]}\n\n02:29:46.830 response time in milliseconds: 492.69\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:46 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/9a2cc01b-05a4-4ec7-5cae-bec5c851e595\/status\"}},\"downloadRequestId\":\"9a2cc01b-05a4-4ec7-5cae-bec5c851e595\"}","line":14}},{"name":"status 202","result":{"duration":5577,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":159490,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":122623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":87495,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":255284,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:46.831 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":101997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":128502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:46.831 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/9a2cc01b-05a4-4ec7-5cae-bec5c851e595\/status","line":23}},{"name":"url statusurl","result":{"duration":5651,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":566302848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:46.832 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/9a2cc01b-05a4-4ec7-5cae-bec5c851e595\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:47.398 response time in milliseconds: 565.34\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:47 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/c1b29ad8-bbdc-4c8b-b9e7-b2f2f24f4aab\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":3733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":4065,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":495062291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:47.398 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/9a2cc01b-05a4-4ec7-5cae-bec5c851e595\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:47.889 response time in milliseconds: 490.59\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:47 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/c1b29ad8-bbdc-4c8b-b9e7-b2f2f24f4aab\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":164865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":116369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":277508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:47.893 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/c1b29ad8-bbdc-4c8b-b9e7-b2f2f24f4aab\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":96988,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":532138123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:47.895 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/c1b29ad8-bbdc-4c8b-b9e7-b2f2f24f4aab\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:48.426 response time in milliseconds: 530.31\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 648\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:48 GMT\n4 < Etag: \"6d57a6d0b095c73a38c1e5cb98bc89bf-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:46 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08BE27BFA03\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6893,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":2570932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":112166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":90033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":110341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:48.429 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":207572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:48.429 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/c1b29ad8-bbdc-4c8b-b9e7-b2f2f24f4aab\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":133044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:48.429 [print] size 648","line":42}},{"name":"assert zipsize > 600","result":{"duration":87715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":87393,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":33155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":38211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":161056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[18] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"199c4014-5688-4581-9513-9d8bc2f0c040\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":739617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":50124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":116536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:48.436 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"199c4014-5688-4581-9513-9d8bc2f0c040\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6557,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":486648797,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:48.437 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"199c4014-5688-4581-9513-9d8bc2f0c040\",\"featuretypes\":[\"perceel\"]}\n\n02:29:48.920 response time in milliseconds: 481.88\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:48 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/258a1bef-838d-425b-6cee-33aae50828f0\/status\"}},\"downloadRequestId\":\"258a1bef-838d-425b-6cee-33aae50828f0\"}","line":14}},{"name":"status 202","result":{"duration":7690,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":211865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":208688,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":79411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":919634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:48.924 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1372411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":739455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:48.926 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/258a1bef-838d-425b-6cee-33aae50828f0\/status","line":23}},{"name":"url statusurl","result":{"duration":10635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":483729619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:48.929 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/258a1bef-838d-425b-6cee-33aae50828f0\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:49.410 response time in milliseconds: 480.98\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:49 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/837f44df-2ca7-49bb-95d6-f1421971aa99\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":499252554,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:49.412 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/258a1bef-838d-425b-6cee-33aae50828f0\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:49.910 response time in milliseconds: 497.93\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:49 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/837f44df-2ca7-49bb-95d6-f1421971aa99\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":87141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":101400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":177084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:49.910 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/837f44df-2ca7-49bb-95d6-f1421971aa99\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":96243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":499733988,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:49.911 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/837f44df-2ca7-49bb-95d6-f1421971aa99\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:50.410 response time in milliseconds: 498.88\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:50 GMT\n4 < Etag: \"f996ab173a9cc9b6e614d6241ebb36be-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:49 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08C5A4A0223\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":8058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":6789119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":128991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":125414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":152748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:50.418 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":826642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:50.418 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/837f44df-2ca7-49bb-95d6-f1421971aa99\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":186041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:50.419 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":85408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":144738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":58603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":61177,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":236171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[19] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"74c6011e-9871-4f8a-b911-0142eea98ee7\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1080823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":61680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":133901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:50.426 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"74c6011e-9871-4f8a-b911-0142eea98ee7\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6468,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1770111623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:50.426 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"74c6011e-9871-4f8a-b911-0142eea98ee7\",\"featuretypes\":[\"perceel\"]}\n\n02:29:52.196 response time in milliseconds: 1768.98\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:52 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/db407a7d-08a4-4b73-50bf-655d3a551c17\/status\"}},\"downloadRequestId\":\"db407a7d-08a4-4b73-50bf-655d3a551c17\"}","line":14}},{"name":"status 202","result":{"duration":6747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":211779,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":1851376,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":93144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":214962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:52.201 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1330158,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":2079348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:52.205 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/db407a7d-08a4-4b73-50bf-655d3a551c17\/status","line":23}},{"name":"url statusurl","result":{"duration":6369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":485495944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:52.207 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/db407a7d-08a4-4b73-50bf-655d3a551c17\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:52.692 response time in milliseconds: 484.49\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:52 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e915dc7c-d20d-4dd0-aac0-10b57895dd5b\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":77414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":484110007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:52.697 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/db407a7d-08a4-4b73-50bf-655d3a551c17\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:53.179 response time in milliseconds: 482.52\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:53 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e915dc7c-d20d-4dd0-aac0-10b57895dd5b\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":167545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":146729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":4116002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:53.185 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e915dc7c-d20d-4dd0-aac0-10b57895dd5b\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":8052662,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":503329579,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:53.194 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e915dc7c-d20d-4dd0-aac0-10b57895dd5b\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:53.696 response time in milliseconds: 501.47\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 3662\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:53 GMT\n4 < Etag: \"f5b6f691234ebd6eef6158db183ddde0-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:52 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08D1E669D43\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":8302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":509902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":353069,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":276916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":3296684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:53.701 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":6456859,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:53.707 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e915dc7c-d20d-4dd0-aac0-10b57895dd5b\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":760042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:53.708 [print] size 3662","line":42}},{"name":"assert zipsize > 600","result":{"duration":7738414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":141706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":55060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":57925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":14698201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[20] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":8900395,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":1196748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":156748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:53.747 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":1431991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":490352418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:53.753 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\"featuretypes\":[\"perceel\"]}\n\n02:29:54.239 response time in milliseconds: 484.98\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:54 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/b413d43b-48e0-42b3-6d4f-5e1204648950\/status\"}},\"downloadRequestId\":\"b413d43b-48e0-42b3-6d4f-5e1204648950\"}","line":14}},{"name":"status 202","result":{"duration":7438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":1739105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":2269587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":124400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":233533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:54.243 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":192780,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":229330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:54.244 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/b413d43b-48e0-42b3-6d4f-5e1204648950\/status","line":23}},{"name":"url statusurl","result":{"duration":5430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":482003923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:54.245 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/b413d43b-48e0-42b3-6d4f-5e1204648950\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:54.726 response time in milliseconds: 480.86\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:54 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6d8a1322-819b-42ba-8114-f1a720b276d1\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6087,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":491269391,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:54.732 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/b413d43b-48e0-42b3-6d4f-5e1204648950\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:55.219 response time in milliseconds: 486.47\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:55 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6d8a1322-819b-42ba-8114-f1a720b276d1\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":221814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":162375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":777849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:55.220 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6d8a1322-819b-42ba-8114-f1a720b276d1\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":252414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":518445507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:55.222 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6d8a1322-819b-42ba-8114-f1a720b276d1\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:55.739 response time in milliseconds: 516.99\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:55 GMT\n4 < Etag: \"b32cda4760eafa078cc86bc60e0a9c51-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:54 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08D96FD1FAE\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":148813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":89527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":87802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":98059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:55.740 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":243070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:55.740 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6d8a1322-819b-42ba-8114-f1a720b276d1\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":130464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:55.740 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":176129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":115955,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":89009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":215109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":8240227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[21] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":4540127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":102213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":209987,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:55.758 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":481701125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:55.759 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\"featuretypes\":[\"perceel\"]}\n\n02:29:56.240 response time in milliseconds: 480.73\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:56 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/367ba3a6-75ea-4d8c-6139-aa6a51385e33\/status\"}},\"downloadRequestId\":\"367ba3a6-75ea-4d8c-6139-aa6a51385e33\"}","line":14}},{"name":"status 202","result":{"duration":4737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":90983,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":157972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":49861,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":222910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:56.241 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":161439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":151044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:56.241 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/367ba3a6-75ea-4d8c-6139-aa6a51385e33\/status","line":23}},{"name":"url statusurl","result":{"duration":3924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":480921913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:56.242 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/367ba3a6-75ea-4d8c-6139-aa6a51385e33\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:56.722 response time in milliseconds: 479.93\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:56 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6d5572b8-d4c5-4294-a299-01b8a5ae2090\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":7243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":492470785,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:56.729 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/367ba3a6-75ea-4d8c-6139-aa6a51385e33\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:57.209 response time in milliseconds: 479.40\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:57 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6d5572b8-d4c5-4294-a299-01b8a5ae2090\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":135259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":128628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":498045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:57.216 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6d5572b8-d4c5-4294-a299-01b8a5ae2090\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":204881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":495592861,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:57.218 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6d5572b8-d4c5-4294-a299-01b8a5ae2090\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:57.711 response time in milliseconds: 493.25\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:57 GMT\n4 < Etag: \"219d99bea4564b3b6e1b3409cee9467a-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:56 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08E0DE42F02\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":361521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":140845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":248828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":193064,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:57.713 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":522155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:57.713 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6d5572b8-d4c5-4294-a299-01b8a5ae2090\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":554948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:57.714 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":1148988,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":757875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":400317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":427863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":1444975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[22] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"74059578-fae6-4945-9c61-b14d8315506f\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1005010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":107841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":119322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:57.721 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"74059578-fae6-4945-9c61-b14d8315506f\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1832215755,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:57.722 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"74059578-fae6-4945-9c61-b14d8315506f\",\"featuretypes\":[\"perceel\"]}\n\n02:29:59.553 response time in milliseconds: 1830.88\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:59 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7d15b398-d542-440c-6e44-86a57e21b566\/status\"}},\"downloadRequestId\":\"7d15b398-d542-440c-6e44-86a57e21b566\"}","line":14}},{"name":"status 202","result":{"duration":88738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":183900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":243283,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":59139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":232323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:59.560 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":181643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":151273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:59.560 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7d15b398-d542-440c-6e44-86a57e21b566\/status","line":23}},{"name":"url statusurl","result":{"duration":4570,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":501557999,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:59.561 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7d15b398-d542-440c-6e44-86a57e21b566\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:00.061 response time in milliseconds: 500.42\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:59 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d500d085-66e1-4211-a03e-48c5b6b3cec1\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":500578236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:00.062 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7d15b398-d542-440c-6e44-86a57e21b566\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:00.562 response time in milliseconds: 499.44\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:00 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d500d085-66e1-4211-a03e-48c5b6b3cec1\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":111837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":139825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":334940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:00.563 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d500d085-66e1-4211-a03e-48c5b6b3cec1\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":221890,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":508871938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:00.564 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d500d085-66e1-4211-a03e-48c5b6b3cec1\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:01.072 response time in milliseconds: 508.06\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 5140\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:01 GMT\n4 < Etag: \"963068884df1168ec0f1d0c109c19883-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:59 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08ED5E25F61\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7383,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":232680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":78287,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":101371,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":125042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:01.073 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":325253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:01.073 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d500d085-66e1-4211-a03e-48c5b6b3cec1\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":135649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:01.073 [print] size 5140","line":42}},{"name":"assert zipsize > 600","result":{"duration":186626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":113170,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":49821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":55870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":405313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[23] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"7846306d-9db1-47be-bb67-960c8db4901b\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1304757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":103018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":111560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:01.077 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"7846306d-9db1-47be-bb67-960c8db4901b\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":512908291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:01.078 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"7846306d-9db1-47be-bb67-960c8db4901b\",\"featuretypes\":[\"perceel\"]}\n\n02:30:01.585 response time in milliseconds: 506.81\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:01 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3f66f15d-de7e-4dba-73d8-fe27c039218b\/status\"}},\"downloadRequestId\":\"3f66f15d-de7e-4dba-73d8-fe27c039218b\"}","line":14}},{"name":"status 202","result":{"duration":10265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":294697,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":341209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":121810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":352760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:01.592 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1096813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":218617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:01.593 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3f66f15d-de7e-4dba-73d8-fe27c039218b\/status","line":23}},{"name":"url statusurl","result":{"duration":5074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":504816650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:01.597 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3f66f15d-de7e-4dba-73d8-fe27c039218b\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:02.098 response time in milliseconds: 500.94\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:02 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6281997c-07ac-4f0c-a203-7329d4348a56\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":3794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":3725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":479137548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:02.099 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3f66f15d-de7e-4dba-73d8-fe27c039218b\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:02.577 response time in milliseconds: 477.90\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:02 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6281997c-07ac-4f0c-a203-7329d4348a56\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":199898,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":157510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":7823629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:02.585 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6281997c-07ac-4f0c-a203-7329d4348a56\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":223040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":508182864,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:02.586 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6281997c-07ac-4f0c-a203-7329d4348a56\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:03.094 response time in milliseconds: 507.29\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 3799\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:03 GMT\n4 < Etag: \"367772b872e3861ca9001268608723b3-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:01 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08F4EAD518F\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":342021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":148841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":162350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":325041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:03.095 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":627862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:03.096 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/6281997c-07ac-4f0c-a203-7329d4348a56\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":290133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:03.096 [print] size 3799","line":42}},{"name":"assert zipsize > 600","result":{"duration":300948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":120623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":70688,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":59404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":488491,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[24] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":896311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":87464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":192465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:03.100 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":493061830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:03.101 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\"featuretypes\":[\"perceel\"]}\n\n02:30:03.593 response time in milliseconds: 491.87\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:03 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e3611f65-419c-4ca1-5c55-8f8158e40a2b\/status\"}},\"downloadRequestId\":\"e3611f65-419c-4ca1-5c55-8f8158e40a2b\"}","line":14}},{"name":"status 202","result":{"duration":8207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":164529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":400243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":76459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":265139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:03.594 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":206569,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":221466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:03.595 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e3611f65-419c-4ca1-5c55-8f8158e40a2b\/status","line":23}},{"name":"url statusurl","result":{"duration":4567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":491733504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:03.595 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e3611f65-419c-4ca1-5c55-8f8158e40a2b\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:04.086 response time in milliseconds: 490.81\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 161\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:04 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e3611f65-419c-4ca1-5c55-8f8158e40a2b\/status\"}},\"progress\":100,\"status\":\"RUNNING\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6288,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":519286646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:04.093 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e3611f65-419c-4ca1-5c55-8f8158e40a2b\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:04.606 response time in milliseconds: 512.42\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:04 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/dd3bb7c1-1fc8-4adb-adbc-4eb56081e7bf\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":126345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":147325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":378066,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:04.607 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/dd3bb7c1-1fc8-4adb-adbc-4eb56081e7bf\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":404370,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":523482299,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:04.608 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/dd3bb7c1-1fc8-4adb-adbc-4eb56081e7bf\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:05.131 response time in milliseconds: 522.26\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:05 GMT\n4 < Etag: \"92a31e4c408834196cb17f0575b62e90-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:04 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08FC6B8BC1C\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":1878692,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":114701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":117897,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":154193,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:05.133 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":378439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:05.134 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/dd3bb7c1-1fc8-4adb-adbc-4eb56081e7bf\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":272940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:05.134 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":9153480,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":107470,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":36193,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":40939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":321048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[25] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":6572064,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":89277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":1712960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:05.153 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":8606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":484579916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:05.154 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\"featuretypes\":[\"perceel\"]}\n\n02:30:05.638 response time in milliseconds: 483.57\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:05 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/514f8c2c-2a67-4cec-51cb-a61efb014133\/status\"}},\"downloadRequestId\":\"514f8c2c-2a67-4cec-51cb-a61efb014133\"}","line":14}},{"name":"status 202","result":{"duration":13089,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":125942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":169355,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":121940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":1011165,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:05.640 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":466286,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":313035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:05.640 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/514f8c2c-2a67-4cec-51cb-a61efb014133\/status","line":23}},{"name":"url statusurl","result":{"duration":4925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":489847314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:05.641 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/514f8c2c-2a67-4cec-51cb-a61efb014133\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:06.130 response time in milliseconds: 488.49\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:06 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bb4a0d1d-9ad2-4ced-9925-e6874b5432b9\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6894,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":498057928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:06.131 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/514f8c2c-2a67-4cec-51cb-a61efb014133\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:06.628 response time in milliseconds: 496.70\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:06 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bb4a0d1d-9ad2-4ced-9925-e6874b5432b9\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":106957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":99213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":244902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:06.629 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bb4a0d1d-9ad2-4ced-9925-e6874b5432b9\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":191497,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":501386555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:06.630 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bb4a0d1d-9ad2-4ced-9925-e6874b5432b9\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:07.131 response time in milliseconds: 500.44\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:07 GMT\n4 < Etag: \"c8f2175def4cc3b38c3303512dfa1088-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:05 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0903F5A9585\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":8150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":306515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":273096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":163397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":192846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:07.132 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":181904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:07.132 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bb4a0d1d-9ad2-4ced-9925-e6874b5432b9\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":214413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:07.132 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":151939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":173232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":174785,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":148642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":366166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[26] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":862995,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":50058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":137373,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:07.138 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":513726367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:07.139 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\"featuretypes\":[\"perceel\"]}\n\n02:30:07.652 response time in milliseconds: 511.91\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:07 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/0ed46d2e-e940-4147-7188-ee4a4e033ace\/status\"}},\"downloadRequestId\":\"0ed46d2e-e940-4147-7188-ee4a4e033ace\"}","line":14}},{"name":"status 202","result":{"duration":7793,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":154936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":161318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":74049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":358059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:07.653 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":97663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":210798,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:07.653 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/0ed46d2e-e940-4147-7188-ee4a4e033ace\/status","line":23}},{"name":"url statusurl","result":{"duration":4797,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":481755748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:07.654 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/0ed46d2e-e940-4147-7188-ee4a4e033ace\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:08.135 response time in milliseconds: 480.73\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:08 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/efb25065-f0ce-4ea0-a766-b11b1759e1c5\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":7311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":485979566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:08.141 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/0ed46d2e-e940-4147-7188-ee4a4e033ace\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:08.621 response time in milliseconds: 478.97\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:08 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/efb25065-f0ce-4ea0-a766-b11b1759e1c5\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":175406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":127182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":314363,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:08.622 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/efb25065-f0ce-4ea0-a766-b11b1759e1c5\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":175312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":507921060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:08.623 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/efb25065-f0ce-4ea0-a766-b11b1759e1c5\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:09.130 response time in milliseconds: 507.00\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 648\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:09 GMT\n4 < Etag: \"b0a16c2ffb0434982c113c496bffdecf-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:07 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A090B5BAECE0\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":8159,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":2357933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":108528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":88146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":105730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:09.133 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":180990,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:09.133 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/efb25065-f0ce-4ea0-a766-b11b1759e1c5\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":130644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:09.133 [print] size 648","line":42}},{"name":"assert zipsize > 600","result":{"duration":87564,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":85490,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":32905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":35787,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":164751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[27] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":6123371,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":47051,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":3834534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:09.145 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":9097,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":612064920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:09.146 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\"featuretypes\":[\"perceel\"]}\n\n02:30:09.757 response time in milliseconds: 611.04\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:09 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e6d00f47-46e5-425c-6aff-d0083c42214a\/status\"}},\"downloadRequestId\":\"e6d00f47-46e5-425c-6aff-d0083c42214a\"}","line":14}},{"name":"status 202","result":{"duration":8429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":145261,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":254947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":107055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":307633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:09.758 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":100675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":195933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:09.759 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e6d00f47-46e5-425c-6aff-d0083c42214a\/status","line":23}},{"name":"url statusurl","result":{"duration":4974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":528679099,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:09.760 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e6d00f47-46e5-425c-6aff-d0083c42214a\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:10.287 response time in milliseconds: 527.41\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:10 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e778c952-98f1-408d-a076-93e6932d77f1\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":7948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6867,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":618737493,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:10.288 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e6d00f47-46e5-425c-6aff-d0083c42214a\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:10.906 response time in milliseconds: 617.25\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:10 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e778c952-98f1-408d-a076-93e6932d77f1\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":123047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":177326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":305488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:10.907 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e778c952-98f1-408d-a076-93e6932d77f1\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":109839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":595710349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:10.908 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e778c952-98f1-408d-a076-93e6932d77f1\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:11.503 response time in milliseconds: 594.53\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:11 GMT\n4 < Etag: \"9b9e564bd695361e13cefa81a2ef7182-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:09 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0913EF5EBFD\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":8417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":235207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":98502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":112774,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":115730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:11.503 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":196603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:11.504 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e778c952-98f1-408d-a076-93e6932d77f1\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":155970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:11.504 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":99414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":96145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":40094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":79537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":182561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[28] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":789619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":70828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":122586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:11.507 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":24070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2318359039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:11.508 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\"featuretypes\":[\"perceel\"]}\n\n02:30:13.825 response time in milliseconds: 2316.94\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:13 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cefe9611-b5a3-43ef-75c6-c8f388428115\/status\"}},\"downloadRequestId\":\"cefe9611-b5a3-43ef-75c6-c8f388428115\"}","line":14}},{"name":"status 202","result":{"duration":5728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":131761,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":114049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":56898,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":231915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:13.826 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":7467715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":143430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:13.834 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cefe9611-b5a3-43ef-75c6-c8f388428115\/status","line":23}},{"name":"url statusurl","result":{"duration":4807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":485446351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:13.834 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cefe9611-b5a3-43ef-75c6-c8f388428115\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:14.319 response time in milliseconds: 484.60\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:14 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8a3b2a05-e100-449f-b96b-a2f5e9d57b56\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":604805935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:14.326 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cefe9611-b5a3-43ef-75c6-c8f388428115\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:14.924 response time in milliseconds: 597.50\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:14 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8a3b2a05-e100-449f-b96b-a2f5e9d57b56\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":66114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":107592,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":172979,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:14.924 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8a3b2a05-e100-449f-b96b-a2f5e9d57b56\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":88857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":541799340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:14.925 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8a3b2a05-e100-449f-b96b-a2f5e9d57b56\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:15.466 response time in milliseconds: 540.56\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 647\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:15 GMT\n4 < Etag: \"41ce5f6e48700b307ec6d237fb8dba48-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:13 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0922FAA6F7C\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":9202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":308241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":148966,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":124071,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":133698,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:15.467 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":219845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:15.468 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/8a3b2a05-e100-449f-b96b-a2f5e9d57b56\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":260516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:15.468 [print] size 647","line":42}},{"name":"assert zipsize > 600","result":{"duration":109380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":102691,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":50653,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":60461,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":212347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[29] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":955233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":74360,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":171309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:15.476 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\n  \"featuretypes\": [\n    \"perceel\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7677,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":490386690,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:15.477 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 267\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\"featuretypes\":[\"perceel\"]}\n\n02:30:15.966 response time in milliseconds: 489.31\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:15 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ab1759dc-e933-44bd-48d3-dfc3750db105\/status\"}},\"downloadRequestId\":\"ab1759dc-e933-44bd-48d3-dfc3750db105\"}","line":14}},{"name":"status 202","result":{"duration":9136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":114291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":168724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":251605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:15.967 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":104276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":120937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:15.967 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ab1759dc-e933-44bd-48d3-dfc3750db105\/status","line":23}},{"name":"url statusurl","result":{"duration":4975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":486518881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:15.968 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ab1759dc-e933-44bd-48d3-dfc3750db105\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:16.454 response time in milliseconds: 485.67\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:16 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3334de3a-f2c5-4f11-a6b0-52c2eba24609\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":7912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5596,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":498896605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:16.455 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ab1759dc-e933-44bd-48d3-dfc3750db105\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:16.945 response time in milliseconds: 489.78\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:16 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3334de3a-f2c5-4f11-a6b0-52c2eba24609\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":151248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":103845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":2100880,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:16.955 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3334de3a-f2c5-4f11-a6b0-52c2eba24609\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":1693455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":528389384,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:16.959 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3334de3a-f2c5-4f11-a6b0-52c2eba24609\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:17.485 response time in milliseconds: 526.27\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 12999\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:17 GMT\n4 < Etag: \"34af494e490096f7fb71953942230cca-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:16 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A092A7806073\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":10021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":642061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":259665,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":495146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":310676,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:17.488 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":757035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:17.488 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3334de3a-f2c5-4f11-a6b0-52c2eba24609\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":432709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:17.489 [print] size 12999","line":42}},{"name":"assert zipsize > 600","result":{"duration":261578,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":253741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":270453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":120840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":472013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48}]},{"line":39,"name":"downoad deltas op locatie buitenhof kadastralegrens","description":"","id":"downoad-deltas-op-locatie-buitenhof-kadastralegrens","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"print \"bepaal een delta ids \"","result":{"duration":10509148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7,"doc_string":{"content_type":"","value":"02:29:20.243 base url : {\n  \"apiBaseUrl\": \"https:\/\/downloads.pdok.nl\/\"\n}\n \n02:29:20.253 [print] bepaal een delta ids","line":7}},{"name":"url apiBaseUrl + 'kadastralekaart\/api\/v4_0\/delta'","result":{"duration":1615849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":8},{"name":"param count = 1000","result":{"duration":1056813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":9},{"name":"param after-delta-id = \"b2219778-e94c-40b0-92bd-95e3491af2bb\"","result":{"duration":972175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":10},{"name":"method GET","result":{"duration":702738040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":11,"doc_string":{"content_type":"","value":"02:29:20.258 request:\n1 > GET https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta?count=1000&after-delta-id=b2219778-e94c-40b0-92bd-95e3491af2bb\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:20.960 response time in milliseconds: 697.20\n1 < 200\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:20 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < Transfer-Encoding: chunked\n1 < X-Cnection: close\n{\"deltas\":[{\"id\":\"2b104759-f77d-496a-94e4-7064f199b446\",\"timeWindow\":{\"from\":\"2021-05-15T21:59:59Z\",\"to\":\"2021-05-16T21:59:59Z\"}},{\"id\":\"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\"timeWindow\":{\"from\":\"2021-05-16T21:59:59Z\",\"to\":\"2021-05-17T21:59:59Z\"}},{\"id\":\"801a3c3e-a010-4fff-9c4a-812d7c813674\",\"timeWindow\":{\"from\":\"2021-05-17T21:59:59Z\",\"to\":\"2021-05-18T21:59:59Z\"}},{\"id\":\"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\"timeWindow\":{\"from\":\"2021-05-18T21:59:59Z\",\"to\":\"2021-05-19T21:59:59Z\"}},{\"id\":\"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\"timeWindow\":{\"from\":\"2021-05-19T21:59:59Z\",\"to\":\"2021-05-20T21:59:59Z\"}},{\"id\":\"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\"timeWindow\":{\"from\":\"2021-05-20T21:59:59Z\",\"to\":\"2021-05-21T21:59:59Z\"}},{\"id\":\"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\"timeWindow\":{\"from\":\"2021-05-21T21:59:59Z\",\"to\":\"2021-05-22T21:59:59Z\"}},{\"id\":\"e6640b5a-f20a-450e-9250-986540178c75\",\"timeWindow\":{\"from\":\"2021-05-22T21:59:59Z\",\"to\":\"2021-05-23T21:59:59Z\"}},{\"id\":\"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\"timeWindow\":{\"from\":\"2021-05-23T21:59:59Z\",\"to\":\"2021-05-24T21:59:59Z\"}},{\"id\":\"25e98e4e-ef9b-42d1-a419-03fef9478802\",\"timeWindow\":{\"from\":\"2021-05-24T21:59:59Z\",\"to\":\"2021-05-25T21:59:59Z\"}},{\"id\":\"9297d9e4-cc92-415f-b258-642b4ecdb967\",\"timeWindow\":{\"from\":\"2021-05-25T21:59:59Z\",\"to\":\"2021-05-26T21:59:59Z\"}},{\"id\":\"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\"timeWindow\":{\"from\":\"2021-05-26T21:59:59Z\",\"to\":\"2021-05-27T21:59:59Z\"}},{\"id\":\"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\"timeWindow\":{\"from\":\"2021-05-27T21:59:59Z\",\"to\":\"2021-05-28T21:59:59Z\"}},{\"id\":\"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\"timeWindow\":{\"from\":\"2021-05-28T21:59:59Z\",\"to\":\"2021-05-29T21:59:59Z\"}},{\"id\":\"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\"timeWindow\":{\"from\":\"2021-05-29T21:59:59Z\",\"to\":\"2021-05-30T21:59:59Z\"}},{\"id\":\"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\"timeWindow\":{\"from\":\"2021-05-30T21:59:59Z\",\"to\":\"2021-05-31T21:59:59Z\"}},{\"id\":\"a7ced3a4-8dd3-44df-8774-f08d01839035\",\"timeWindow\":{\"from\":\"2021-05-31T21:59:59Z\",\"to\":\"2021-06-01T21:59:59Z\"}},{\"id\":\"3021d17f-c396-4704-8770-d0231e9d5d9b\",\"timeWindow\":{\"from\":\"2021-06-01T21:59:59Z\",\"to\":\"2021-06-02T21:59:59Z\"}},{\"id\":\"199c4014-5688-4581-9513-9d8bc2f0c040\",\"timeWindow\":{\"from\":\"2021-06-02T21:59:59Z\",\"to\":\"2021-06-03T21:59:59Z\"}},{\"id\":\"74c6011e-9871-4f8a-b911-0142eea98ee7\",\"timeWindow\":{\"from\":\"2021-06-03T21:59:59Z\",\"to\":\"2021-06-04T21:59:59Z\"}},{\"id\":\"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\"timeWindow\":{\"from\":\"2021-06-04T21:59:59Z\",\"to\":\"2021-06-05T21:59:59Z\"}},{\"id\":\"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\"timeWindow\":{\"from\":\"2021-06-05T21:59:59Z\",\"to\":\"2021-06-06T21:59:59Z\"}},{\"id\":\"74059578-fae6-4945-9c61-b14d8315506f\",\"timeWindow\":{\"from\":\"2021-06-06T21:59:59Z\",\"to\":\"2021-06-07T21:59:59Z\"}},{\"id\":\"7846306d-9db1-47be-bb67-960c8db4901b\",\"timeWindow\":{\"from\":\"2021-06-07T21:59:59Z\",\"to\":\"2021-06-08T21:59:59Z\"}},{\"id\":\"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\"timeWindow\":{\"from\":\"2021-06-08T21:59:59Z\",\"to\":\"2021-06-09T21:59:59Z\"}},{\"id\":\"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\"timeWindow\":{\"from\":\"2021-06-09T21:59:59Z\",\"to\":\"2021-06-10T21:59:59Z\"}},{\"id\":\"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\"timeWindow\":{\"from\":\"2021-06-10T21:59:59Z\",\"to\":\"2021-06-11T21:59:59Z\"}},{\"id\":\"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\"timeWindow\":{\"from\":\"2021-06-11T21:59:59Z\",\"to\":\"2021-06-12T21:59:59Z\"}},{\"id\":\"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\"timeWindow\":{\"from\":\"2021-06-12T21:59:59Z\",\"to\":\"2021-06-13T21:59:59Z\"}},{\"id\":\"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\"timeWindow\":{\"from\":\"2021-06-13T21:59:59Z\",\"to\":\"2021-06-14T21:59:59Z\"}}],\"_links\":[]}","line":11}},{"name":"status 200","result":{"duration":5110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":12},{"name":"def alldelta = response.deltas","result":{"duration":2302282,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"print \"alldelta:\", alldelta","result":{"duration":20182135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14,"doc_string":{"content_type":"","value":"02:29:20.982 [print] alldelta: [\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-15T21:59:59Z\",\n      \"to\": \"2021-05-16T21:59:59Z\"\n    },\n    \"id\": \"2b104759-f77d-496a-94e4-7064f199b446\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-16T21:59:59Z\",\n      \"to\": \"2021-05-17T21:59:59Z\"\n    },\n    \"id\": \"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-17T21:59:59Z\",\n      \"to\": \"2021-05-18T21:59:59Z\"\n    },\n    \"id\": \"801a3c3e-a010-4fff-9c4a-812d7c813674\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-18T21:59:59Z\",\n      \"to\": \"2021-05-19T21:59:59Z\"\n    },\n    \"id\": \"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-19T21:59:59Z\",\n      \"to\": \"2021-05-20T21:59:59Z\"\n    },\n    \"id\": \"9c93aa0c-86a4-49fa-826e-549c719cc0aa\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-20T21:59:59Z\",\n      \"to\": \"2021-05-21T21:59:59Z\"\n    },\n    \"id\": \"1577858c-8c9f-481a-8e45-084bd85e5f4e\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-21T21:59:59Z\",\n      \"to\": \"2021-05-22T21:59:59Z\"\n    },\n    \"id\": \"f784d3c1-2e95-4c30-9268-11d0d61ac131\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-22T21:59:59Z\",\n      \"to\": \"2021-05-23T21:59:59Z\"\n    },\n    \"id\": \"e6640b5a-f20a-450e-9250-986540178c75\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-23T21:59:59Z\",\n      \"to\": \"2021-05-24T21:59:59Z\"\n    },\n    \"id\": \"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-24T21:59:59Z\",\n      \"to\": \"2021-05-25T21:59:59Z\"\n    },\n    \"id\": \"25e98e4e-ef9b-42d1-a419-03fef9478802\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-25T21:59:59Z\",\n      \"to\": \"2021-05-26T21:59:59Z\"\n    },\n    \"id\": \"9297d9e4-cc92-415f-b258-642b4ecdb967\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-26T21:59:59Z\",\n      \"to\": \"2021-05-27T21:59:59Z\"\n    },\n    \"id\": \"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-27T21:59:59Z\",\n      \"to\": \"2021-05-28T21:59:59Z\"\n    },\n    \"id\": \"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-28T21:59:59Z\",\n      \"to\": \"2021-05-29T21:59:59Z\"\n    },\n    \"id\": \"ee7de3a0-af84-4382-88f6-015c69fbcf22\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-29T21:59:59Z\",\n      \"to\": \"2021-05-30T21:59:59Z\"\n    },\n    \"id\": \"7d86880e-ec38-45a7-8d26-8b50b25cb564\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-30T21:59:59Z\",\n      \"to\": \"2021-05-31T21:59:59Z\"\n    },\n    \"id\": \"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-31T21:59:59Z\",\n      \"to\": \"2021-06-01T21:59:59Z\"\n    },\n    \"id\": \"a7ced3a4-8dd3-44df-8774-f08d01839035\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-01T21:59:59Z\",\n      \"to\": \"2021-06-02T21:59:59Z\"\n    },\n    \"id\": \"3021d17f-c396-4704-8770-d0231e9d5d9b\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-02T21:59:59Z\",\n      \"to\": \"2021-06-03T21:59:59Z\"\n    },\n    \"id\": \"199c4014-5688-4581-9513-9d8bc2f0c040\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-03T21:59:59Z\",\n      \"to\": \"2021-06-04T21:59:59Z\"\n    },\n    \"id\": \"74c6011e-9871-4f8a-b911-0142eea98ee7\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-04T21:59:59Z\",\n      \"to\": \"2021-06-05T21:59:59Z\"\n    },\n    \"id\": \"95843b80-f891-4f0d-ac68-6f104d38a0c6\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-05T21:59:59Z\",\n      \"to\": \"2021-06-06T21:59:59Z\"\n    },\n    \"id\": \"304c598c-211c-4d4e-86cf-c87c8be1fd60\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-06T21:59:59Z\",\n      \"to\": \"2021-06-07T21:59:59Z\"\n    },\n    \"id\": \"74059578-fae6-4945-9c61-b14d8315506f\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-07T21:59:59Z\",\n      \"to\": \"2021-06-08T21:59:59Z\"\n    },\n    \"id\": \"7846306d-9db1-47be-bb67-960c8db4901b\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-08T21:59:59Z\",\n      \"to\": \"2021-06-09T21:59:59Z\"\n    },\n    \"id\": \"ecc65af0-5df2-4c51-997e-424a8ec168f9\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-09T21:59:59Z\",\n      \"to\": \"2021-06-10T21:59:59Z\"\n    },\n    \"id\": \"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-10T21:59:59Z\",\n      \"to\": \"2021-06-11T21:59:59Z\"\n    },\n    \"id\": \"80d32f9f-5641-4d0a-89bb-616e9c0f890f\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-11T21:59:59Z\",\n      \"to\": \"2021-06-12T21:59:59Z\"\n    },\n    \"id\": \"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-12T21:59:59Z\",\n      \"to\": \"2021-06-13T21:59:59Z\"\n    },\n    \"id\": \"ee381f94-96f3-41e5-bbd5-4b678eee1db0\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-13T21:59:59Z\",\n      \"to\": \"2021-06-14T21:59:59Z\"\n    },\n    \"id\": \"359a0c94-3317-42ed-b8c7-508f5d13f2c1\"\n  }\n]","line":14}},{"name":"def pararray = []","result":{"duration":3756702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"def featureslist = [\"kadastralegrens\"]","result":{"duration":38956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"def fun =","result":{"duration":1736105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":20,"doc_string":{"content_type":"","value":"function(delta) {\nreq = { format: \"gml\", geofilter: 'POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))' };\nreq[\"deltaId\"] = delta[\"id\"];\nreq[\"featuretypes\"] = featureslist;\npararray.add (req);\n}","line":20}},{"name":"eval karate.forEach(alldelta, fun)","result":{"duration":52085515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":30},{"name":"print \"array:\", pararray","result":{"duration":52846060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":32,"doc_string":{"content_type":"","value":"02:29:21.093 [print] array: [\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"2b104759-f77d-496a-94e4-7064f199b446\",\n    \"featuretypes\": [\n      \"kadastralegrens\"\n    ]\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"801a3c3e-a010-4fff-9c4a-812d7c813674\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"e6640b5a-f20a-450e-9250-986540178c75\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"25e98e4e-ef9b-42d1-a419-03fef9478802\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"9297d9e4-cc92-415f-b258-642b4ecdb967\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"a7ced3a4-8dd3-44df-8774-f08d01839035\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"3021d17f-c396-4704-8770-d0231e9d5d9b\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"199c4014-5688-4581-9513-9d8bc2f0c040\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"74c6011e-9871-4f8a-b911-0142eea98ee7\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"74059578-fae6-4945-9c61-b14d8315506f\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"7846306d-9db1-47be-bb67-960c8db4901b\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  }\n]","line":32}},{"name":"print \"done\"","result":{"duration":5092094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33,"doc_string":{"content_type":"","value":"02:29:21.099 [print] done","line":33}},{"name":"def dodelta = call read('DeltaCustomargs.feature') pararray","result":{"duration":79231578481,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"[0] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"2b104759-f77d-496a-94e4-7064f199b446\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":2447931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":23231757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":216303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:21.215 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"2b104759-f77d-496a-94e4-7064f199b446\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":12773,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":505895589,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:21.219 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"2b104759-f77d-496a-94e4-7064f199b446\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:21.721 response time in milliseconds: 501.31\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:21 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c9d2083b-9730-41bb-48b1-7a0926e203cb\/status\"}},\"downloadRequestId\":\"c9d2083b-9730-41bb-48b1-7a0926e203cb\"}","line":14}},{"name":"status 202","result":{"duration":4279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":175682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":256121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":190604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":347691,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:21.722 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":10711407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":7149564,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:21.740 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c9d2083b-9730-41bb-48b1-7a0926e203cb\/status","line":23}},{"name":"url statusurl","result":{"duration":6396,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":499984059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:21.741 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c9d2083b-9730-41bb-48b1-7a0926e203cb\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:22.240 response time in milliseconds: 498.76\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:22 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f99cbb2-fe64-4e26-8d81-11a1c2c58076\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":9392,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":545140395,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:22.241 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c9d2083b-9730-41bb-48b1-7a0926e203cb\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:22.785 response time in milliseconds: 543.54\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:22 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f99cbb2-fe64-4e26-8d81-11a1c2c58076\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":10361264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":627395,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":2916760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:22.800 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f99cbb2-fe64-4e26-8d81-11a1c2c58076\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":385045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":522323629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:22.804 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f99cbb2-fe64-4e26-8d81-11a1c2c58076\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:23.325 response time in milliseconds: 520.90\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 664\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:23 GMT\n4 < Etag: \"1a71855b9fdaa719ce5ae9665f93df8d-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:22 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0860AE86E46\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":3073,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":116070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":4766826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":106504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":147113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:23.331 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":2550962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:23.333 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f99cbb2-fe64-4e26-8d81-11a1c2c58076\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":1593863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:23.335 [print] size 664","line":42}},{"name":"assert zipsize > 600","result":{"duration":4061158,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":229859,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":71626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":153279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":3549727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[1] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":2337893,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":12206576,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":169025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:23.360 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":10110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2322933412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:23.363 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:25.683 response time in milliseconds: 2319.91\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:25 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/815fc875-b32b-465d-7e9b-b284e51d869d\/status\"}},\"downloadRequestId\":\"815fc875-b32b-465d-7e9b-b284e51d869d\"}","line":14}},{"name":"status 202","result":{"duration":552326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":371639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":624125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":310106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":661420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:25.686 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":284764,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":494716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:25.687 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/815fc875-b32b-465d-7e9b-b284e51d869d\/status","line":23}},{"name":"url statusurl","result":{"duration":8963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":493152940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:25.689 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/815fc875-b32b-465d-7e9b-b284e51d869d\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:26.180 response time in milliseconds: 491.09\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:26 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/a37b2113-e7e2-44b4-a935-d670a86a09f4\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":13785,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":502672263,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:26.181 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/815fc875-b32b-465d-7e9b-b284e51d869d\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:26.683 response time in milliseconds: 500.91\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:26 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/a37b2113-e7e2-44b4-a935-d670a86a09f4\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":1049455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":237179,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":785209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:26.685 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/a37b2113-e7e2-44b4-a935-d670a86a09f4\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":369910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":498290358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:26.687 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/a37b2113-e7e2-44b4-a935-d670a86a09f4\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:27.184 response time in milliseconds: 496.62\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:27 GMT\n4 < Etag: \"241f31c3a6d8c63d8aba753656576c99-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:25 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A086F2459500\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":9020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":377862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":187857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":184593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":197871,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:27.186 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":540139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:27.187 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/a37b2113-e7e2-44b4-a935-d670a86a09f4\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":259436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:27.187 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":196276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":135331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":70978,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":69478,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":476872,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[2] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"801a3c3e-a010-4fff-9c4a-812d7c813674\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1203999,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":144482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":181879,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:27.192 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"801a3c3e-a010-4fff-9c4a-812d7c813674\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6861,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":527580375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:27.203 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"801a3c3e-a010-4fff-9c4a-812d7c813674\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:27.719 response time in milliseconds: 515.96\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:27 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/9c4a2d3c-5565-415b-77b2-9c93453e0fc3\/status\"}},\"downloadRequestId\":\"9c4a2d3c-5565-415b-77b2-9c93453e0fc3\"}","line":14}},{"name":"status 202","result":{"duration":6309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":210975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":416931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":3933177,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":1451940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:27.726 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":335844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":391606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:27.726 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/9c4a2d3c-5565-415b-77b2-9c93453e0fc3\/status","line":23}},{"name":"url statusurl","result":{"duration":8393,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":500679785,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:27.728 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/9c4a2d3c-5565-415b-77b2-9c93453e0fc3\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:28.227 response time in milliseconds: 498.51\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:28 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3d9489ac-1438-433f-853f-1bba67060b1b\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7161,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":504547154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:28.228 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/9c4a2d3c-5565-415b-77b2-9c93453e0fc3\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:28.731 response time in milliseconds: 502.81\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:28 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3d9489ac-1438-433f-853f-1bba67060b1b\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":149404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":156758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":318624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:28.733 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3d9489ac-1438-433f-853f-1bba67060b1b\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":183053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":519277592,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:28.734 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3d9489ac-1438-433f-853f-1bba67060b1b\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:29.252 response time in milliseconds: 518.14\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 664\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:29 GMT\n4 < Etag: \"de8c2c1bce69babdf4779d4c9de6f436-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:27 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0876D10883C\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":278732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":144329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":114703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":143902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:29.253 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":404406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:29.253 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3d9489ac-1438-433f-853f-1bba67060b1b\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":241862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:29.254 [print] size 664","line":42}},{"name":"assert zipsize > 600","result":{"duration":2019967,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":171062,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":73920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":69116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":697623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[3] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":9547662,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":187896,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":189397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:29.270 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":8910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":523688032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:29.277 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:29.797 response time in milliseconds: 519.05\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:29 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/a8166733-5b27-404e-4152-b91eff46bc45\/status\"}},\"downloadRequestId\":\"a8166733-5b27-404e-4152-b91eff46bc45\"}","line":14}},{"name":"status 202","result":{"duration":6793,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":229625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":405852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":1355674,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":439621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:29.800 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":248547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":382311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:29.801 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/a8166733-5b27-404e-4152-b91eff46bc45\/status","line":23}},{"name":"url statusurl","result":{"duration":7664,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":515383210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:29.810 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/a8166733-5b27-404e-4152-b91eff46bc45\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:30.316 response time in milliseconds: 506.46\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:30 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47e63b55-d285-46c6-80b6-f760fd409601\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6193,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":491723561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:30.317 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/a8166733-5b27-404e-4152-b91eff46bc45\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:30.807 response time in milliseconds: 486.72\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:30 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47e63b55-d285-46c6-80b6-f760fd409601\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":157324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":136455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":407098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:30.809 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47e63b55-d285-46c6-80b6-f760fd409601\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":641226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":517769027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:30.811 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47e63b55-d285-46c6-80b6-f760fd409601\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:31.323 response time in milliseconds: 512.11\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 664\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:31 GMT\n4 < Etag: \"2045c248c323c466134a942377f7bc41-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:29 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A087E7D969EE\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":242807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":26295807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":160690,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":2721363,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:31.357 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":321196,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:31.358 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47e63b55-d285-46c6-80b6-f760fd409601\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":240445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:31.358 [print] size 664","line":42}},{"name":"assert zipsize > 600","result":{"duration":205200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":131074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":79229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":75382,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":514313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[4] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":952546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":121216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":676022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:31.363 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":16487,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":483288538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:31.365 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:31.847 response time in milliseconds: 482.14\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:31 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/162886b2-05a2-47dc-6da7-a6fb1280fac2\/status\"}},\"downloadRequestId\":\"162886b2-05a2-47dc-6da7-a6fb1280fac2\"}","line":14}},{"name":"status 202","result":{"duration":4516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":170578,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":220904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":203150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":404752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:31.849 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":272504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":384317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:31.849 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/162886b2-05a2-47dc-6da7-a6fb1280fac2\/status","line":23}},{"name":"url statusurl","result":{"duration":6778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":510593443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:31.857 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/162886b2-05a2-47dc-6da7-a6fb1280fac2\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:32.360 response time in milliseconds: 502.41\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:32 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/37839258-c27b-4617-ad96-12e39e1e6220\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":8839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":492831901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:32.363 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/162886b2-05a2-47dc-6da7-a6fb1280fac2\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:32.852 response time in milliseconds: 488.78\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:32 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/37839258-c27b-4617-ad96-12e39e1e6220\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":138025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":135421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":400149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:32.854 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/37839258-c27b-4617-ad96-12e39e1e6220\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":217391,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":543068782,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:32.855 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/37839258-c27b-4617-ad96-12e39e1e6220\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:33.397 response time in milliseconds: 541.82\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 662\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:33 GMT\n4 < Etag: \"5da444acddbe8a50fa50808bbbdee5ad-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:31 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A088632EFA0D\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":167751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":200804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":110106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":158723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:33.398 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":357466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:33.398 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/37839258-c27b-4617-ad96-12e39e1e6220\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":280913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:33.398 [print] size 662","line":42}},{"name":"assert zipsize > 600","result":{"duration":195655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":126485,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":67361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":74891,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":484771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[5] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1035628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":142181,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":215798,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:33.409 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":483927652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:33.410 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:33.892 response time in milliseconds: 482.21\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:33 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/80284429-335f-47ee-7869-d9f571394fdd\/status\"}},\"downloadRequestId\":\"80284429-335f-47ee-7869-d9f571394fdd\"}","line":14}},{"name":"status 202","result":{"duration":1418610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":224540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":307937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":125403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":256129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:33.899 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":247196,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":482020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:33.900 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/80284429-335f-47ee-7869-d9f571394fdd\/status","line":23}},{"name":"url statusurl","result":{"duration":7878,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":487296010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:33.901 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/80284429-335f-47ee-7869-d9f571394fdd\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:34.387 response time in milliseconds: 485.41\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:34 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/dc6395e7-2ad1-4a2b-97ed-d16c2dfea5ce\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":9463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":501969940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:34.389 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/80284429-335f-47ee-7869-d9f571394fdd\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:34.889 response time in milliseconds: 499.76\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:34 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/dc6395e7-2ad1-4a2b-97ed-d16c2dfea5ce\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":162636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":144644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":427634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:34.890 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/dc6395e7-2ad1-4a2b-97ed-d16c2dfea5ce\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":433945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":543745344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:34.892 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/dc6395e7-2ad1-4a2b-97ed-d16c2dfea5ce\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:35.429 response time in milliseconds: 529.75\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:35 GMT\n4 < Etag: \"b79f694a1a917571afcfc5c853d1c718-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:33 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A088DB938F9A\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":8082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":227799,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":76085,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":91323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":130395,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:35.435 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":2448311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:35.438 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/dc6395e7-2ad1-4a2b-97ed-d16c2dfea5ce\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":214410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:35.438 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":1425627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":223464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":112501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":122494,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":1483858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[6] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1137651,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":119612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":15244116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:35.466 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":10035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2120011389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:35.475 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:37.586 response time in milliseconds: 2111.01\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:37 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/223e86b6-d301-4b1e-5ae9-773db3f1a280\/status\"}},\"downloadRequestId\":\"223e86b6-d301-4b1e-5ae9-773db3f1a280\"}","line":14}},{"name":"status 202","result":{"duration":4389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":144669,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":13976213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":194487,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":441179,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:37.601 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":159407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":385071,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:37.602 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/223e86b6-d301-4b1e-5ae9-773db3f1a280\/status","line":23}},{"name":"url statusurl","result":{"duration":8954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":482640567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:37.603 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/223e86b6-d301-4b1e-5ae9-773db3f1a280\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:38.084 response time in milliseconds: 481.21\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:38 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cea63cbe-bf06-49fd-a4d4-b251745f9759\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":1742819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":12055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":485476353,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:38.087 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/223e86b6-d301-4b1e-5ae9-773db3f1a280\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:38.567 response time in milliseconds: 479.83\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:38 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cea63cbe-bf06-49fd-a4d4-b251745f9759\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":142081,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":100010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":213719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:38.572 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cea63cbe-bf06-49fd-a4d4-b251745f9759\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":136151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":498024300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:38.573 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cea63cbe-bf06-49fd-a4d4-b251745f9759\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:39.070 response time in milliseconds: 497.00\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:39 GMT\n4 < Etag: \"8d907ee83b504a5bf1de8031bfa4291e-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:37 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A089B6BD4976\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":4507567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":128263,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":77994,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":96316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:39.075 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":262932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:39.076 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cea63cbe-bf06-49fd-a4d4-b251745f9759\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":162407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:39.076 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":125765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":143132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":77424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":72398,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":212116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[7] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"e6640b5a-f20a-450e-9250-986540178c75\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":956165,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":70868,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":115942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:39.080 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"e6640b5a-f20a-450e-9250-986540178c75\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":479089354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:39.082 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"e6640b5a-f20a-450e-9250-986540178c75\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:39.559 response time in milliseconds: 476.86\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:39 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cbf696b7-2425-42b4-54ac-585790c12b74\/status\"}},\"downloadRequestId\":\"cbf696b7-2425-42b4-54ac-585790c12b74\"}","line":14}},{"name":"status 202","result":{"duration":5225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":141355,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":126275,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":80588,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":196964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:39.559 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":76711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":100168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:39.560 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cbf696b7-2425-42b4-54ac-585790c12b74\/status","line":23}},{"name":"url statusurl","result":{"duration":4532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":498592093,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:39.560 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cbf696b7-2425-42b4-54ac-585790c12b74\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:40.058 response time in milliseconds: 497.76\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:40 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f939cb38-3094-405f-b408-e97564c108d6\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":508442572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:40.059 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cbf696b7-2425-42b4-54ac-585790c12b74\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:40.566 response time in milliseconds: 507.22\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:40 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f939cb38-3094-405f-b408-e97564c108d6\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":114743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":118167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":259275,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:40.567 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f939cb38-3094-405f-b408-e97564c108d6\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":90022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":511036599,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:40.575 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f939cb38-3094-405f-b408-e97564c108d6\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:41.078 response time in milliseconds: 502.72\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:41 GMT\n4 < Etag: \"2e0d7b02c29849171c6040d2dc5f95b2-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:39 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08A2E2F23B1\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":297660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":92074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":143693,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":106392,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:41.084 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":168237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:41.085 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f939cb38-3094-405f-b408-e97564c108d6\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":141034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:41.085 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":87241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":104164,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":48997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":49345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":427874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[8] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":776316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":60386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":121416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:41.088 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":487019418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:41.089 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:41.575 response time in milliseconds: 486.08\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:41 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/62d03720-6819-4e0f-62a3-4af22170770b\/status\"}},\"downloadRequestId\":\"62d03720-6819-4e0f-62a3-4af22170770b\"}","line":14}},{"name":"status 202","result":{"duration":5127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":122471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":5314135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":128455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":266674,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:41.581 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":211011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":355926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:41.582 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/62d03720-6819-4e0f-62a3-4af22170770b\/status","line":23}},{"name":"url statusurl","result":{"duration":12341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":504886412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:41.583 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/62d03720-6819-4e0f-62a3-4af22170770b\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:42.086 response time in milliseconds: 502.82\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:42 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d88ab15f-1fc6-47d8-85ad-15bc566b280d\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":3675456,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":567686362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:42.097 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/62d03720-6819-4e0f-62a3-4af22170770b\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:42.664 response time in milliseconds: 566.07\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:42 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d88ab15f-1fc6-47d8-85ad-15bc566b280d\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":123346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":167762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":289715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:42.665 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d88ab15f-1fc6-47d8-85ad-15bc566b280d\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":107907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":512237449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:42.665 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d88ab15f-1fc6-47d8-85ad-15bc566b280d\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:43.177 response time in milliseconds: 511.15\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 665\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:43 GMT\n4 < Etag: \"36e6a8ca974205e1797ee8fd9b7b7fac-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:41 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08AAA91EB63\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":575656,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":184281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":149138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":321305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:43.178 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":355640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:43.179 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d88ab15f-1fc6-47d8-85ad-15bc566b280d\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":282247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:43.179 [print] size 665","line":42}},{"name":"assert zipsize > 600","result":{"duration":113980,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":239927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":174170,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":118824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":342470,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[9] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"25e98e4e-ef9b-42d1-a419-03fef9478802\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":2658043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":76113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":148920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:43.186 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"25e98e4e-ef9b-42d1-a419-03fef9478802\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1666640550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:43.187 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"25e98e4e-ef9b-42d1-a419-03fef9478802\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:44.852 response time in milliseconds: 1665.45\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:44 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/fc1bdb39-fcb9-442a-5283-3f51ed684868\/status\"}},\"downloadRequestId\":\"fc1bdb39-fcb9-442a-5283-3f51ed684868\"}","line":14}},{"name":"status 202","result":{"duration":6965,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":166039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":169866,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":70726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":262271,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:44.853 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":99792,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":128907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:44.854 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/fc1bdb39-fcb9-442a-5283-3f51ed684868\/status","line":23}},{"name":"url statusurl","result":{"duration":6164,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":696991130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:44.854 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/fc1bdb39-fcb9-442a-5283-3f51ed684868\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:45.541 response time in milliseconds: 686.96\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:45 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/013ae09a-c5ed-4085-b02a-878f6d1cc3e2\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5982,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":488206781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:45.551 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/fc1bdb39-fcb9-442a-5283-3f51ed684868\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:46.039 response time in milliseconds: 486.92\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:45 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/013ae09a-c5ed-4085-b02a-878f6d1cc3e2\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":98332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":112497,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":249643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:46.040 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/013ae09a-c5ed-4085-b02a-878f6d1cc3e2\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":107708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":511658120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:46.041 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/013ae09a-c5ed-4085-b02a-878f6d1cc3e2\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:46.551 response time in milliseconds: 510.45\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 662\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:46 GMT\n4 < Etag: \"570d9008f89fa2dabf0f9fb016f9fd2f-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:45 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08B73E0D900\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6793,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":244673,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":126102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":116922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":154417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:46.552 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":238375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:46.552 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/013ae09a-c5ed-4085-b02a-878f6d1cc3e2\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":165454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:46.553 [print] size 662","line":42}},{"name":"assert zipsize > 600","result":{"duration":97682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":136212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":75085,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":72201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":233497,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[10] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9297d9e4-cc92-415f-b258-642b4ecdb967\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1046689,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":90440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":135910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:46.556 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9297d9e4-cc92-415f-b258-642b4ecdb967\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":8003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":491637891,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:46.559 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"9297d9e4-cc92-415f-b258-642b4ecdb967\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:47.048 response time in milliseconds: 488.92\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:46 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/1ac4573b-dde8-42d5-6ada-69f7eb0b8ccc\/status\"}},\"downloadRequestId\":\"1ac4573b-dde8-42d5-6ada-69f7eb0b8ccc\"}","line":14}},{"name":"status 202","result":{"duration":6320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":343551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":193302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":100871,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":421018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:47.049 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":139364,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":227709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:47.050 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/1ac4573b-dde8-42d5-6ada-69f7eb0b8ccc\/status","line":23}},{"name":"url statusurl","result":{"duration":7141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":512008249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:47.051 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/1ac4573b-dde8-42d5-6ada-69f7eb0b8ccc\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:47.562 response time in milliseconds: 510.87\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:47 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/822a526b-e46c-46e0-ade7-2146e425c33e\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5109708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":487655015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:47.568 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/1ac4573b-dde8-42d5-6ada-69f7eb0b8ccc\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:48.055 response time in milliseconds: 486.59\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:48 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/822a526b-e46c-46e0-ade7-2146e425c33e\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":78676,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":107567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":184286,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:48.055 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/822a526b-e46c-46e0-ade7-2146e425c33e\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":103575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":493369714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:48.056 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/822a526b-e46c-46e0-ade7-2146e425c33e\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:48.549 response time in milliseconds: 492.47\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 664\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:48 GMT\n4 < Etag: \"5f35b81d095b74d568b4dc38af5f3bf0-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:47 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08BEBE6EEA0\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5766,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":2068390,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":152617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":121347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":107964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:48.552 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":163581,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:48.552 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/822a526b-e46c-46e0-ade7-2146e425c33e\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":8712668,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:48.561 [print] size 664","line":42}},{"name":"assert zipsize > 600","result":{"duration":103416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":1467728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":78605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":60753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":228904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[11] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":4098305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":391379,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":118481,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:48.573 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6697,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":485135094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:48.575 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:49.058 response time in milliseconds: 483.09\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:49 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/87d212bf-628d-4302-72f8-9470300ccb4f\/status\"}},\"downloadRequestId\":\"87d212bf-628d-4302-72f8-9470300ccb4f\"}","line":14}},{"name":"status 202","result":{"duration":6631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":259702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":213397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":75543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":291477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:49.065 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":118888,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":165463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:49.066 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/87d212bf-628d-4302-72f8-9470300ccb4f\/status","line":23}},{"name":"url statusurl","result":{"duration":31264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":519118288,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:49.066 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/87d212bf-628d-4302-72f8-9470300ccb4f\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:49.585 response time in milliseconds: 518.03\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 159\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:49 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/87d212bf-628d-4302-72f8-9470300ccb4f\/status\"}},\"progress\":0,\"status\":\"PENDING\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":499197684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:49.591 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/87d212bf-628d-4302-72f8-9470300ccb4f\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:50.084 response time in milliseconds: 492.55\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:50 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ff4ae77f-ce21-4057-ad29-000560cc7e98\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":242096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":212045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":615924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:50.085 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ff4ae77f-ce21-4057-ad29-000560cc7e98\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":177083,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":560314742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:50.094 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ff4ae77f-ce21-4057-ad29-000560cc7e98\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:50.646 response time in milliseconds: 552.11\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 15643\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:50 GMT\n4 < Etag: \"92d2b0e275f02587ba642b2c389ea419-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:49 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08C65653ED0\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":303331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":178304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":154880,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":267511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:50.652 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":182963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:50.652 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ff4ae77f-ce21-4057-ad29-000560cc7e98\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":176790,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:50.652 [print] size 15643","line":42}},{"name":"assert zipsize > 600","result":{"duration":96729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":111086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":53480,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":58285,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":215592,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[12] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":2642281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":43745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":139698,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:50.659 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1993043569,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:50.665 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:52.651 response time in milliseconds: 1986.21\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:52 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/0404a8ea-d02c-43bf-5e30-2fea33c69f40\/status\"}},\"downloadRequestId\":\"0404a8ea-d02c-43bf-5e30-2fea33c69f40\"}","line":14}},{"name":"status 202","result":{"duration":9030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":2947119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":284804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":88482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":288261,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:52.656 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":182500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":161564,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:52.657 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/0404a8ea-d02c-43bf-5e30-2fea33c69f40\/status","line":23}},{"name":"url statusurl","result":{"duration":14013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":491798065,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:52.657 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/0404a8ea-d02c-43bf-5e30-2fea33c69f40\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:53.148 response time in milliseconds: 490.73\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:53 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3f42759d-5ac8-4d68-b348-7ad1e856be23\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":482093775,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:53.150 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/0404a8ea-d02c-43bf-5e30-2fea33c69f40\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:53.630 response time in milliseconds: 480.67\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:53 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3f42759d-5ac8-4d68-b348-7ad1e856be23\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":82530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":99443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":278833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:53.631 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3f42759d-5ac8-4d68-b348-7ad1e856be23\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":213382,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":500518964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:53.632 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3f42759d-5ac8-4d68-b348-7ad1e856be23\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:54.127 response time in milliseconds: 494.49\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:54 GMT\n4 < Etag: \"c5f18facfb4a72c47cf037e97d9d09f5-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:52 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08D387470FA\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7678,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":324172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":176677,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":112801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":123250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:54.133 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":359963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:54.133 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/3f42759d-5ac8-4d68-b348-7ad1e856be23\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":174147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:54.134 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":193096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":109033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":39669,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":63638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":327146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[13] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1117574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":127540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":150443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:54.137 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":488955927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:54.138 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:54.626 response time in milliseconds: 487.59\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:54 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/50ce9e74-cbc1-41f5-4afe-f11e001e2e43\/status\"}},\"downloadRequestId\":\"50ce9e74-cbc1-41f5-4afe-f11e001e2e43\"}","line":14}},{"name":"status 202","result":{"duration":8040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":306549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":732789,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":292203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":716686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:54.629 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":492970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":618587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:54.630 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/50ce9e74-cbc1-41f5-4afe-f11e001e2e43\/status","line":23}},{"name":"url statusurl","result":{"duration":12286,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":495222925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:54.642 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/50ce9e74-cbc1-41f5-4afe-f11e001e2e43\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:55.125 response time in milliseconds: 482.96\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:55 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/68e0860a-b503-457b-8bb4-7efada82f7b4\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6095,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":595026985,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:55.126 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/50ce9e74-cbc1-41f5-4afe-f11e001e2e43\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:55.720 response time in milliseconds: 593.19\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:55 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/68e0860a-b503-457b-8bb4-7efada82f7b4\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":232993,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":196538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":585724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:55.721 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/68e0860a-b503-457b-8bb4-7efada82f7b4\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":250283,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":492121025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:55.723 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/68e0860a-b503-457b-8bb4-7efada82f7b4\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:56.214 response time in milliseconds: 490.69\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 664\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:56 GMT\n4 < Etag: \"8365a857acc7dfcc1a87b36358760104-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:54 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08DB4C2DEC6\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7573,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":351639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":119923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":118621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":130054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:56.215 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":378122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:56.215 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/68e0860a-b503-457b-8bb4-7efada82f7b4\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":168947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:56.215 [print] size 664","line":42}},{"name":"assert zipsize > 600","result":{"duration":218059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":134364,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":412492,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":84754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":459075,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[14] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":826502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":82996,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":137177,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:56.228 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":44056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2394622905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:56.229 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:29:58.623 response time in milliseconds: 2393.34\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:58 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/565988ca-9ef3-47ac-48e5-1c605311d98d\/status\"}},\"downloadRequestId\":\"565988ca-9ef3-47ac-48e5-1c605311d98d\"}","line":14}},{"name":"status 202","result":{"duration":5080,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":97815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":156274,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":71945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":250356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:58.624 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":306368,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":296131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:58.624 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/565988ca-9ef3-47ac-48e5-1c605311d98d\/status","line":23}},{"name":"url statusurl","result":{"duration":4145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":496114834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:58.628 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/565988ca-9ef3-47ac-48e5-1c605311d98d\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:59.119 response time in milliseconds: 491.02\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:59 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bb558e10-9d05-43dd-b6f4-8029f47010ba\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":8411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6664,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":491308674,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:59.121 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/565988ca-9ef3-47ac-48e5-1c605311d98d\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:59.612 response time in milliseconds: 490.17\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:59 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bb558e10-9d05-43dd-b6f4-8029f47010ba\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":258786,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":272815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":776205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:59.613 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bb558e10-9d05-43dd-b6f4-8029f47010ba\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":454724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":494785060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:59.615 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bb558e10-9d05-43dd-b6f4-8029f47010ba\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:00.109 response time in milliseconds: 493.29\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:00 GMT\n4 < Etag: \"3788ef3831d8abebc0b00899eb124fde-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:58 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08E9CD6CD04\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":253920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":110465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":114631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":122351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:00.109 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":408056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:00.110 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bb558e10-9d05-43dd-b6f4-8029f47010ba\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":147200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:00.110 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":157540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":115141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":58472,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":56098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":388156,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[15] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":949783,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":93470,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":203002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:00.114 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6988,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":496050446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:00.117 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:00.610 response time in milliseconds: 492.93\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:00 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c2679faa-5e46-4167-4ae3-984f443e75f0\/status\"}},\"downloadRequestId\":\"c2679faa-5e46-4167-4ae3-984f443e75f0\"}","line":14}},{"name":"status 202","result":{"duration":6584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":1742504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":833538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":283950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":970488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:00.614 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":561664,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":770152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:00.616 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c2679faa-5e46-4167-4ae3-984f443e75f0\/status","line":23}},{"name":"url statusurl","result":{"duration":5311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":494749530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:00.617 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c2679faa-5e46-4167-4ae3-984f443e75f0\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:01.110 response time in milliseconds: 493.31\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:01 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7a0a3fa9-ec38-4048-8156-14f398f96467\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":499316907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:01.115 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c2679faa-5e46-4167-4ae3-984f443e75f0\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:01.610 response time in milliseconds: 494.90\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:01 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7a0a3fa9-ec38-4048-8156-14f398f96467\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":56824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":91971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":216222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:01.610 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7a0a3fa9-ec38-4048-8156-14f398f96467\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":127710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":518723474,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:01.611 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7a0a3fa9-ec38-4048-8156-14f398f96467\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:02.129 response time in milliseconds: 518.04\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:02 GMT\n4 < Etag: \"3d247fffd310643a446c86933b15395a-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:00 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08F142A4023\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":1002119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":554695,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":8838497,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":159339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:02.140 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":307093,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:02.141 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7a0a3fa9-ec38-4048-8156-14f398f96467\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":122731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:02.141 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":130697,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":100452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":39273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":45026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":345083,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[16] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"a7ced3a4-8dd3-44df-8774-f08d01839035\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":4805486,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":90200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":136152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:02.152 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"a7ced3a4-8dd3-44df-8774-f08d01839035\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":488884110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:02.153 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"a7ced3a4-8dd3-44df-8774-f08d01839035\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:02.641 response time in milliseconds: 487.93\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:02 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7abc86cb-0628-40af-4a0a-d0c1fcc088b7\/status\"}},\"downloadRequestId\":\"7abc86cb-0628-40af-4a0a-d0c1fcc088b7\"}","line":14}},{"name":"status 202","result":{"duration":4992,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":120998,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":164012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":69632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":249523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:02.642 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":171000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":200341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:02.642 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7abc86cb-0628-40af-4a0a-d0c1fcc088b7\/status","line":23}},{"name":"url statusurl","result":{"duration":3925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":486046371,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:02.643 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7abc86cb-0628-40af-4a0a-d0c1fcc088b7\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:03.128 response time in milliseconds: 485.25\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:03 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d94cd356-f07e-459c-9bb7-113e7dc35bd6\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":4068,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":502147817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:03.129 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7abc86cb-0628-40af-4a0a-d0c1fcc088b7\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:03.630 response time in milliseconds: 501.23\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:03 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d94cd356-f07e-459c-9bb7-113e7dc35bd6\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":82495,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":1549046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":905548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:03.633 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d94cd356-f07e-459c-9bb7-113e7dc35bd6\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":190286,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":500400296,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:03.636 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d94cd356-f07e-459c-9bb7-113e7dc35bd6\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:04.134 response time in milliseconds: 498.04\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:04 GMT\n4 < Etag: \"41664994d5ba87e83adc5346b1cf9bda-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:02 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08F8CAC0524\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":231803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":243287,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":248925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":209669,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:04.135 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":596979,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:04.136 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d94cd356-f07e-459c-9bb7-113e7dc35bd6\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":265023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:04.136 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":227585,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":209059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":198430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":136451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":691194,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[17] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"3021d17f-c396-4704-8770-d0231e9d5d9b\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1546953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":147981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":149098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:04.143 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"3021d17f-c396-4704-8770-d0231e9d5d9b\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":491997177,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:04.144 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"3021d17f-c396-4704-8770-d0231e9d5d9b\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:04.635 response time in milliseconds: 490.70\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:04 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/4f4a306f-9310-4ed0-4d87-0b7d7e61d849\/status\"}},\"downloadRequestId\":\"4f4a306f-9310-4ed0-4d87-0b7d7e61d849\"}","line":14}},{"name":"status 202","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":110689,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":119768,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":45174,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":264276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:04.635 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":197981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":120360,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:04.636 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/4f4a306f-9310-4ed0-4d87-0b7d7e61d849\/status","line":23}},{"name":"url statusurl","result":{"duration":3342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":497208817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:04.636 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/4f4a306f-9310-4ed0-4d87-0b7d7e61d849\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:05.133 response time in milliseconds: 495.98\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:05 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/c7c8ba26-b085-4b65-b15b-5990d399c824\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":3719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":3649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":490700169,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:05.134 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/4f4a306f-9310-4ed0-4d87-0b7d7e61d849\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:05.623 response time in milliseconds: 489.16\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:05 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/c7c8ba26-b085-4b65-b15b-5990d399c824\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":658981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":483500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":264027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:05.626 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/c7c8ba26-b085-4b65-b15b-5990d399c824\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":312077,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":524722772,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:05.627 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/c7c8ba26-b085-4b65-b15b-5990d399c824\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:06.151 response time in milliseconds: 523.97\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 664\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:06 GMT\n4 < Etag: \"4c64e29359388d803ceaab72be013f71-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:04 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A09003875F62\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6590,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":1376451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":90586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":99745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":91427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:06.153 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":341293,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:06.153 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/c7c8ba26-b085-4b65-b15b-5990d399c824\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":108644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:06.153 [print] size 664","line":42}},{"name":"assert zipsize > 600","result":{"duration":168476,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":107797,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":43740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":44295,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":400555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[18] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"199c4014-5688-4581-9513-9d8bc2f0c040\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":855306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":85683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":137911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:06.164 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"199c4014-5688-4581-9513-9d8bc2f0c040\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":535671933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:06.165 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"199c4014-5688-4581-9513-9d8bc2f0c040\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:06.699 response time in milliseconds: 534.48\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:06 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/d313b344-8f15-49af-746e-827b8b1102c0\/status\"}},\"downloadRequestId\":\"d313b344-8f15-49af-746e-827b8b1102c0\"}","line":14}},{"name":"status 202","result":{"duration":6943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":102457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":132351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":38492,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":239102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:06.700 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":114825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":146545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:06.700 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/d313b344-8f15-49af-746e-827b8b1102c0\/status","line":23}},{"name":"url statusurl","result":{"duration":4318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":500972389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:06.703 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/d313b344-8f15-49af-746e-827b8b1102c0\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:07.201 response time in milliseconds: 497.78\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:07 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/880dd6b3-37fe-44dc-ade2-644b12266da7\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":482857026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:07.202 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/d313b344-8f15-49af-746e-827b8b1102c0\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:07.684 response time in milliseconds: 481.65\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:07 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/880dd6b3-37fe-44dc-ade2-644b12266da7\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":74267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":88381,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":154964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:07.685 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/880dd6b3-37fe-44dc-ade2-644b12266da7\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":58881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":518075598,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:07.685 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/880dd6b3-37fe-44dc-ade2-644b12266da7\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:08.203 response time in milliseconds: 517.25\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:08 GMT\n4 < Etag: \"698bf174c9ec7080d827986c49866b0c-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:06 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0907E4280B0\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":9920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":250908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":3440541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":4860778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":194134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:08.212 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":380877,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:08.212 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/880dd6b3-37fe-44dc-ade2-644b12266da7\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":4043113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:08.216 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":125198,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":123291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":58169,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":63496,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":216757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[19] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"74c6011e-9871-4f8a-b911-0142eea98ee7\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":976147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":63971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":253666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:08.220 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"74c6011e-9871-4f8a-b911-0142eea98ee7\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":528265176,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:08.221 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"74c6011e-9871-4f8a-b911-0142eea98ee7\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:08.749 response time in milliseconds: 527.19\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:08 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/50b11d59-5c5c-4604-59f8-57f2d5a033d9\/status\"}},\"downloadRequestId\":\"50b11d59-5c5c-4604-59f8-57f2d5a033d9\"}","line":14}},{"name":"status 202","result":{"duration":8216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":2853681,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":153358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":68381,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":2172825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:08.754 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":301352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":574344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:08.755 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/50b11d59-5c5c-4604-59f8-57f2d5a033d9\/status","line":23}},{"name":"url statusurl","result":{"duration":5473,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":482888548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:08.757 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/50b11d59-5c5c-4604-59f8-57f2d5a033d9\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:09.238 response time in milliseconds: 480.43\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:09 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/580346ae-0f19-4c0d-b312-60186f2b0acc\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":7182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6254,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":812254554,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:09.239 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/50b11d59-5c5c-4604-59f8-57f2d5a033d9\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:10.046 response time in milliseconds: 807.10\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:09 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/580346ae-0f19-4c0d-b312-60186f2b0acc\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":526013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":472974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":1255947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:10.053 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/580346ae-0f19-4c0d-b312-60186f2b0acc\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":624873,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":655871601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:10.056 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/580346ae-0f19-4c0d-b312-60186f2b0acc\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:10.710 response time in milliseconds: 653.44\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 2671\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:10 GMT\n4 < Etag: \"7575f8df8fd238192e0e02928d8975c7-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:08 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0910F512989\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":271405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":130510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":269384,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":133450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:10.711 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":214379,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:10.711 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/580346ae-0f19-4c0d-b312-60186f2b0acc\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":193808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:10.711 [print] size 2671","line":42}},{"name":"assert zipsize > 600","result":{"duration":117516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":133146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":103668,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":74602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":360165,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[20] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1492371,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":87065,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":128543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:10.717 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7187,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":531154910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:10.718 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:11.248 response time in milliseconds: 529.70\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:11 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3513649a-26be-4e13-5a11-8b5624af0dd2\/status\"}},\"downloadRequestId\":\"3513649a-26be-4e13-5a11-8b5624af0dd2\"}","line":14}},{"name":"status 202","result":{"duration":8391,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":130845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":171390,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":81589,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":337514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:11.249 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":96901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":221832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:11.250 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3513649a-26be-4e13-5a11-8b5624af0dd2\/status","line":23}},{"name":"url statusurl","result":{"duration":5476,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":488197926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:11.250 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3513649a-26be-4e13-5a11-8b5624af0dd2\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:11.738 response time in milliseconds: 487.23\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:11 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/965fbd6c-0030-4b1c-851e-a51b58a8936f\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":482197849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:11.739 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3513649a-26be-4e13-5a11-8b5624af0dd2\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:12.220 response time in milliseconds: 481.08\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:12 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/965fbd6c-0030-4b1c-851e-a51b58a8936f\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":106200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":104097,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":275272,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:12.221 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/965fbd6c-0030-4b1c-851e-a51b58a8936f\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":85743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":494908182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:12.221 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/965fbd6c-0030-4b1c-851e-a51b58a8936f\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:12.716 response time in milliseconds: 494.06\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:12 GMT\n4 < Etag: \"5c391095119ce3ea4eece2175d1167fa-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:11 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0918C5DE151\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":9407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":6642851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":115339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":96264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":120304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:12.723 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":195322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:12.723 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/965fbd6c-0030-4b1c-851e-a51b58a8936f\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":153894,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:12.723 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":99909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":116742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":52396,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":54783,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":214238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[21] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":2108042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":58720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":130166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:12.730 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":8110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2503913273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:12.731 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:15.234 response time in milliseconds: 2502.78\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:15 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f2a50cd0-205c-4445-7494-edd3c3b83ead\/status\"}},\"downloadRequestId\":\"f2a50cd0-205c-4445-7494-edd3c3b83ead\"}","line":14}},{"name":"status 202","result":{"duration":7773,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":100247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":133847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":292093,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":229709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:15.235 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":116486,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":138053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:15.235 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f2a50cd0-205c-4445-7494-edd3c3b83ead\/status","line":23}},{"name":"url statusurl","result":{"duration":5236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":488164365,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:15.235 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f2a50cd0-205c-4445-7494-edd3c3b83ead\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:15.723 response time in milliseconds: 487.21\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:15 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/685f4950-e668-4ce4-b5bb-a8e6ef81207f\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":7923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":521408231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:15.729 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f2a50cd0-205c-4445-7494-edd3c3b83ead\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:16.250 response time in milliseconds: 520.28\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:16 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/685f4950-e668-4ce4-b5bb-a8e6ef81207f\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":76866,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":11438706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":3495975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:16.265 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/685f4950-e668-4ce4-b5bb-a8e6ef81207f\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":1085815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":529637973,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:16.271 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/685f4950-e668-4ce4-b5bb-a8e6ef81207f\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:16.797 response time in milliseconds: 526.19\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 664\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:16 GMT\n4 < Etag: \"24a09e85a9be3cc8ce154a7d5f1e6bdf-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:15 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0927E59ACCC\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7894,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":2555721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":8964960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":130245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":908339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:16.810 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":3092425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:16.813 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/685f4950-e668-4ce4-b5bb-a8e6ef81207f\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":2285021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:16.815 [print] size 664","line":42}},{"name":"assert zipsize > 600","result":{"duration":8209013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":732384,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":505660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":65370,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":4319112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[22] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"74059578-fae6-4945-9c61-b14d8315506f\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1790965,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":1593082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":113716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:16.841 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"74059578-fae6-4945-9c61-b14d8315506f\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":8212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1571247212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:16.847 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"74059578-fae6-4945-9c61-b14d8315506f\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:18.413 response time in milliseconds: 1565.50\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:18 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/341b6867-6841-4afc-4c8d-fd304f129301\/status\"}},\"downloadRequestId\":\"341b6867-6841-4afc-4c8d-fd304f129301\"}","line":14}},{"name":"status 202","result":{"duration":9843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":180843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":3975663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":171286,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":675046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:18.418 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1785550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":3856249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:18.424 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/341b6867-6841-4afc-4c8d-fd304f129301\/status","line":23}},{"name":"url statusurl","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":489360166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:18.425 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/341b6867-6841-4afc-4c8d-fd304f129301\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:18.913 response time in milliseconds: 487.57\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:18 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2ba08adf-2c3e-412d-b608-b8405981c0ab\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":7621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6169,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":492277629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:18.914 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/341b6867-6841-4afc-4c8d-fd304f129301\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:19.405 response time in milliseconds: 490.57\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:19 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2ba08adf-2c3e-412d-b608-b8405981c0ab\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":211353,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":219424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":625316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:19.407 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2ba08adf-2c3e-412d-b608-b8405981c0ab\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":329292,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":493145820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:19.408 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2ba08adf-2c3e-412d-b608-b8405981c0ab\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:19.900 response time in milliseconds: 491.86\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 4986\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:19 GMT\n4 < Etag: \"59a275b01b5185daddf82bdccc7ee515-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:18 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A09338BABE02\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":1207171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":809457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":1357929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":4976501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:19.909 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":1767509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:19.911 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2ba08adf-2c3e-412d-b608-b8405981c0ab\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":11429344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:19.922 [print] size 4986","line":42}},{"name":"assert zipsize > 600","result":{"duration":949947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":4369727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":980462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":912056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":2423627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[23] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"7846306d-9db1-47be-bb67-960c8db4901b\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1322675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":566281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":99882,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:19.936 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"7846306d-9db1-47be-bb67-960c8db4901b\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":491344520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:19.938 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"7846306d-9db1-47be-bb67-960c8db4901b\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:20.423 response time in milliseconds: 484.64\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:20 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2ceabdb0-954e-42fd-5051-f4ff1db5c217\/status\"}},\"downloadRequestId\":\"2ceabdb0-954e-42fd-5051-f4ff1db5c217\"}","line":14}},{"name":"status 202","result":{"duration":8840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":129058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":250238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":73220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":314841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:20.428 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":169601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":223019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:20.428 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2ceabdb0-954e-42fd-5051-f4ff1db5c217\/status","line":23}},{"name":"url statusurl","result":{"duration":4238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":492773230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:20.433 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2ceabdb0-954e-42fd-5051-f4ff1db5c217\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:20.921 response time in milliseconds: 487.56\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:20 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/64de35b6-c38c-40a7-b10f-85537e2e4bc6\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":12449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":512740206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:20.926 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2ceabdb0-954e-42fd-5051-f4ff1db5c217\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:21.429 response time in milliseconds: 502.79\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:21 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/64de35b6-c38c-40a7-b10f-85537e2e4bc6\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":181282,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":111835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":256330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:21.435 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/64de35b6-c38c-40a7-b10f-85537e2e4bc6\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":117992,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":501183379,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:21.435 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/64de35b6-c38c-40a7-b10f-85537e2e4bc6\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:21.936 response time in milliseconds: 500.39\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 2794\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:21 GMT\n4 < Etag: \"4ed902b651a034d4815f3a562fd4a7e6-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:20 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A093B1F47ABA\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":4600935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":128488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":195925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":112272,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:21.941 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":278581,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:21.942 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/64de35b6-c38c-40a7-b10f-85537e2e4bc6\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":189372,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:21.942 [print] size 2794","line":42}},{"name":"assert zipsize > 600","result":{"duration":180751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":204224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":144860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":116261,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":360054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[24] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1768888,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":97153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":97108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:21.947 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":8118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":495613547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:21.947 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:22.439 response time in milliseconds: 491.16\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:22 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/6bec33ac-2af1-4dc0-43f7-a64ad0c14d21\/status\"}},\"downloadRequestId\":\"6bec33ac-2af1-4dc0-43f7-a64ad0c14d21\"}","line":14}},{"name":"status 202","result":{"duration":7694,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":154600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":1354238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":77276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":248040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:22.444 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1795284,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":7696963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:22.454 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/6bec33ac-2af1-4dc0-43f7-a64ad0c14d21\/status","line":23}},{"name":"url statusurl","result":{"duration":4985,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":497656094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:22.454 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/6bec33ac-2af1-4dc0-43f7-a64ad0c14d21\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:22.951 response time in milliseconds: 496.70\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:22 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/25d7f6f7-361d-4228-8972-65aecdfe0355\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":7755,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":495968974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:22.952 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/6bec33ac-2af1-4dc0-43f7-a64ad0c14d21\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:23.447 response time in milliseconds: 494.39\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:23 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/25d7f6f7-361d-4228-8972-65aecdfe0355\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":179457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":204683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":569386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:23.449 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/25d7f6f7-361d-4228-8972-65aecdfe0355\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":260026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":507997786,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:23.451 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/25d7f6f7-361d-4228-8972-65aecdfe0355\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:23.957 response time in milliseconds: 505.71\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:23 GMT\n4 < Etag: \"622e5e122854b684cab3907eb046cc56-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:22 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0942A7FB020\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6558,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":2041921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":1109832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":2633199,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":1192059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:23.964 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":2916619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:23.967 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/25d7f6f7-361d-4228-8972-65aecdfe0355\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":2197541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:23.969 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":4446723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":1649257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":1594706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":1786541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":3041328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[25] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":2875931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":915371,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":195263,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:23.988 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":9172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":482060858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:23.989 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:24.471 response time in milliseconds: 480.80\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:24 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f41f658c-4be0-4068-7f49-5ca695596e8c\/status\"}},\"downloadRequestId\":\"f41f658c-4be0-4068-7f49-5ca695596e8c\"}","line":14}},{"name":"status 202","result":{"duration":7281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":421575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":436407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":144502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":335949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:24.472 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":228031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":213603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:24.473 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f41f658c-4be0-4068-7f49-5ca695596e8c\/status","line":23}},{"name":"url statusurl","result":{"duration":5371,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":481662568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:24.474 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f41f658c-4be0-4068-7f49-5ca695596e8c\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:24.954 response time in milliseconds: 480.68\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:24 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/b8e26c05-6900-4554-80ed-d32f81dbaf01\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":4623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":489280634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:24.955 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f41f658c-4be0-4068-7f49-5ca695596e8c\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:25.443 response time in milliseconds: 488.11\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:25 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/b8e26c05-6900-4554-80ed-d32f81dbaf01\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":121669,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":106717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":334386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:25.444 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/b8e26c05-6900-4554-80ed-d32f81dbaf01\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":190270,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":496641976,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:25.445 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/b8e26c05-6900-4554-80ed-d32f81dbaf01\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:25.941 response time in milliseconds: 495.71\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:25 GMT\n4 < Etag: \"e73ed377b495b8147764af7b9608a51c-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:24 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A094A0CCA395\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":3024031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":93158,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":170917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":106065,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:25.945 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":232212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:25.945 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/b8e26c05-6900-4554-80ed-d32f81dbaf01\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":168386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:25.945 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":121450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":156206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":72114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":63215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":215237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[26] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1833498,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":187010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":349077,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:25.950 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":8409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2416419885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:25.952 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:28.367 response time in milliseconds: 2414.88\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:28 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7dca01e1-4838-4634-70bf-3ba2f9963381\/status\"}},\"downloadRequestId\":\"7dca01e1-4838-4634-70bf-3ba2f9963381\"}","line":14}},{"name":"status 202","result":{"duration":6083,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":136794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":441593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":216688,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":498392,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:28.368 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":153686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":313831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:28.369 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7dca01e1-4838-4634-70bf-3ba2f9963381\/status","line":23}},{"name":"url statusurl","result":{"duration":13229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":488103332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:28.370 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7dca01e1-4838-4634-70bf-3ba2f9963381\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:28.857 response time in milliseconds: 487.04\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:28 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/938105cb-b8d9-428e-917d-54b6aa5074b1\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":7463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":513423552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:28.863 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7dca01e1-4838-4634-70bf-3ba2f9963381\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:29.370 response time in milliseconds: 507.16\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:29 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/938105cb-b8d9-428e-917d-54b6aa5074b1\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":98383,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":89828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":236016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:29.371 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/938105cb-b8d9-428e-917d-54b6aa5074b1\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":117898,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":540521361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:29.372 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/938105cb-b8d9-428e-917d-54b6aa5074b1\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:29.912 response time in milliseconds: 539.71\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 664\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:29 GMT\n4 < Etag: \"8574ae91d4ee25e3990a15e0e13935bf-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:28 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0958B887DA7\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":252344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":109953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":416427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":169595,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:29.913 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":365647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:29.913 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/938105cb-b8d9-428e-917d-54b6aa5074b1\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":266349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:29.914 [print] size 664","line":42}},{"name":"assert zipsize > 600","result":{"duration":144993,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":261959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":268384,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":166377,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":534423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[27] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":715296,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":65607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":116815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:29.919 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2335269035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:29.920 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:32.254 response time in milliseconds: 2333.99\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:32 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/a01964db-571d-4d01-4c40-3f171d07c344\/status\"}},\"downloadRequestId\":\"a01964db-571d-4d01-4c40-3f171d07c344\"}","line":14}},{"name":"status 202","result":{"duration":4818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":141752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":284745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":153567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":274592,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:32.255 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":157309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":177739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:32.255 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/a01964db-571d-4d01-4c40-3f171d07c344\/status","line":23}},{"name":"url statusurl","result":{"duration":4379,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":497660522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:32.256 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/a01964db-571d-4d01-4c40-3f171d07c344\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:32.753 response time in milliseconds: 496.25\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:32 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/b3ac1a42-1eb6-455c-aec2-84f523398d40\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4497,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5780,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":499626759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:32.755 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/a01964db-571d-4d01-4c40-3f171d07c344\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:33.249 response time in milliseconds: 494.34\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:33 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/b3ac1a42-1eb6-455c-aec2-84f523398d40\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":188948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":108580,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":380933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:33.258 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/b3ac1a42-1eb6-455c-aec2-84f523398d40\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":197665,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":504464861,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:33.259 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/b3ac1a42-1eb6-455c-aec2-84f523398d40\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:33.763 response time in milliseconds: 503.37\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:33 GMT\n4 < Etag: \"b8a56b8e2f5ee9069653120fb488d40c-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:32 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A09672DA9A66\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":194559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":81964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":227894,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":215807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:33.764 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":341117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:33.764 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/b3ac1a42-1eb6-455c-aec2-84f523398d40\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":249942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:33.764 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":143053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":207084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":154691,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":185708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":971594,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[28] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":9259141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":290471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":430629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:33.782 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2049139000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:33.784 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:35.831 response time in milliseconds: 2046.73\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:35 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/dbfb0ad6-e990-4af1-4ee5-cfe1afaa42b2\/status\"}},\"downloadRequestId\":\"dbfb0ad6-e990-4af1-4ee5-cfe1afaa42b2\"}","line":14}},{"name":"status 202","result":{"duration":3748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":151976,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":335409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":218835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":281937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:35.833 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":169651,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":184587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:35.833 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/dbfb0ad6-e990-4af1-4ee5-cfe1afaa42b2\/status","line":23}},{"name":"url statusurl","result":{"duration":12477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":482496974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:35.834 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/dbfb0ad6-e990-4af1-4ee5-cfe1afaa42b2\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:36.315 response time in milliseconds: 481.64\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:36 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/439dde55-48da-4cab-9a76-0e2d68488fd5\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5198,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":490545653,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:36.317 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/dbfb0ad6-e990-4af1-4ee5-cfe1afaa42b2\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:36.806 response time in milliseconds: 487.25\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:36 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/439dde55-48da-4cab-9a76-0e2d68488fd5\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":240428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":7930658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":326613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:36.815 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/439dde55-48da-4cab-9a76-0e2d68488fd5\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":187160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":506350410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:36.816 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/439dde55-48da-4cab-9a76-0e2d68488fd5\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:37.321 response time in milliseconds: 505.12\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 663\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:37 GMT\n4 < Etag: \"204d6c90ea30a591e3473fb5df8974a2-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:35 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0974705DFBE\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":227889,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":1495409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":500852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":478405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:37.324 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":631155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:37.325 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/439dde55-48da-4cab-9a76-0e2d68488fd5\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":317928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:37.325 [print] size 663","line":42}},{"name":"assert zipsize > 600","result":{"duration":169522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":344291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":172838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":125348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":455089,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[29] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1216623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":131160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":282193,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:37.332 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\n  \"featuretypes\": [\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1505062341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:37.333 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 275\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\"featuretypes\":[\"kadastralegrens\"]}\n\n02:30:38.838 response time in milliseconds: 1503.88\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:38 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5657ee66-0abc-4e3a-4cf1-b3b7c0fd7404\/status\"}},\"downloadRequestId\":\"5657ee66-0abc-4e3a-4cf1-b3b7c0fd7404\"}","line":14}},{"name":"status 202","result":{"duration":5057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":142825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":280916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":146497,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":250890,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:38.839 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":172832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":220957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:38.839 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5657ee66-0abc-4e3a-4cf1-b3b7c0fd7404\/status","line":23}},{"name":"url statusurl","result":{"duration":4740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":490264774,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:38.840 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5657ee66-0abc-4e3a-4cf1-b3b7c0fd7404\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:39.329 response time in milliseconds: 489.45\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:39 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/5f9784c0-3bea-48c0-ba7c-e6dd00345346\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5179,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":483351770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:39.330 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5657ee66-0abc-4e3a-4cf1-b3b7c0fd7404\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:39.810 response time in milliseconds: 479.97\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:39 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/5f9784c0-3bea-48c0-ba7c-e6dd00345346\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":184345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":95742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":7817805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:39.821 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/5f9784c0-3bea-48c0-ba7c-e6dd00345346\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":1065648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":494844450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:39.823 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/5f9784c0-3bea-48c0-ba7c-e6dd00345346\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:40.317 response time in milliseconds: 494.05\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 9292\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:40 GMT\n4 < Etag: \"45df00b4f04213ff38fa91f87fd99b5a-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:38 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A097F9B38FEA\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":1729327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":1060509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":268795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":958459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:40.321 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":2036464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:40.323 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/5f9784c0-3bea-48c0-ba7c-e6dd00345346\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":1669215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:40.325 [print] size 9292","line":42}},{"name":"assert zipsize > 600","result":{"duration":2094701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":217188,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":125410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":156905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":2318687,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48}]},{"line":40,"name":"downoad deltas op locatie buitenhof perceel\",\"kadastralegrens","description":"","id":"downoad-deltas-op-locatie-buitenhof-perceel\",\"kadastralegrens","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"print \"bepaal een delta ids \"","result":{"duration":12855059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7,"doc_string":{"content_type":"","value":"02:29:23.379 base url : {\n  \"apiBaseUrl\": \"https:\/\/downloads.pdok.nl\/\"\n}\n \n02:29:23.392 [print] bepaal een delta ids","line":7}},{"name":"url apiBaseUrl + 'kadastralekaart\/api\/v4_0\/delta'","result":{"duration":18244573,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":8},{"name":"param count = 1000","result":{"duration":1026219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":9},{"name":"param after-delta-id = \"b2219778-e94c-40b0-92bd-95e3491af2bb\"","result":{"duration":924955,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":10},{"name":"method GET","result":{"duration":540508294,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":11,"doc_string":{"content_type":"","value":"02:29:23.415 request:\n1 > GET https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta?count=1000&after-delta-id=b2219778-e94c-40b0-92bd-95e3491af2bb\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:23.952 response time in milliseconds: 536.39\n1 < 200\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:23 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < Transfer-Encoding: chunked\n1 < X-Cnection: close\n{\"deltas\":[{\"id\":\"2b104759-f77d-496a-94e4-7064f199b446\",\"timeWindow\":{\"from\":\"2021-05-15T21:59:59Z\",\"to\":\"2021-05-16T21:59:59Z\"}},{\"id\":\"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\"timeWindow\":{\"from\":\"2021-05-16T21:59:59Z\",\"to\":\"2021-05-17T21:59:59Z\"}},{\"id\":\"801a3c3e-a010-4fff-9c4a-812d7c813674\",\"timeWindow\":{\"from\":\"2021-05-17T21:59:59Z\",\"to\":\"2021-05-18T21:59:59Z\"}},{\"id\":\"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\"timeWindow\":{\"from\":\"2021-05-18T21:59:59Z\",\"to\":\"2021-05-19T21:59:59Z\"}},{\"id\":\"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\"timeWindow\":{\"from\":\"2021-05-19T21:59:59Z\",\"to\":\"2021-05-20T21:59:59Z\"}},{\"id\":\"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\"timeWindow\":{\"from\":\"2021-05-20T21:59:59Z\",\"to\":\"2021-05-21T21:59:59Z\"}},{\"id\":\"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\"timeWindow\":{\"from\":\"2021-05-21T21:59:59Z\",\"to\":\"2021-05-22T21:59:59Z\"}},{\"id\":\"e6640b5a-f20a-450e-9250-986540178c75\",\"timeWindow\":{\"from\":\"2021-05-22T21:59:59Z\",\"to\":\"2021-05-23T21:59:59Z\"}},{\"id\":\"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\"timeWindow\":{\"from\":\"2021-05-23T21:59:59Z\",\"to\":\"2021-05-24T21:59:59Z\"}},{\"id\":\"25e98e4e-ef9b-42d1-a419-03fef9478802\",\"timeWindow\":{\"from\":\"2021-05-24T21:59:59Z\",\"to\":\"2021-05-25T21:59:59Z\"}},{\"id\":\"9297d9e4-cc92-415f-b258-642b4ecdb967\",\"timeWindow\":{\"from\":\"2021-05-25T21:59:59Z\",\"to\":\"2021-05-26T21:59:59Z\"}},{\"id\":\"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\"timeWindow\":{\"from\":\"2021-05-26T21:59:59Z\",\"to\":\"2021-05-27T21:59:59Z\"}},{\"id\":\"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\"timeWindow\":{\"from\":\"2021-05-27T21:59:59Z\",\"to\":\"2021-05-28T21:59:59Z\"}},{\"id\":\"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\"timeWindow\":{\"from\":\"2021-05-28T21:59:59Z\",\"to\":\"2021-05-29T21:59:59Z\"}},{\"id\":\"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\"timeWindow\":{\"from\":\"2021-05-29T21:59:59Z\",\"to\":\"2021-05-30T21:59:59Z\"}},{\"id\":\"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\"timeWindow\":{\"from\":\"2021-05-30T21:59:59Z\",\"to\":\"2021-05-31T21:59:59Z\"}},{\"id\":\"a7ced3a4-8dd3-44df-8774-f08d01839035\",\"timeWindow\":{\"from\":\"2021-05-31T21:59:59Z\",\"to\":\"2021-06-01T21:59:59Z\"}},{\"id\":\"3021d17f-c396-4704-8770-d0231e9d5d9b\",\"timeWindow\":{\"from\":\"2021-06-01T21:59:59Z\",\"to\":\"2021-06-02T21:59:59Z\"}},{\"id\":\"199c4014-5688-4581-9513-9d8bc2f0c040\",\"timeWindow\":{\"from\":\"2021-06-02T21:59:59Z\",\"to\":\"2021-06-03T21:59:59Z\"}},{\"id\":\"74c6011e-9871-4f8a-b911-0142eea98ee7\",\"timeWindow\":{\"from\":\"2021-06-03T21:59:59Z\",\"to\":\"2021-06-04T21:59:59Z\"}},{\"id\":\"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\"timeWindow\":{\"from\":\"2021-06-04T21:59:59Z\",\"to\":\"2021-06-05T21:59:59Z\"}},{\"id\":\"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\"timeWindow\":{\"from\":\"2021-06-05T21:59:59Z\",\"to\":\"2021-06-06T21:59:59Z\"}},{\"id\":\"74059578-fae6-4945-9c61-b14d8315506f\",\"timeWindow\":{\"from\":\"2021-06-06T21:59:59Z\",\"to\":\"2021-06-07T21:59:59Z\"}},{\"id\":\"7846306d-9db1-47be-bb67-960c8db4901b\",\"timeWindow\":{\"from\":\"2021-06-07T21:59:59Z\",\"to\":\"2021-06-08T21:59:59Z\"}},{\"id\":\"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\"timeWindow\":{\"from\":\"2021-06-08T21:59:59Z\",\"to\":\"2021-06-09T21:59:59Z\"}},{\"id\":\"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\"timeWindow\":{\"from\":\"2021-06-09T21:59:59Z\",\"to\":\"2021-06-10T21:59:59Z\"}},{\"id\":\"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\"timeWindow\":{\"from\":\"2021-06-10T21:59:59Z\",\"to\":\"2021-06-11T21:59:59Z\"}},{\"id\":\"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\"timeWindow\":{\"from\":\"2021-06-11T21:59:59Z\",\"to\":\"2021-06-12T21:59:59Z\"}},{\"id\":\"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\"timeWindow\":{\"from\":\"2021-06-12T21:59:59Z\",\"to\":\"2021-06-13T21:59:59Z\"}},{\"id\":\"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\"timeWindow\":{\"from\":\"2021-06-13T21:59:59Z\",\"to\":\"2021-06-14T21:59:59Z\"}}],\"_links\":[]}","line":11}},{"name":"status 200","result":{"duration":6861,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":12},{"name":"def alldelta = response.deltas","result":{"duration":7541252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"print \"alldelta:\", alldelta","result":{"duration":4837036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14,"doc_string":{"content_type":"","value":"02:29:23.965 [print] alldelta: [\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-15T21:59:59Z\",\n      \"to\": \"2021-05-16T21:59:59Z\"\n    },\n    \"id\": \"2b104759-f77d-496a-94e4-7064f199b446\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-16T21:59:59Z\",\n      \"to\": \"2021-05-17T21:59:59Z\"\n    },\n    \"id\": \"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-17T21:59:59Z\",\n      \"to\": \"2021-05-18T21:59:59Z\"\n    },\n    \"id\": \"801a3c3e-a010-4fff-9c4a-812d7c813674\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-18T21:59:59Z\",\n      \"to\": \"2021-05-19T21:59:59Z\"\n    },\n    \"id\": \"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-19T21:59:59Z\",\n      \"to\": \"2021-05-20T21:59:59Z\"\n    },\n    \"id\": \"9c93aa0c-86a4-49fa-826e-549c719cc0aa\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-20T21:59:59Z\",\n      \"to\": \"2021-05-21T21:59:59Z\"\n    },\n    \"id\": \"1577858c-8c9f-481a-8e45-084bd85e5f4e\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-21T21:59:59Z\",\n      \"to\": \"2021-05-22T21:59:59Z\"\n    },\n    \"id\": \"f784d3c1-2e95-4c30-9268-11d0d61ac131\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-22T21:59:59Z\",\n      \"to\": \"2021-05-23T21:59:59Z\"\n    },\n    \"id\": \"e6640b5a-f20a-450e-9250-986540178c75\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-23T21:59:59Z\",\n      \"to\": \"2021-05-24T21:59:59Z\"\n    },\n    \"id\": \"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-24T21:59:59Z\",\n      \"to\": \"2021-05-25T21:59:59Z\"\n    },\n    \"id\": \"25e98e4e-ef9b-42d1-a419-03fef9478802\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-25T21:59:59Z\",\n      \"to\": \"2021-05-26T21:59:59Z\"\n    },\n    \"id\": \"9297d9e4-cc92-415f-b258-642b4ecdb967\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-26T21:59:59Z\",\n      \"to\": \"2021-05-27T21:59:59Z\"\n    },\n    \"id\": \"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-27T21:59:59Z\",\n      \"to\": \"2021-05-28T21:59:59Z\"\n    },\n    \"id\": \"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-28T21:59:59Z\",\n      \"to\": \"2021-05-29T21:59:59Z\"\n    },\n    \"id\": \"ee7de3a0-af84-4382-88f6-015c69fbcf22\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-29T21:59:59Z\",\n      \"to\": \"2021-05-30T21:59:59Z\"\n    },\n    \"id\": \"7d86880e-ec38-45a7-8d26-8b50b25cb564\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-30T21:59:59Z\",\n      \"to\": \"2021-05-31T21:59:59Z\"\n    },\n    \"id\": \"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-05-31T21:59:59Z\",\n      \"to\": \"2021-06-01T21:59:59Z\"\n    },\n    \"id\": \"a7ced3a4-8dd3-44df-8774-f08d01839035\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-01T21:59:59Z\",\n      \"to\": \"2021-06-02T21:59:59Z\"\n    },\n    \"id\": \"3021d17f-c396-4704-8770-d0231e9d5d9b\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-02T21:59:59Z\",\n      \"to\": \"2021-06-03T21:59:59Z\"\n    },\n    \"id\": \"199c4014-5688-4581-9513-9d8bc2f0c040\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-03T21:59:59Z\",\n      \"to\": \"2021-06-04T21:59:59Z\"\n    },\n    \"id\": \"74c6011e-9871-4f8a-b911-0142eea98ee7\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-04T21:59:59Z\",\n      \"to\": \"2021-06-05T21:59:59Z\"\n    },\n    \"id\": \"95843b80-f891-4f0d-ac68-6f104d38a0c6\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-05T21:59:59Z\",\n      \"to\": \"2021-06-06T21:59:59Z\"\n    },\n    \"id\": \"304c598c-211c-4d4e-86cf-c87c8be1fd60\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-06T21:59:59Z\",\n      \"to\": \"2021-06-07T21:59:59Z\"\n    },\n    \"id\": \"74059578-fae6-4945-9c61-b14d8315506f\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-07T21:59:59Z\",\n      \"to\": \"2021-06-08T21:59:59Z\"\n    },\n    \"id\": \"7846306d-9db1-47be-bb67-960c8db4901b\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-08T21:59:59Z\",\n      \"to\": \"2021-06-09T21:59:59Z\"\n    },\n    \"id\": \"ecc65af0-5df2-4c51-997e-424a8ec168f9\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-09T21:59:59Z\",\n      \"to\": \"2021-06-10T21:59:59Z\"\n    },\n    \"id\": \"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-10T21:59:59Z\",\n      \"to\": \"2021-06-11T21:59:59Z\"\n    },\n    \"id\": \"80d32f9f-5641-4d0a-89bb-616e9c0f890f\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-11T21:59:59Z\",\n      \"to\": \"2021-06-12T21:59:59Z\"\n    },\n    \"id\": \"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-12T21:59:59Z\",\n      \"to\": \"2021-06-13T21:59:59Z\"\n    },\n    \"id\": \"ee381f94-96f3-41e5-bbd5-4b678eee1db0\"\n  },\n  {\n    \"timeWindow\": {\n      \"from\": \"2021-06-13T21:59:59Z\",\n      \"to\": \"2021-06-14T21:59:59Z\"\n    },\n    \"id\": \"359a0c94-3317-42ed-b8c7-508f5d13f2c1\"\n  }\n]","line":14}},{"name":"def pararray = []","result":{"duration":60359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"def featureslist = [\"perceel\",\"kadastralegrens\"]","result":{"duration":23379,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"def fun =","result":{"duration":1573881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":20,"doc_string":{"content_type":"","value":"function(delta) {\nreq = { format: \"gml\", geofilter: 'POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))' };\nreq[\"deltaId\"] = delta[\"id\"];\nreq[\"featuretypes\"] = featureslist;\npararray.add (req);\n}","line":20}},{"name":"eval karate.forEach(alldelta, fun)","result":{"duration":16422074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":30},{"name":"print \"array:\", pararray","result":{"duration":4698752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":32,"doc_string":{"content_type":"","value":"02:29:23.988 [print] array: [\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"2b104759-f77d-496a-94e4-7064f199b446\",\n    \"featuretypes\": [\n      \"perceel\",\n      \"kadastralegrens\"\n    ]\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"801a3c3e-a010-4fff-9c4a-812d7c813674\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"e6640b5a-f20a-450e-9250-986540178c75\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"25e98e4e-ef9b-42d1-a419-03fef9478802\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"9297d9e4-cc92-415f-b258-642b4ecdb967\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"a7ced3a4-8dd3-44df-8774-f08d01839035\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"3021d17f-c396-4704-8770-d0231e9d5d9b\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"199c4014-5688-4581-9513-9d8bc2f0c040\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"74c6011e-9871-4f8a-b911-0142eea98ee7\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"74059578-fae6-4945-9c61-b14d8315506f\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"7846306d-9db1-47be-bb67-960c8db4901b\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  },\n  {\n    \"format\": \"gml\",\n    \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n    \"deltaId\": \"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\n    \"featuretypes\": \"#ref:net.minidev.json.JSONArray\"\n  }\n]","line":32}},{"name":"print \"done\"","result":{"duration":6512008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33,"doc_string":{"content_type":"","value":"02:29:23.995 [print] done","line":33}},{"name":"def dodelta = call read('DeltaCustomargs.feature') pararray","result":{"duration":88108397272,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"[0] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"2b104759-f77d-496a-94e4-7064f199b446\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":3599969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":5500584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":215473,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:24.037 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"2b104759-f77d-496a-94e4-7064f199b446\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":12692,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":489185600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:24.038 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"2b104759-f77d-496a-94e4-7064f199b446\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:24.526 response time in milliseconds: 487.58\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:24 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e5313f51-2db8-43cf-4c4f-b2e569833f1e\/status\"}},\"downloadRequestId\":\"e5313f51-2db8-43cf-4c4f-b2e569833f1e\"}","line":14}},{"name":"status 202","result":{"duration":11578,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":604927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":764015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":456431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":777216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:24.529 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":583221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":748176,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:24.531 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e5313f51-2db8-43cf-4c4f-b2e569833f1e\/status","line":23}},{"name":"url statusurl","result":{"duration":7590,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":523837312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:24.533 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e5313f51-2db8-43cf-4c4f-b2e569833f1e\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:25.055 response time in milliseconds: 521.38\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:24 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cd2265cb-3788-4238-a862-061814963b56\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":24587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":12586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":488722874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:25.062 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/e5313f51-2db8-43cf-4c4f-b2e569833f1e\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:25.545 response time in milliseconds: 482.71\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:25 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cd2265cb-3788-4238-a862-061814963b56\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":122430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":175722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":389108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:25.551 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cd2265cb-3788-4238-a862-061814963b56\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":240116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":544417170,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:25.552 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cd2265cb-3788-4238-a862-061814963b56\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:26.095 response time in milliseconds: 543.05\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:26 GMT\n4 < Etag: \"f6c91f7f801f2eece8189397126811c6-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:24 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A086B00487C7\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":284898,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":10546938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":155818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":189285,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:26.107 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":2996452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:26.110 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cd2265cb-3788-4238-a862-061814963b56\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":389323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:26.110 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":218114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":157695,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":65652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":65424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":957575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[1] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":9888738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":146487,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":308672,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:26.125 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":29742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":486321267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:26.131 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"c31553da-c1ff-4d9e-80d4-dd60544a1b2d\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:26.611 response time in milliseconds: 480.15\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:26 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/68348283-98d1-4559-5a54-ef30a666b3c1\/status\"}},\"downloadRequestId\":\"68348283-98d1-4559-5a54-ef30a666b3c1\"}","line":14}},{"name":"status 202","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":192463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":394616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":281213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":9598575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:26.621 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":287690,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":639962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:26.623 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/68348283-98d1-4559-5a54-ef30a666b3c1\/status","line":23}},{"name":"url statusurl","result":{"duration":8289,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":496310052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:26.624 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/68348283-98d1-4559-5a54-ef30a666b3c1\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:27.119 response time in milliseconds: 494.88\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:27 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e7f97e7f-e7ef-4d8b-a2ba-80f4b267f898\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":90835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":10221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":489821726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:27.121 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/68348283-98d1-4559-5a54-ef30a666b3c1\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:27.608 response time in milliseconds: 486.43\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:27 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e7f97e7f-e7ef-4d8b-a2ba-80f4b267f898\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":129703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":229679,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":361657,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:27.611 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e7f97e7f-e7ef-4d8b-a2ba-80f4b267f898\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":679149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":511984638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:27.613 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e7f97e7f-e7ef-4d8b-a2ba-80f4b267f898\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:28.123 response time in milliseconds: 509.73\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:28 GMT\n4 < Etag: \"3ecb9dbf25abb00914c101fdab670fdc-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:26 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0872A5F81E5\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":201614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":122822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":91157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":102477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:28.124 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":299273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:28.124 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e7f97e7f-e7ef-4d8b-a2ba-80f4b267f898\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":215425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:28.125 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":160923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":122912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":82364,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":61340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":394396,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[2] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"801a3c3e-a010-4fff-9c4a-812d7c813674\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":917123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":100064,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":217146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:28.130 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"801a3c3e-a010-4fff-9c4a-812d7c813674\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":5806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":486235731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:28.133 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"801a3c3e-a010-4fff-9c4a-812d7c813674\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:28.616 response time in milliseconds: 483.05\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:28 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ffae6374-6173-4473-42f6-ba88b6f568be\/status\"}},\"downloadRequestId\":\"ffae6374-6173-4473-42f6-ba88b6f568be\"}","line":14}},{"name":"status 202","result":{"duration":6253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":341244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":410855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":299325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":507626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:28.618 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":266967,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":399617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:28.619 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ffae6374-6173-4473-42f6-ba88b6f568be\/status","line":23}},{"name":"url statusurl","result":{"duration":7108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":485794441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:28.620 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ffae6374-6173-4473-42f6-ba88b6f568be\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:29.104 response time in milliseconds: 484.32\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:29 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/73d5b260-2a33-4fc8-96cb-5fd2b2335c68\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":10413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":487650313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:29.109 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ffae6374-6173-4473-42f6-ba88b6f568be\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:29.594 response time in milliseconds: 484.28\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:29 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/73d5b260-2a33-4fc8-96cb-5fd2b2335c68\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":151876,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":4536312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":390087,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:29.599 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/73d5b260-2a33-4fc8-96cb-5fd2b2335c68\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":233819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":525352570,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:29.600 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/73d5b260-2a33-4fc8-96cb-5fd2b2335c68\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:30.125 response time in milliseconds: 524.10\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:30 GMT\n4 < Etag: \"e410cef9211084c546507fc15ba690ee-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:28 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A087A1811119\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":267573,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":158308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":148834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":238327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:30.126 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":681947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:30.127 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/73d5b260-2a33-4fc8-96cb-5fd2b2335c68\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":496498,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:30.127 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":524041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":204834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":83609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":160734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":605361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[3] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1214496,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":184948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":281740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:30.133 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":781986306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:30.134 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"9d181f42-7ef5-4c43-b7d7-3cf4195e1473\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:30.915 response time in milliseconds: 780.39\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:30 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c84f5017-ec42-4760-75a4-04eec5ad3205\/status\"}},\"downloadRequestId\":\"c84f5017-ec42-4760-75a4-04eec5ad3205\"}","line":14}},{"name":"status 202","result":{"duration":6886,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":4021036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":333761,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":301814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":297082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:30.921 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1003941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":268913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:30.923 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c84f5017-ec42-4760-75a4-04eec5ad3205\/status","line":23}},{"name":"url statusurl","result":{"duration":7023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":535070725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:30.923 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c84f5017-ec42-4760-75a4-04eec5ad3205\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:31.457 response time in milliseconds: 533.94\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:31 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/52ef7077-cb22-4310-ba70-8e57e7a49dd8\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5582,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":484812386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:31.459 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c84f5017-ec42-4760-75a4-04eec5ad3205\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:31.942 response time in milliseconds: 483.44\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:31 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/52ef7077-cb22-4310-ba70-8e57e7a49dd8\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":103892,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":139992,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":263063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:31.943 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/52ef7077-cb22-4310-ba70-8e57e7a49dd8\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":193958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":493530148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:31.944 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/52ef7077-cb22-4310-ba70-8e57e7a49dd8\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:32.437 response time in milliseconds: 492.53\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:32 GMT\n4 < Etag: \"2c844c507a2a63e88b203c4aeb631890-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:31 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0882B81DA5B\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":1878165,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":288640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":252337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":294163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:32.440 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":1303958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:32.441 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/52ef7077-cb22-4310-ba70-8e57e7a49dd8\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":349257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:32.442 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":799928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":143412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":59778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":67166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":524875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[4] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":5705566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":224949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":604613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:32.458 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7789,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":485496343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:32.460 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"9c93aa0c-86a4-49fa-826e-549c719cc0aa\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:32.943 response time in milliseconds: 482.82\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:32 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7eea21c7-3cdf-4c14-5dc7-8f184f3bf51e\/status\"}},\"downloadRequestId\":\"7eea21c7-3cdf-4c14-5dc7-8f184f3bf51e\"}","line":14}},{"name":"status 202","result":{"duration":5249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":154714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":259455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":179458,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":267798,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:32.945 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":193985,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":250171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:32.945 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7eea21c7-3cdf-4c14-5dc7-8f184f3bf51e\/status","line":23}},{"name":"url statusurl","result":{"duration":6229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":486042797,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:32.946 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7eea21c7-3cdf-4c14-5dc7-8f184f3bf51e\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:33.431 response time in milliseconds: 485.04\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 161\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:33 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7eea21c7-3cdf-4c14-5dc7-8f184f3bf51e\/status\"}},\"progress\":100,\"status\":\"RUNNING\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4181,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":4037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":501220630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:33.436 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/7eea21c7-3cdf-4c14-5dc7-8f184f3bf51e\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:33.929 response time in milliseconds: 492.37\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:33 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cba39ab5-bf73-4a13-ad75-5c5ba17c619b\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":101916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":102273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":265366,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:33.933 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cba39ab5-bf73-4a13-ad75-5c5ba17c619b\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":223817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":500310544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:33.934 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cba39ab5-bf73-4a13-ad75-5c5ba17c619b\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:34.433 response time in milliseconds: 499.32\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1308\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:34 GMT\n4 < Etag: \"869166bfde4ee6ce22e95e06d3109796-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:33 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A088A2809EBA\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":9757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":419482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":204557,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":257401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":211419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:34.436 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":6720227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:34.443 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/cba39ab5-bf73-4a13-ad75-5c5ba17c619b\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":300411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:34.443 [print] size 1308","line":42}},{"name":"assert zipsize > 600","result":{"duration":244852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":152646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":87765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":79719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":656172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[5] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":7780378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":172248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":4032259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:34.459 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":23702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2139923820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:34.461 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"1577858c-8c9f-481a-8e45-084bd85e5f4e\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:36.599 response time in milliseconds: 2138.20\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:36 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/bbba88fe-2459-4c76-58ac-0a3912f75e05\/status\"}},\"downloadRequestId\":\"bbba88fe-2459-4c76-58ac-0a3912f75e05\"}","line":14}},{"name":"status 202","result":{"duration":5569,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":161572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":376335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":197434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":5582612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:36.606 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":346375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":254643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:36.606 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/bbba88fe-2459-4c76-58ac-0a3912f75e05\/status","line":23}},{"name":"url statusurl","result":{"duration":7913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":484367077,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:36.607 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/bbba88fe-2459-4c76-58ac-0a3912f75e05\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:37.091 response time in milliseconds: 483.30\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:37 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/14d69d3a-9020-4130-ade9-045c2651b022\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":14854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":499475840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:37.093 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/bbba88fe-2459-4c76-58ac-0a3912f75e05\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:37.582 response time in milliseconds: 488.76\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:37 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/14d69d3a-9020-4130-ade9-045c2651b022\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":194225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":193503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":406465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:37.593 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/14d69d3a-9020-4130-ade9-045c2651b022\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":473985,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":497827201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:37.594 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/14d69d3a-9020-4130-ade9-045c2651b022\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:38.091 response time in milliseconds: 496.40\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:38 GMT\n4 < Etag: \"a37be85009ae47109348b0db3f1741f6-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:36 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0897C680F99\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":13004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":5189327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":204896,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":114867,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":143084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:38.097 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":559157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:38.098 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/14d69d3a-9020-4130-ade9-045c2651b022\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":241177,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:38.098 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":2295301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":162690,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":101084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":96781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":3371398,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[6] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":4197045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":56283,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":144367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:38.110 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":507484223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:38.111 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"f784d3c1-2e95-4c30-9268-11d0d61ac131\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:38.618 response time in milliseconds: 506.38\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:38 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/02841582-f5c8-4d13-5f6d-ac1f7c89bcba\/status\"}},\"downloadRequestId\":\"02841582-f5c8-4d13-5f6d-ac1f7c89bcba\"}","line":14}},{"name":"status 202","result":{"duration":4102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":104889,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":88045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":56519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":231958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:38.619 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":98273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":126631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:38.619 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/02841582-f5c8-4d13-5f6d-ac1f7c89bcba\/status","line":23}},{"name":"url statusurl","result":{"duration":4891,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":498011431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:38.619 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/02841582-f5c8-4d13-5f6d-ac1f7c89bcba\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:39.117 response time in milliseconds: 497.04\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:39 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/459105b6-c5c1-4ceb-a313-78bc3fa3dfc6\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":504498701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:39.118 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/02841582-f5c8-4d13-5f6d-ac1f7c89bcba\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:39.621 response time in milliseconds: 503.23\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:39 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/459105b6-c5c1-4ceb-a313-78bc3fa3dfc6\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":100296,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":121417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":221195,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:39.622 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/459105b6-c5c1-4ceb-a313-78bc3fa3dfc6\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":91466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":493843558,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:39.623 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/459105b6-c5c1-4ceb-a313-78bc3fa3dfc6\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:40.116 response time in milliseconds: 492.76\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:40 GMT\n4 < Etag: \"cf7e2c8a20107a34f72c715feb4bc71b-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:38 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A089F51FD889\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":344309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":170881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":153751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":156833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:40.117 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":289041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:40.117 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/459105b6-c5c1-4ceb-a313-78bc3fa3dfc6\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":685953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:40.118 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":106432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":146383,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":109898,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":79476,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":287216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[7] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"e6640b5a-f20a-450e-9250-986540178c75\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1366983,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":82728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":181057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:40.131 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"e6640b5a-f20a-450e-9250-986540178c75\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7594,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":483008449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:40.132 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"e6640b5a-f20a-450e-9250-986540178c75\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:40.614 response time in milliseconds: 481.78\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:40 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cbe528bd-d911-4c7e-4cbe-d53050ced698\/status\"}},\"downloadRequestId\":\"cbe528bd-d911-4c7e-4cbe-d53050ced698\"}","line":14}},{"name":"status 202","result":{"duration":6153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":187000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":4093461,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":159899,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":260457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:40.619 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":107643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":191128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:40.619 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cbe528bd-d911-4c7e-4cbe-d53050ced698\/status","line":23}},{"name":"url statusurl","result":{"duration":6763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":483770047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:40.620 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cbe528bd-d911-4c7e-4cbe-d53050ced698\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:41.103 response time in milliseconds: 482.87\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:41 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7d93a357-9315-4fd3-b06a-69f1d8a62209\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":3478,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":3978,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":490440633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:41.103 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cbe528bd-d911-4c7e-4cbe-d53050ced698\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:41.593 response time in milliseconds: 489.55\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:41 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7d93a357-9315-4fd3-b06a-69f1d8a62209\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":114659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":152879,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":309606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:41.594 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7d93a357-9315-4fd3-b06a-69f1d8a62209\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":137894,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":498857155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:41.595 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7d93a357-9315-4fd3-b06a-69f1d8a62209\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:42.093 response time in milliseconds: 497.82\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:42 GMT\n4 < Etag: \"83fe560aac37ceea361b9dcaa07a27f3-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:40 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08A6AB2E1FD\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":10394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":222665,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":90289,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":95913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":88905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:42.094 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":150634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:42.094 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7d93a357-9315-4fd3-b06a-69f1d8a62209\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":105237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:42.094 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":91626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":111638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":46250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":52666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":194394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[8] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1588689,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":96212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":321025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:42.100 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":9957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1560786371,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:42.101 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"1c15ea7f-bf22-43a8-b5e9-b66a1871f27d\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:43.661 response time in milliseconds: 1559.38\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:43 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/8c47a5cb-c3c2-4b79-7604-15376278a101\/status\"}},\"downloadRequestId\":\"8c47a5cb-c3c2-4b79-7604-15376278a101\"}","line":14}},{"name":"status 202","result":{"duration":5925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":5871206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":219948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":89683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":352609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:43.667 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":134278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":164028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:43.668 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/8c47a5cb-c3c2-4b79-7604-15376278a101\/status","line":23}},{"name":"url statusurl","result":{"duration":7856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":518542666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:43.672 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/8c47a5cb-c3c2-4b79-7604-15376278a101\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:44.186 response time in milliseconds: 513.45\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:44 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ba46ac67-39d3-421a-861e-66c85d11b76a\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":8899,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":496437284,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:44.188 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/8c47a5cb-c3c2-4b79-7604-15376278a101\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:44.676 response time in milliseconds: 488.45\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:44 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ba46ac67-39d3-421a-861e-66c85d11b76a\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":155922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":113603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":239984,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:44.684 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ba46ac67-39d3-421a-861e-66c85d11b76a\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":168649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":612627244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:44.686 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ba46ac67-39d3-421a-861e-66c85d11b76a\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:45.297 response time in milliseconds: 611.23\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1312\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:45 GMT\n4 < Etag: \"57548413887977e29e29576bf30f60ad-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:44 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08B29F1E942\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":275228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":170424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":187643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":129936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:45.298 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":253343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:45.298 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ba46ac67-39d3-421a-861e-66c85d11b76a\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":150621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:45.299 [print] size 1312","line":42}},{"name":"assert zipsize > 600","result":{"duration":92654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":164328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":87501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":75995,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":304974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[9] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"25e98e4e-ef9b-42d1-a419-03fef9478802\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1565036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":51199,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":118451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:45.303 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"25e98e4e-ef9b-42d1-a419-03fef9478802\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":5181,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":502023407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:45.304 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"25e98e4e-ef9b-42d1-a419-03fef9478802\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:45.805 response time in milliseconds: 499.19\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:45 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5b9c20e2-8e48-414c-5fb4-01eb8c9cd198\/status\"}},\"downloadRequestId\":\"5b9c20e2-8e48-414c-5fb4-01eb8c9cd198\"}","line":14}},{"name":"status 202","result":{"duration":4429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":101520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":107103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":60293,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":263845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:45.806 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":102608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":141094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:45.806 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5b9c20e2-8e48-414c-5fb4-01eb8c9cd198\/status","line":23}},{"name":"url statusurl","result":{"duration":6404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":503661711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:45.807 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5b9c20e2-8e48-414c-5fb4-01eb8c9cd198\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:46.307 response time in milliseconds: 499.48\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 161\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:46 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5b9c20e2-8e48-414c-5fb4-01eb8c9cd198\/status\"}},\"progress\":100,\"status\":\"RUNNING\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5581,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7681,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":501489582,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:46.311 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5b9c20e2-8e48-414c-5fb4-01eb8c9cd198\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:46.804 response time in milliseconds: 492.73\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:46 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ceb0f994-6089-4031-8898-67c5b2734942\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":155239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":138134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":280113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:46.812 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ceb0f994-6089-4031-8898-67c5b2734942\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":152953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":575975339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:46.814 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ceb0f994-6089-4031-8898-67c5b2734942\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:47.389 response time in milliseconds: 574.56\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1306\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:47 GMT\n4 < Etag: \"c941425af6bb0163e023228e87446572-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:46 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08BA3EFA97D\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":3579001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":148511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":96425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":191033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:47.393 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":160971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:47.393 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ceb0f994-6089-4031-8898-67c5b2734942\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":91223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:47.393 [print] size 1306","line":42}},{"name":"assert zipsize > 600","result":{"duration":73992,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":91544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":69525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":60318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":186625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[10] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9297d9e4-cc92-415f-b258-642b4ecdb967\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":12390225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":96525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":122523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:47.408 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"9297d9e4-cc92-415f-b258-642b4ecdb967\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":5710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1772900600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:47.409 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"9297d9e4-cc92-415f-b258-642b4ecdb967\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:49.181 response time in milliseconds: 1771.77\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:49 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ca73b644-647e-404c-76c0-acb3a2c7b14d\/status\"}},\"downloadRequestId\":\"ca73b644-647e-404c-76c0-acb3a2c7b14d\"}","line":14}},{"name":"status 202","result":{"duration":6375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":170408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":5202540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":97981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":282695,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:49.187 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":102779,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":139433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:49.187 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ca73b644-647e-404c-76c0-acb3a2c7b14d\/status","line":23}},{"name":"url statusurl","result":{"duration":5346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":488879651,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:49.188 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ca73b644-647e-404c-76c0-acb3a2c7b14d\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:49.676 response time in milliseconds: 487.84\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 159\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:49 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ca73b644-647e-404c-76c0-acb3a2c7b14d\/status\"}},\"progress\":0,\"status\":\"PENDING\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":8003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":25306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":6073679790,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:49.686 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ca73b644-647e-404c-76c0-acb3a2c7b14d\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:50.256 response time in milliseconds: 569.69\n3 < 200\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 159\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:50 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ca73b644-647e-404c-76c0-acb3a2c7b14d\/status\"}},\"progress\":0,\"status\":\"PENDING\"}\n\n02:29:50.256 retry condition not satisfied: responseStatus == 201\n02:29:50.256 sleeping before retry #1\n02:29:55.257 request:\n4 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/ca73b644-647e-404c-76c0-acb3a2c7b14d\/status\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:55.759 response time in milliseconds: 501.65\n4 < 201\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Method: GET,POST,OPTIONS\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n4 < Content-Length: 167\n4 < Content-Type: application\/json\n4 < Date: Tue, 15 Jun 2021 02:29:55 GMT\n4 < Expires: 0\n4 < Pragma: no-cache\n4 < Server: Apache\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/906861e7-fada-410d-b9e7-ef27b27649ae\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}\n\n02:29:55.759 retry condition satisfied","line":29}},{"name":"def downloadlink = response._links","result":{"duration":73798,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":94894,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":219716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:55.759 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/906861e7-fada-410d-b9e7-ef27b27649ae\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":2112629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":502904351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:55.762 request:\n5 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/906861e7-fada-410d-b9e7-ef27b27649ae\/extract.zip\n5 > Accept-Encoding: gzip,deflate\n5 > Connection: Keep-Alive\n5 > Host: downloads.pdok.nl\n5 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:56.264 response time in milliseconds: 502.11\n5 < 200\n5 < Accept-Ranges: bytes\n5 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n5 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n5 < Access-Control-Allow-Origin: *\n5 < Access-Control-Max-Age: 1000\n5 < Content-Disposition: attachment; filename=extract.zip\n5 < Content-Length: 1310\n5 < Content-Security-Policy: block-all-mixed-content\n5 < Content-Type: application\/zip\n5 < Date: Tue, 15 Jun 2021 02:29:56 GMT\n5 < Etag: \"b43d199b1b7790c6c2231a51214027bd-1\"\n5 < Last-Modified: Tue, 15 Jun 2021 02:29:50 GMT\n5 < Server: MinIO\n5 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n5 < Vary: Origin\n5 < X-Amz-Request-Id: 1688A08DB751DA2D\n5 < X-Cnection: close\n5 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":276198,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":155276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":145462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":210064,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:56.265 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":453310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:56.266 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/906861e7-fada-410d-b9e7-ef27b27649ae\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":265316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:56.266 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":1574266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":185445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":201648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":127091,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":585833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[11] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1317350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":138941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":270406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:56.274 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":8057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":496269615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:56.275 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"f2a1b49d-024b-4a01-83f9-66dd1d3385ce\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:56.770 response time in milliseconds: 494.89\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:56 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cda652d1-1c4e-4cbb-4fc5-bb33b3681021\/status\"}},\"downloadRequestId\":\"cda652d1-1c4e-4cbb-4fc5-bb33b3681021\"}","line":14}},{"name":"status 202","result":{"duration":9563,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":217677,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":506652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":186640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":545434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:56.772 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":396088,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":445520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:56.773 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cda652d1-1c4e-4cbb-4fc5-bb33b3681021\/status","line":23}},{"name":"url statusurl","result":{"duration":8241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":490645301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:56.774 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cda652d1-1c4e-4cbb-4fc5-bb33b3681021\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:57.263 response time in milliseconds: 488.62\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 160\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:57 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cda652d1-1c4e-4cbb-4fc5-bb33b3681021\/status\"}},\"progress\":50,\"status\":\"RUNNING\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":501371626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:57.264 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/cda652d1-1c4e-4cbb-4fc5-bb33b3681021\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:57.757 response time in milliseconds: 492.46\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:57 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e8f08b34-71d0-415a-a679-8117c4830c42\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":95924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":94970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":297692,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:57.765 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e8f08b34-71d0-415a-a679-8117c4830c42\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":1171281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":505328337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:57.767 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e8f08b34-71d0-415a-a679-8117c4830c42\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:58.272 response time in milliseconds: 504.25\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 27702\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:58 GMT\n4 < Etag: \"ec13db4e1903848c53dbd3dc220eeb15-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:57 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08E2ED01C83\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":252317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":93288,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":117447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":3621905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:29:58.276 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":369951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:29:58.277 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e8f08b34-71d0-415a-a679-8117c4830c42\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":135642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:29:58.277 [print] size 27702","line":42}},{"name":"assert zipsize > 600","result":{"duration":143591,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":119810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":56446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":53291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":1015077,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[12] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":917513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":65997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":108854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:29:58.281 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7170,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":485748194,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:29:58.282 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"69183ebc-d2bd-4c32-b7e0-82d7d64d95a6\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:29:58.767 response time in milliseconds: 484.31\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:58 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c9d73113-2075-41bf-6a08-a9959371400f\/status\"}},\"downloadRequestId\":\"c9d73113-2075-41bf-6a08-a9959371400f\"}","line":14}},{"name":"status 202","result":{"duration":6288,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":128691,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":272607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":88265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":279145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:29:58.768 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":195974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":3378241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:29:58.771 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c9d73113-2075-41bf-6a08-a9959371400f\/status","line":23}},{"name":"url statusurl","result":{"duration":5352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":489334832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:29:58.772 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c9d73113-2075-41bf-6a08-a9959371400f\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:59.260 response time in milliseconds: 488.25\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 159\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:59 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c9d73113-2075-41bf-6a08-a9959371400f\/status\"}},\"progress\":0,\"status\":\"PENDING\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5379,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":482619562,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:29:59.262 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c9d73113-2075-41bf-6a08-a9959371400f\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:59.743 response time in milliseconds: 481.22\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:59 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f5652a3-f667-424d-b66f-cec0345280fd\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":113672,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":106704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":329545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:29:59.744 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f5652a3-f667-424d-b66f-cec0345280fd\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":177389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":514738508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:29:59.745 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f5652a3-f667-424d-b66f-cec0345280fd\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:00.259 response time in milliseconds: 513.76\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:00 GMT\n4 < Etag: \"ad6aa9b743b250b10f19871e1c67258f-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:59 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08EA550DDF1\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":6667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":281440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":284017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":247192,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":226574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:00.260 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":586362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:00.261 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/2f5652a3-f667-424d-b66f-cec0345280fd\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":171762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:00.261 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":313296,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":161291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":101184,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":105287,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":718567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[13] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1757101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":166661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":204209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:00.267 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":27150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":480421831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:00.268 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"ee7de3a0-af84-4382-88f6-015c69fbcf22\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:00.748 response time in milliseconds: 478.84\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:00 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c053b810-1c53-4166-6e7b-459928916db8\/status\"}},\"downloadRequestId\":\"c053b810-1c53-4166-6e7b-459928916db8\"}","line":14}},{"name":"status 202","result":{"duration":6469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":135500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":329264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":120610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":265079,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:00.749 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":183012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":173594,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:00.749 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c053b810-1c53-4166-6e7b-459928916db8\/status","line":23}},{"name":"url statusurl","result":{"duration":4186,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":515282935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:00.750 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c053b810-1c53-4166-6e7b-459928916db8\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:01.264 response time in milliseconds: 514.21\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 159\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:01 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c053b810-1c53-4166-6e7b-459928916db8\/status\"}},\"progress\":0,\"status\":\"PENDING\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":588855094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:01.265 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/c053b810-1c53-4166-6e7b-459928916db8\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:01.853 response time in milliseconds: 587.45\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:01 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f81aed1a-e290-405b-baa4-e53777b2a23f\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":190681,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":255358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":550268,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:01.855 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f81aed1a-e290-405b-baa4-e53777b2a23f\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":308594,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":510546460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:01.856 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f81aed1a-e290-405b-baa4-e53777b2a23f\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:02.365 response time in milliseconds: 509.17\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:02 GMT\n4 < Etag: \"5638a24f3da76da9a3d48974922a1013-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:01 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08F22F566B9\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7184,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":217384,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":232545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":262511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":223331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:02.367 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":529869,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:02.367 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f81aed1a-e290-405b-baa4-e53777b2a23f\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":276397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:02.367 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":218073,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":267451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":80522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":215189,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":713408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[14] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1011475,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":106281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":133398,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:02.378 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":527183977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:02.378 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"7d86880e-ec38-45a7-8d26-8b50b25cb564\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:02.905 response time in milliseconds: 525.98\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:02 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/d46f5e9a-592e-4bbb-4f2e-8d3f46badc78\/status\"}},\"downloadRequestId\":\"d46f5e9a-592e-4bbb-4f2e-8d3f46badc78\"}","line":14}},{"name":"status 202","result":{"duration":7455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":184242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":453786,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":183817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":454780,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:02.906 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":282042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":397017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:02.907 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/d46f5e9a-592e-4bbb-4f2e-8d3f46badc78\/status","line":23}},{"name":"url statusurl","result":{"duration":5191,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":488371718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:02.908 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/d46f5e9a-592e-4bbb-4f2e-8d3f46badc78\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:03.395 response time in milliseconds: 486.97\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:03 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/70508f9c-fdea-4369-aeab-8e6635358341\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":493500178,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:03.396 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/d46f5e9a-592e-4bbb-4f2e-8d3f46badc78\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:03.883 response time in milliseconds: 486.33\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:03 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/70508f9c-fdea-4369-aeab-8e6635358341\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":99020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":96306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":968920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:03.890 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/70508f9c-fdea-4369-aeab-8e6635358341\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":241481,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":510826923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:03.895 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/70508f9c-fdea-4369-aeab-8e6635358341\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:04.401 response time in milliseconds: 505.82\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1308\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:04 GMT\n4 < Etag: \"d8e6115fd885085438293b0efa8aacab-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:03 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08F9C52C321\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":220772,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":121199,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":684366,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":151361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:04.403 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":442369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:04.403 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/70508f9c-fdea-4369-aeab-8e6635358341\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":156310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:04.403 [print] size 1308","line":42}},{"name":"assert zipsize > 600","result":{"duration":226106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":157665,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":93753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":68333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":552135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[15] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":3352085,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":186827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":116214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:04.410 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6896,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2450349424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:04.411 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"f434912f-ac1a-4c31-a06d-1fb0b2e94b1e\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:06.861 response time in milliseconds: 2449.12\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:06 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5e71fd93-bdd3-489b-724e-5494df378d5f\/status\"}},\"downloadRequestId\":\"5e71fd93-bdd3-489b-724e-5494df378d5f\"}","line":14}},{"name":"status 202","result":{"duration":8091,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":190202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":268565,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":165378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":974346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:06.863 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":107078,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":8070281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:06.871 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5e71fd93-bdd3-489b-724e-5494df378d5f\/status","line":23}},{"name":"url statusurl","result":{"duration":4942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":486180643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:06.872 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5e71fd93-bdd3-489b-724e-5494df378d5f\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:07.357 response time in milliseconds: 485.08\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:07 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4769bfaa-b1da-4c7c-ac86-65e9fa0dd2f5\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5976,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":491736159,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:07.361 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/5e71fd93-bdd3-489b-724e-5494df378d5f\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:07.849 response time in milliseconds: 487.50\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:07 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4769bfaa-b1da-4c7c-ac86-65e9fa0dd2f5\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":264441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":221704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":410364,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:07.850 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4769bfaa-b1da-4c7c-ac86-65e9fa0dd2f5\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":156710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":497988175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:07.852 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4769bfaa-b1da-4c7c-ac86-65e9fa0dd2f5\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:08.348 response time in milliseconds: 496.19\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:08 GMT\n4 < Etag: \"e710d61059c5ed4cf0b25408adc8cc56-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:07 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A09087FB7769\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":8323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":1460951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":144674,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":157678,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":135826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:08.350 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":175511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:08.350 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4769bfaa-b1da-4c7c-ac86-65e9fa0dd2f5\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":208264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:08.351 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":101576,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":143477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":82776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":67412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":246762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[16] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"a7ced3a4-8dd3-44df-8774-f08d01839035\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":924208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":88315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":109697,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:08.355 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"a7ced3a4-8dd3-44df-8774-f08d01839035\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6880,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":603314662,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:08.355 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"a7ced3a4-8dd3-44df-8774-f08d01839035\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:08.958 response time in milliseconds: 602.28\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:08 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/fc60296e-4cc7-4ec8-7d84-b5e64554ab2c\/status\"}},\"downloadRequestId\":\"fc60296e-4cc7-4ec8-7d84-b5e64554ab2c\"}","line":14}},{"name":"status 202","result":{"duration":6990,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":135212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":156035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":55959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":255787,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:08.959 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":94500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":96696,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:08.959 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/fc60296e-4cc7-4ec8-7d84-b5e64554ab2c\/status","line":23}},{"name":"url statusurl","result":{"duration":3171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":492465214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:08.960 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/fc60296e-4cc7-4ec8-7d84-b5e64554ab2c\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:09.451 response time in milliseconds: 491.59\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:09 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e77d36a9-f341-4a8a-bdc9-3ae88511db81\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6260,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":485857871,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:09.456 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/fc60296e-4cc7-4ec8-7d84-b5e64554ab2c\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:09.937 response time in milliseconds: 481.05\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:09 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e77d36a9-f341-4a8a-bdc9-3ae88511db81\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":127967,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":111275,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":255774,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:09.938 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e77d36a9-f341-4a8a-bdc9-3ae88511db81\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":85817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":667274759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:09.939 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e77d36a9-f341-4a8a-bdc9-3ae88511db81\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:10.605 response time in milliseconds: 666.25\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:10 GMT\n4 < Etag: \"2f86f2c14fc49800563c6137dde98ea1-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:09 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A09109480AC7\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":8213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":272335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":1004730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":181231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":147124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:10.607 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":238881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:10.608 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/e77d36a9-f341-4a8a-bdc9-3ae88511db81\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":140013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:10.608 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":97259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":145692,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":117928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":105410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":302414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[17] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"3021d17f-c396-4704-8770-d0231e9d5d9b\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1548799,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":105058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":107581,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:10.613 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"3021d17f-c396-4704-8770-d0231e9d5d9b\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7275,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2435251366,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:10.614 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"3021d17f-c396-4704-8770-d0231e9d5d9b\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:13.049 response time in milliseconds: 2434.23\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:12 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/33fdba96-4dd6-4c6e-5969-c31abf77bf06\/status\"}},\"downloadRequestId\":\"33fdba96-4dd6-4c6e-5969-c31abf77bf06\"}","line":14}},{"name":"status 202","result":{"duration":8665,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":140969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":188668,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":127551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":331734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:13.050 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":158020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":133770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:13.050 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/33fdba96-4dd6-4c6e-5969-c31abf77bf06\/status","line":23}},{"name":"url statusurl","result":{"duration":5307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":494187349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:13.051 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/33fdba96-4dd6-4c6e-5969-c31abf77bf06\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:13.544 response time in milliseconds: 493.07\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:13 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/1d6c5b61-b969-40d2-bf6a-f2d731321873\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":7033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6980,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":486796359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:13.545 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/33fdba96-4dd6-4c6e-5969-c31abf77bf06\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:14.028 response time in milliseconds: 482.67\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:13 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/1d6c5b61-b969-40d2-bf6a-f2d731321873\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":140814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":109002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":207282,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:14.032 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/1d6c5b61-b969-40d2-bf6a-f2d731321873\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":72231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":498424136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:14.033 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/1d6c5b61-b969-40d2-bf6a-f2d731321873\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:14.530 response time in milliseconds: 497.56\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:14 GMT\n4 < Etag: \"f63d6fe976746fc0bb01e61196108be8-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:13 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A091F892E96F\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":3365413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":675137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":632160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":118763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:14.536 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":740454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:14.536 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/1d6c5b61-b969-40d2-bf6a-f2d731321873\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":188929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:14.536 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":120934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":165923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":70783,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":148504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":364942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[18] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"199c4014-5688-4581-9513-9d8bc2f0c040\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1436974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":101699,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":137399,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:14.544 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"199c4014-5688-4581-9513-9d8bc2f0c040\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":8543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2273214344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:14.545 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"199c4014-5688-4581-9513-9d8bc2f0c040\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:16.817 response time in milliseconds: 2272.16\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:16 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/297b9103-9057-4cfa-5591-5e906661d6e9\/status\"}},\"downloadRequestId\":\"297b9103-9057-4cfa-5591-5e906661d6e9\"}","line":14}},{"name":"status 202","result":{"duration":5033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":2795707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":1817341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":77688,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":217575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:16.823 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1023636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":1474097,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:16.825 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/297b9103-9057-4cfa-5591-5e906661d6e9\/status","line":23}},{"name":"url statusurl","result":{"duration":4331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":498054041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:16.835 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/297b9103-9057-4cfa-5591-5e906661d6e9\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:17.323 response time in milliseconds: 487.52\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:17 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/70dfaa45-8089-4b63-ae0a-8f9844be804d\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":22030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":491860501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:17.324 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/297b9103-9057-4cfa-5591-5e906661d6e9\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:17.815 response time in milliseconds: 490.09\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:17 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/70dfaa45-8089-4b63-ae0a-8f9844be804d\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":131784,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":105821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":298111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:17.816 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/70dfaa45-8089-4b63-ae0a-8f9844be804d\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":177616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":508252948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:17.819 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/70dfaa45-8089-4b63-ae0a-8f9844be804d\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:18.324 response time in milliseconds: 504.55\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:18 GMT\n4 < Etag: \"211db9e216474b666f1523a757210536-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:17 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A092DA1C1A16\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":8593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":5739972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":110851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":126363,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":110583,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:18.331 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":279553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:18.331 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/70dfaa45-8089-4b63-ae0a-8f9844be804d\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":162015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:18.331 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":115070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":109096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":42358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":48131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":299753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[19] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"74c6011e-9871-4f8a-b911-0142eea98ee7\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":844698,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":88659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":156795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:18.335 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"74c6011e-9871-4f8a-b911-0142eea98ee7\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":8215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1985931708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:18.335 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"74c6011e-9871-4f8a-b911-0142eea98ee7\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:20.321 response time in milliseconds: 1984.94\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:20 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f185e935-4d55-479c-5e71-2d7b495ab2bd\/status\"}},\"downloadRequestId\":\"f185e935-4d55-479c-5e71-2d7b495ab2bd\"}","line":14}},{"name":"status 202","result":{"duration":7368,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":111344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":226621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":58927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":219046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:20.321 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":165122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":125541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:20.322 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f185e935-4d55-479c-5e71-2d7b495ab2bd\/status","line":23}},{"name":"url statusurl","result":{"duration":4358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":494608287,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:20.322 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f185e935-4d55-479c-5e71-2d7b495ab2bd\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:20.816 response time in milliseconds: 493.84\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 159\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:20 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f185e935-4d55-479c-5e71-2d7b495ab2bd\/status\"}},\"progress\":0,\"status\":\"PENDING\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":6285,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":4902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":490665356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:20.817 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/f185e935-4d55-479c-5e71-2d7b495ab2bd\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:21.304 response time in milliseconds: 486.92\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:21 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bc6055db-a745-4133-b2c5-880212178457\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":194357,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":160276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":11759445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:21.319 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bc6055db-a745-4133-b2c5-880212178457\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":1646938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":503506778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:21.325 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bc6055db-a745-4133-b2c5-880212178457\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:21.825 response time in milliseconds: 498.94\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 6328\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:21 GMT\n4 < Etag: \"c361afe36647f4225f895de35dc4c88e-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:20 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A093AB4724A1\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":7229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":2647859,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":1878638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":379962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":1982518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:21.832 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":9458678,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:21.841 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/bc6055db-a745-4133-b2c5-880212178457\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":1656637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:21.843 [print] size 6328","line":42}},{"name":"assert zipsize > 600","result":{"duration":1108369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":297181,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":144999,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":117658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":5152565,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[20] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1534270,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":715299,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":102683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:21.854 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6093,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2420598339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:21.855 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"95843b80-f891-4f0d-ac68-6f104d38a0c6\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:24.275 response time in milliseconds: 2419.69\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:24 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3fca5039-80fc-4f94-5900-6a7d43c1d1f2\/status\"}},\"downloadRequestId\":\"3fca5039-80fc-4f94-5900-6a7d43c1d1f2\"}","line":14}},{"name":"status 202","result":{"duration":6282,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":5363987,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":1726485,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":76740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":226814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:24.282 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":5239243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":9155985,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:24.297 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3fca5039-80fc-4f94-5900-6a7d43c1d1f2\/status","line":23}},{"name":"url statusurl","result":{"duration":6446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":512492530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:24.302 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3fca5039-80fc-4f94-5900-6a7d43c1d1f2\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:24.804 response time in milliseconds: 501.86\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:24 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f7a32609-ae9d-49c7-acbc-8c999ba1dfed\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":8740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":501223977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:24.811 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/3fca5039-80fc-4f94-5900-6a7d43c1d1f2\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:25.310 response time in milliseconds: 498.91\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:25 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f7a32609-ae9d-49c7-acbc-8c999ba1dfed\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":103931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":88028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":1785163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:25.313 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f7a32609-ae9d-49c7-acbc-8c999ba1dfed\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":1021927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":506301318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:25.315 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f7a32609-ae9d-49c7-acbc-8c999ba1dfed\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:25.821 response time in milliseconds: 505.22\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:25 GMT\n4 < Etag: \"d53ce8e69bd587e2e44c12541efc14ee-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:24 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A09499051FF2\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":947295,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":915534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":1455267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":978130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:25.825 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":2015273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:25.828 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f7a32609-ae9d-49c7-acbc-8c999ba1dfed\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":588971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:25.828 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":141431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":193402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":99689,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":83348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":2804112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[21] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":699266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":80386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":182829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:25.835 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2313301400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:25.836 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"304c598c-211c-4d4e-86cf-c87c8be1fd60\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:28.148 response time in milliseconds: 2312.32\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:28 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2d1d13b2-ba73-46d4-74d4-d4e57b7f4147\/status\"}},\"downloadRequestId\":\"2d1d13b2-ba73-46d4-74d4-d4e57b7f4147\"}","line":14}},{"name":"status 202","result":{"duration":6303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":168298,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":2123713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":1282603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":344703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:28.152 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1255337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":2763324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:28.156 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2d1d13b2-ba73-46d4-74d4-d4e57b7f4147\/status","line":23}},{"name":"url statusurl","result":{"duration":5471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":547941658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:28.158 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2d1d13b2-ba73-46d4-74d4-d4e57b7f4147\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:28.704 response time in milliseconds: 545.93\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:28 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f5c7ed5a-1959-4603-a75d-fb5db4292e4b\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":7396,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7299,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":513222029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:28.710 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/2d1d13b2-ba73-46d4-74d4-d4e57b7f4147\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:29.216 response time in milliseconds: 505.92\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:29 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f5c7ed5a-1959-4603-a75d-fb5db4292e4b\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":122153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":98937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":1871283,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:29.220 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f5c7ed5a-1959-4603-a75d-fb5db4292e4b\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":1159183,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":502017585,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:29.230 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f5c7ed5a-1959-4603-a75d-fb5db4292e4b\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:29.723 response time in milliseconds: 493.32\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:29 GMT\n4 < Etag: \"3229a6491fb386be0598c95e37d533f9-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:28 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A09582228F3F\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":8214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":1199236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":676121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":167962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":599439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:29.732 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":1714689,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:29.734 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/f5c7ed5a-1959-4603-a75d-fb5db4292e4b\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":1320096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:29.735 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":3810128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":180018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":126098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":95916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":1830614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[22] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"74059578-fae6-4945-9c61-b14d8315506f\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1134563,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":601977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":102385,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:29.745 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"74059578-fae6-4945-9c61-b14d8315506f\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7186,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2133678726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:29.747 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"74059578-fae6-4945-9c61-b14d8315506f\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:31.878 response time in milliseconds: 2130.74\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:31 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/bb0153d5-8792-445d-5db2-a55a07995190\/status\"}},\"downloadRequestId\":\"bb0153d5-8792-445d-5db2-a55a07995190\"}","line":14}},{"name":"status 202","result":{"duration":4082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":137051,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":2126238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":1295665,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":311151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:31.882 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1893640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":1919666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:31.886 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/bb0153d5-8792-445d-5db2-a55a07995190\/status","line":23}},{"name":"url statusurl","result":{"duration":4729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":561182393,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:31.887 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/bb0153d5-8792-445d-5db2-a55a07995190\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:32.447 response time in milliseconds: 560.18\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:32 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d764e5a6-e9dd-45f7-8b87-68270388e670\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7079,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":485657619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:32.448 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/bb0153d5-8792-445d-5db2-a55a07995190\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:32.931 response time in milliseconds: 482.50\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:32 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d764e5a6-e9dd-45f7-8b87-68270388e670\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":129805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":105882,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":2018067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:32.935 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d764e5a6-e9dd-45f7-8b87-68270388e670\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":1515995,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":520593682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:32.950 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d764e5a6-e9dd-45f7-8b87-68270388e670\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:33.458 response time in milliseconds: 507.65\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 10123\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:33 GMT\n4 < Etag: \"3a691c0d4aeef68dfdf70331636abb6f-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:32 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A096600F7A30\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":3981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":7664262,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":1019527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":1133663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":629653,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:33.468 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":1889114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:33.470 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d764e5a6-e9dd-45f7-8b87-68270388e670\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":1807459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:33.472 [print] size 10123","line":42}},{"name":"assert zipsize > 600","result":{"duration":1125644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":235846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":178833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":133545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":2428709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[23] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"7846306d-9db1-47be-bb67-960c8db4901b\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":7439906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":2365507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":137694,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:33.488 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"7846306d-9db1-47be-bb67-960c8db4901b\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1806203000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:33.489 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"7846306d-9db1-47be-bb67-960c8db4901b\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:35.294 response time in milliseconds: 1805.37\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:35 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/75a9e23e-6d02-40cc-793b-acd96eee341d\/status\"}},\"downloadRequestId\":\"75a9e23e-6d02-40cc-793b-acd96eee341d\"}","line":14}},{"name":"status 202","result":{"duration":4632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":193431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":287782,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":168226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":267661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:35.296 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":166535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":253638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:35.296 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/75a9e23e-6d02-40cc-793b-acd96eee341d\/status","line":23}},{"name":"url statusurl","result":{"duration":3816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":632421856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:35.297 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/75a9e23e-6d02-40cc-793b-acd96eee341d\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:35.929 response time in milliseconds: 631.53\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:35 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/32e956e8-f920-4584-8a35-82791489c6c5\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":495641948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:35.932 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/75a9e23e-6d02-40cc-793b-acd96eee341d\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:36.423 response time in milliseconds: 491.29\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:36 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/32e956e8-f920-4584-8a35-82791489c6c5\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":130441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":135817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":461726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:36.425 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/32e956e8-f920-4584-8a35-82791489c6c5\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":143758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":508383865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:36.432 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/32e956e8-f920-4584-8a35-82791489c6c5\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:36.934 response time in milliseconds: 501.65\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 6588\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:36 GMT\n4 < Etag: \"a7537b8b1b04a51ea40bfc04845bbfce-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:35 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0972FD1CC18\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":5615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":296202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":162171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":288905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":255310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:36.935 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":469303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:36.936 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/32e956e8-f920-4584-8a35-82791489c6c5\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":302852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:36.936 [print] size 6588","line":42}},{"name":"assert zipsize > 600","result":{"duration":213451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":305919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":238030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":220058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":540660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[24] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1302376,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":119065,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":235086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:36.942 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":2158558229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:36.943 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"ecc65af0-5df2-4c51-997e-424a8ec168f9\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:39.101 response time in milliseconds: 2157.40\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:39 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/68926128-15a0-4862-7338-bfe6fc457a00\/status\"}},\"downloadRequestId\":\"68926128-15a0-4862-7338-bfe6fc457a00\"}","line":14}},{"name":"status 202","result":{"duration":4977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":415598,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":392921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":238410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":304330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:39.102 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":278331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":219468,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:39.103 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/68926128-15a0-4862-7338-bfe6fc457a00\/status","line":23}},{"name":"url statusurl","result":{"duration":5898,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":499982991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:39.104 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/68926128-15a0-4862-7338-bfe6fc457a00\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:39.603 response time in milliseconds: 499.01\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:39 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47f85e16-5ffc-4411-8649-0265690359de\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":5845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":489667135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:39.604 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/68926128-15a0-4862-7338-bfe6fc457a00\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:40.088 response time in milliseconds: 483.78\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:40 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47f85e16-5ffc-4411-8649-0265690359de\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":113033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":104745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":277337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:40.093 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47f85e16-5ffc-4411-8649-0265690359de\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":147205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":533949552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:40.094 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47f85e16-5ffc-4411-8649-0265690359de\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:40.627 response time in milliseconds: 533.13\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:40 GMT\n4 < Etag: \"7c67ac6f6ae7573422b2333a6af992c3-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:39 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0980B3BC141\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":217800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":68776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":208956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":136393,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:40.628 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":237991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:40.629 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/47f85e16-5ffc-4411-8649-0265690359de\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":185430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:40.629 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":133163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":265589,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":125920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":144890,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":319952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[25] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":2971254,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":1207462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":300312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:40.636 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":491893712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:40.637 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"d3f8f0d9-4fe6-47a7-8589-4a735bdf4d17\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:41.128 response time in milliseconds: 490.68\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:41 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/59d9e250-e19a-4131-5f2c-a1ebbf931739\/status\"}},\"downloadRequestId\":\"59d9e250-e19a-4131-5f2c-a1ebbf931739\"}","line":14}},{"name":"status 202","result":{"duration":4096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":114407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":1450850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":857988,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":245652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:41.134 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":806422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":1135126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:41.136 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/59d9e250-e19a-4131-5f2c-a1ebbf931739\/status","line":23}},{"name":"url statusurl","result":{"duration":4221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":486825819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:41.137 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/59d9e250-e19a-4131-5f2c-a1ebbf931739\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:41.623 response time in milliseconds: 485.79\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:41 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ef201772-7368-4605-a077-66c0df2c364e\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":3759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6783,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":491610671,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:41.629 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/59d9e250-e19a-4131-5f2c-a1ebbf931739\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:42.114 response time in milliseconds: 485.64\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:42 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ef201772-7368-4605-a077-66c0df2c364e\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":121107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":86400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":1395575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:42.121 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ef201772-7368-4605-a077-66c0df2c364e\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":1336767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":502818844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:42.123 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ef201772-7368-4605-a077-66c0df2c364e\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:42.625 response time in milliseconds: 501.91\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1308\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:42 GMT\n4 < Etag: \"57e4305049d07017912f81f04d16b8af-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:41 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A09882BE1C51\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":3409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":7182804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":733360,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":181832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":616812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:42.634 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":1818482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:42.636 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ef201772-7368-4605-a077-66c0df2c364e\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":2322921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:42.639 [print] size 1308","line":42}},{"name":"assert zipsize > 600","result":{"duration":1408291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":196488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":86684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":95133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":1824239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[26] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1546640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":3861507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":108269,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:42.650 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":487938089,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:42.653 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"80d32f9f-5641-4d0a-89bb-616e9c0f890f\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:43.138 response time in milliseconds: 485.01\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:43 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/4b10e981-cd5e-4890-5912-019079a08b0e\/status\"}},\"downloadRequestId\":\"4b10e981-cd5e-4890-5912-019079a08b0e\"}","line":14}},{"name":"status 202","result":{"duration":4243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":213978,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":2099584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":150968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":404739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:43.141 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":2355107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":1920539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:43.146 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/4b10e981-cd5e-4890-5912-019079a08b0e\/status","line":23}},{"name":"url statusurl","result":{"duration":14506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":493385359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:43.147 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/4b10e981-cd5e-4890-5912-019079a08b0e\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:43.639 response time in milliseconds: 492.38\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 159\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:43 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/4b10e981-cd5e-4890-5912-019079a08b0e\/status\"}},\"progress\":0,\"status\":\"PENDING\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":3881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":509185608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:43.646 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/4b10e981-cd5e-4890-5912-019079a08b0e\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:44.144 response time in milliseconds: 497.63\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:44 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/5bc87a16-0d13-4f57-a0dd-a88d176e5b3a\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":968547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":121235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":1413816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:44.151 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/5bc87a16-0d13-4f57-a0dd-a88d176e5b3a\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":1383776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":500259336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:44.153 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/5bc87a16-0d13-4f57-a0dd-a88d176e5b3a\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:44.653 response time in milliseconds: 499.46\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1312\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:44 GMT\n4 < Etag: \"9dcb53c033e2979ea3c77347333a13d7-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:43 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A098FC0A3469\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":2096323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":1177873,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":334040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":1175901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:44.658 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":3742921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:44.662 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/5bc87a16-0d13-4f57-a0dd-a88d176e5b3a\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":2242504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:44.664 [print] size 1312","line":42}},{"name":"assert zipsize > 600","result":{"duration":1284039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":237391,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":94168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":101203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":10788410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[27] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":4609615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":586961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":98639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:44.687 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6699,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":481571892,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:44.691 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"00a2e048-2c11-4a10-a7b1-0f439bcf35e5\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:45.169 response time in milliseconds: 477.79\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:45 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/0f1d6aa8-8c3c-487d-77be-2415bf5fb185\/status\"}},\"downloadRequestId\":\"0f1d6aa8-8c3c-487d-77be-2415bf5fb185\"}","line":14}},{"name":"status 202","result":{"duration":4784,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":162709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":2583088,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":183462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":300146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:45.172 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1595515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":2641205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:45.177 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/0f1d6aa8-8c3c-487d-77be-2415bf5fb185\/status","line":23}},{"name":"url statusurl","result":{"duration":13721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":502156122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:45.177 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/0f1d6aa8-8c3c-487d-77be-2415bf5fb185\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:45.679 response time in milliseconds: 501.02\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:45 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d9cf7a61-f6cb-430b-a0c6-f58564c37035\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":5046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":568679383,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:45.680 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/0f1d6aa8-8c3c-487d-77be-2415bf5fb185\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:46.247 response time in milliseconds: 566.98\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:46 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d9cf7a61-f6cb-430b-a0c6-f58564c37035\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":193492,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":157201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":322603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:46.248 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d9cf7a61-f6cb-430b-a0c6-f58564c37035\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":150729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":504371741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:46.249 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d9cf7a61-f6cb-430b-a0c6-f58564c37035\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:46.753 response time in milliseconds: 503.41\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1308\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:46 GMT\n4 < Etag: \"79450d535bb13bf66cbcb225aad12968-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:45 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A099790CD46A\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":3523856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":125555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":207067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":197776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:46.757 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":316811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:46.757 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/d9cf7a61-f6cb-430b-a0c6-f58564c37035\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":228505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:46.758 [print] size 1308","line":42}},{"name":"assert zipsize > 600","result":{"duration":139047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":108914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":43862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":1705154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":3433018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[28] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":1776275,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":146271,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":114442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:46.774 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":6779,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":501502001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:46.777 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"ee381f94-96f3-41e5-bbd5-4b678eee1db0\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:47.276 response time in milliseconds: 498.28\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:47 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/669abcab-2c9a-45eb-550f-d50937e1b3bc\/status\"}},\"downloadRequestId\":\"669abcab-2c9a-45eb-550f-d50937e1b3bc\"}","line":14}},{"name":"status 202","result":{"duration":4087,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":110472,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":234991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":61376,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":261970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:47.276 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":531084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":1077403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:47.278 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/669abcab-2c9a-45eb-550f-d50937e1b3bc\/status","line":23}},{"name":"url statusurl","result":{"duration":5105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":485408442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:47.279 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/669abcab-2c9a-45eb-550f-d50937e1b3bc\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:47.764 response time in milliseconds: 484.23\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:47 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/efe5548c-916e-4c8f-9b0e-4dd70228ac93\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":8097,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":6838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":491642197,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:47.772 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/669abcab-2c9a-45eb-550f-d50937e1b3bc\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:48.255 response time in milliseconds: 482.77\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:48 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/efe5548c-916e-4c8f-9b0e-4dd70228ac93\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":236602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":112173,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":346341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:48.256 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/efe5548c-916e-4c8f-9b0e-4dd70228ac93\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":169704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":521907841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:48.257 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/efe5548c-916e-4c8f-9b0e-4dd70228ac93\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:48.778 response time in milliseconds: 520.91\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1310\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:48 GMT\n4 < Etag: \"35cd1145429c1a36386b17d7307699c2-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:47 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A099F1E1A837\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":1511279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":968575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":224284,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":960828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:48.782 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":2141026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:48.784 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/efe5548c-916e-4c8f-9b0e-4dd70228ac93\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":1583354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:48.786 [print] size 1310","line":42}},{"name":"assert zipsize > 600","result":{"duration":940267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":124077,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":61782,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":57928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":1822058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"[29] download\/DeltaCustomargs.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34,"doc_string":{"content_type":"","value":"{\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}\n","line":34}},{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/delta\/custom'","result":{"duration":3432934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def requestparams = __arg","result":{"duration":760413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"print requestparams","result":{"duration":200053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"02:30:48.796 [print] {\n  \"format\": \"gml\",\n  \"geofilter\": \"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\n  \"deltaId\": \"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\n  \"featuretypes\": [\n    \"perceel\",\n    \"kadastralegrens\"\n  ]\n}","line":9}},{"name":"request requestparams","result":{"duration":7747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":13},{"name":"method post","result":{"duration":1818557325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"02:30:48.797 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/delta\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 285\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\",\"deltaId\":\"359a0c94-3317-42ed-b8c7-508f5d13f2c1\",\"featuretypes\":[\"perceel\",\"kadastralegrens\"]}\n\n02:30:50.615 response time in milliseconds: 1817.57\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 188\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:50 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/b42284e4-7a0f-4777-4a84-ed4a90ca09a6\/status\"}},\"downloadRequestId\":\"b42284e4-7a0f-4777-4a84-ed4a90ca09a6\"}","line":14}},{"name":"status 202","result":{"duration":3634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull'}","result":{"duration":659498,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":3379603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def links = response._links","result":{"duration":160198,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"print \"delta status links:\" links","result":{"duration":418200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"02:30:50.620 [print]","line":20}},{"name":"def statusurl = apiBaseUrl + links.status.href","result":{"duration":1562910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print 'statusurl', statusurl","result":{"duration":2981401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"02:30:50.624 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/b42284e4-7a0f-4777-4a84-ed4a90ca09a6\/status","line":23}},{"name":"url statusurl","result":{"duration":4740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":24},{"name":"method GET","result":{"duration":489846839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"02:30:50.625 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/b42284e4-7a0f-4777-4a84-ed4a90ca09a6\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:51.114 response time in milliseconds: 488.79\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:51 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/767608bc-e6d4-487c-8e15-3656013ba1b9\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":25}},{"name":"retry until responseStatus == 201","result":{"duration":4488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"url statusurl","result":{"duration":7589,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":28},{"name":"method GET","result":{"duration":483704371,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"02:30:51.115 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/delta\/custom\/b42284e4-7a0f-4777-4a84-ed4a90ca09a6\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:51.595 response time in milliseconds: 479.43\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:51 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/767608bc-e6d4-487c-8e15-3656013ba1b9\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":29}},{"name":"def downloadlink = response._links","result":{"duration":108632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":91288,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":2333794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32,"doc_string":{"content_type":"","value":"02:30:51.601 [print] downloadlink: {\n  \"download\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/767608bc-e6d4-487c-8e15-3656013ba1b9\/extract.zip\"\n  }\n}","line":32}},{"name":"url apiBaseUrl + downloadlink.download.href","result":{"duration":1038774,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":34},{"name":"method HEAD","result":{"duration":495183457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":35,"doc_string":{"content_type":"","value":"02:30:51.602 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/767608bc-e6d4-487c-8e15-3656013ba1b9\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:52.097 response time in milliseconds: 494.31\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 22286\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:52 GMT\n4 < Etag: \"a384f36546cc9f157da287db17f878bc-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:30:50 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A09AB7C4C012\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":35}},{"name":"status 200","result":{"duration":4206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":36},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":242241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":4227080,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":242795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"print \"###\"","result":{"duration":132196,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40,"doc_string":{"content_type":"","value":"02:30:52.102 [print] ###","line":40}},{"name":"print \"location\", apiBaseUrl + downloadlink.download.href","result":{"duration":211614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41,"doc_string":{"content_type":"","value":"02:30:52.102 [print] location https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/767608bc-e6d4-487c-8e15-3656013ba1b9\/extract.zip","line":41}},{"name":"print \"size\", zipsize","result":{"duration":136103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42,"doc_string":{"content_type":"","value":"02:30:52.102 [print] size 22286","line":42}},{"name":"assert zipsize > 600","result":{"duration":109359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":43},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":129146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":45},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":50239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"def db = new mydownloads","result":{"duration":54203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":47},{"name":"eval db.mywriteln('- Test: DeltaUpdate_' + __loop + ' '+ '\\n    leveringsId:'+ downloadRequestId +'\\n'+'    Url:'+apiBaseUrl + downloadlink.download.href+'\\n    Size:'+zipsize+'\\n    Time:'+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/delta_url.yaml')","result":{"duration":355364,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48}]}],"name":"download\/T07_DeltaCustomUpdate.feature","description":"DKK Api geeft Custom delta request voor alle leveringen na TODO b2219778-e94c-40b0-92bd-95e3491af2bb\nDit feature test alle deltas voor alle leveringen voor een specifiek interessegebied","id":"dkk-api-geeft-custom-delta-request-voor-alle-leveringen-na-todo-b2219778-e94c-40b0-92bd-95e3491af2bb","keyword":"Feature","uri":"download\/T07_DeltaCustomUpdate.feature","tags":[{"name":"@SMOKE","line":1}]}]