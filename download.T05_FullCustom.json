[{"line":2,"elements":[{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/full\/custom'","result":{"duration":1364137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"02:29:19.525 base url : {\n  \"apiBaseUrl\": \"https:\/\/downloads.pdok.nl\/\"\n}","line":5}}]},{"line":55,"name":"download full custom op locatie hofvijver voor feature(s): perceel","description":"","id":"download-full-custom-op-locatie-hofvijver-voor-feature(s):-perceel","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"request {format: 'gml',featuretypes: [\"perceel\"],  geofilter: 'POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))' }","result":{"duration":62027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":10},{"name":"method post","result":{"duration":1586727200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":11,"doc_string":{"content_type":"","value":"02:29:19.527 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/full\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 218\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"featuretypes\":[\"perceel\"],\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\"}\n\n02:29:21.113 response time in milliseconds: 1585.48\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 187\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:20 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/ee7478ad-b7af-4902-45c7-4be3205ad4dd\/status\"}},\"downloadRequestId\":\"ee7478ad-b7af-4902-45c7-4be3205ad4dd\"}","line":11}},{"name":"status 202","result":{"duration":5167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":13},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull' }","result":{"duration":188084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"def links = response._links","result":{"duration":298046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":173720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"def status = response.status","result":{"duration":42152027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":18},{"name":"def statusurl = apiBaseUrl  + links.status.href","result":{"duration":2076096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":19},{"name":"print 'links:' , links","result":{"duration":4791049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21,"doc_string":{"content_type":"","value":"02:29:21.163 [print] links: {\n  \"status\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/ee7478ad-b7af-4902-45c7-4be3205ad4dd\/status\"\n  }\n}","line":21}},{"name":"print  'statusurl', statusurl","result":{"duration":11785046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22,"doc_string":{"content_type":"","value":"02:29:21.175 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/ee7478ad-b7af-4902-45c7-4be3205ad4dd\/status","line":22}},{"name":"print 'extracId:', downloadRequestId","result":{"duration":14803848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":24,"doc_string":{"content_type":"","value":"02:29:21.190 [print] extracId: ee7478ad-b7af-4902-45c7-4be3205ad4dd","line":24}},{"name":"url statusurl","result":{"duration":6412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":26},{"name":"method GET","result":{"duration":491957268,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":27,"doc_string":{"content_type":"","value":"02:29:21.190 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/ee7478ad-b7af-4902-45c7-4be3205ad4dd\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:21.682 response time in milliseconds: 490.82\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 160\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:21 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/ee7478ad-b7af-4902-45c7-4be3205ad4dd\/status\"}},\"progress\":100,\"status\":\"RUNNING\"}","line":27}},{"name":"print \"waiting update delta link\"","result":{"duration":1891119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":28,"doc_string":{"content_type":"","value":"02:29:21.684 [print] waiting update delta link","line":28}},{"name":"retry until responseStatus == 201","result":{"duration":10682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"url statusurl","result":{"duration":6945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":31},{"name":"method GET","result":{"duration":490214168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":32,"doc_string":{"content_type":"","value":"02:29:21.688 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/ee7478ad-b7af-4902-45c7-4be3205ad4dd\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:22.176 response time in milliseconds: 487.48\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:22 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/91711e57-5926-42b9-8de1-5d25baf23508\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":32}},{"name":"def downloadlink = apiBaseUrl  +  response._links.download.href","result":{"duration":1699833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":158511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":2129141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36,"doc_string":{"content_type":"","value":"02:29:22.181 [print] downloadlink: https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/91711e57-5926-42b9-8de1-5d25baf23508\/extract.zip","line":36}},{"name":"url downloadlink","result":{"duration":6463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"method HEAD","result":{"duration":535375330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":38,"doc_string":{"content_type":"","value":"02:29:22.182 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/91711e57-5926-42b9-8de1-5d25baf23508\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:22.717 response time in milliseconds: 534.13\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1805266\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:22 GMT\n4 < Etag: \"9621e3316ec021d13d5b375066c5f41e-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:22 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A085E72063B3\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":38}},{"name":"status 200","result":{"duration":5563,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":39},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":917257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":216127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":148323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"print \"size\", zipsize","result":{"duration":2180485,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44,"doc_string":{"content_type":"","value":"02:29:22.725 [print] size 1805266","line":44}},{"name":"assert zipsize > 300","result":{"duration":7505382,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":152493,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":62111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def db = new mydownloads","result":{"duration":60125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"eval db.mywriteln('- Test: T05_1_perceel\\n'+'  Url: '+downloadlink+'\\n  Size: '+zipsize+'\\n  Time: '+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/fullcustomurl.yaml')","result":{"duration":13691805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50}]},{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/full\/custom'","result":{"duration":1365084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"02:29:29.662 base url : {\n  \"apiBaseUrl\": \"https:\/\/downloads.pdok.nl\/\"\n}","line":5}}]},{"line":56,"name":"download full custom op locatie hofvijver voor feature(s): kadastralegrens","description":"","id":"download-full-custom-op-locatie-hofvijver-voor-feature(s):-kadastralegrens","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"request {format: 'gml',featuretypes: [\"kadastralegrens\"],  geofilter: 'POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))' }","result":{"duration":53314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":10},{"name":"method post","result":{"duration":2487467364,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":11,"doc_string":{"content_type":"","value":"02:29:29.677 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/full\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 226\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"featuretypes\":[\"kadastralegrens\"],\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\"}\n\n02:29:32.151 response time in milliseconds: 2473.55\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 187\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:32 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/3f8bc35d-2207-49df-6091-6409d093bf8e\/status\"}},\"downloadRequestId\":\"3f8bc35d-2207-49df-6091-6409d093bf8e\"}","line":11}},{"name":"status 202","result":{"duration":5868,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":13},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull' }","result":{"duration":225548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"def links = response._links","result":{"duration":365763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":271206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"def status = response.status","result":{"duration":2379639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":18},{"name":"def statusurl = apiBaseUrl  + links.status.href","result":{"duration":2178945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":19},{"name":"print 'links:' , links","result":{"duration":4719056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21,"doc_string":{"content_type":"","value":"02:29:32.162 [print] links: {\n  \"status\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/3f8bc35d-2207-49df-6091-6409d093bf8e\/status\"\n  }\n}","line":21}},{"name":"print  'statusurl', statusurl","result":{"duration":9149893,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22,"doc_string":{"content_type":"","value":"02:29:32.171 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/3f8bc35d-2207-49df-6091-6409d093bf8e\/status","line":22}},{"name":"print 'extracId:', downloadRequestId","result":{"duration":3433714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":24,"doc_string":{"content_type":"","value":"02:29:32.174 [print] extracId: 3f8bc35d-2207-49df-6091-6409d093bf8e","line":24}},{"name":"url statusurl","result":{"duration":8369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":26},{"name":"method GET","result":{"duration":509515396,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":27,"doc_string":{"content_type":"","value":"02:29:32.176 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/3f8bc35d-2207-49df-6091-6409d093bf8e\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:32.684 response time in milliseconds: 507.81\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 160\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:32 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/3f8bc35d-2207-49df-6091-6409d093bf8e\/status\"}},\"progress\":100,\"status\":\"RUNNING\"}","line":27}},{"name":"print \"waiting update delta link\"","result":{"duration":3686797,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":28,"doc_string":{"content_type":"","value":"02:29:32.688 [print] waiting update delta link","line":28}},{"name":"retry until responseStatus == 201","result":{"duration":5687,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"url statusurl","result":{"duration":10790,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":31},{"name":"method GET","result":{"duration":485950560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":32,"doc_string":{"content_type":"","value":"02:29:32.689 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/3f8bc35d-2207-49df-6091-6409d093bf8e\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:33.173 response time in milliseconds: 484.12\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:33 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/13625067-128a-4d8f-8cc3-d532f5b97b93\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":32}},{"name":"def downloadlink = apiBaseUrl  +  response._links.download.href","result":{"duration":2747013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":151170,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":328227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36,"doc_string":{"content_type":"","value":"02:29:33.177 [print] downloadlink: https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/13625067-128a-4d8f-8cc3-d532f5b97b93\/extract.zip","line":36}},{"name":"url downloadlink","result":{"duration":8389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"method HEAD","result":{"duration":518488125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":38,"doc_string":{"content_type":"","value":"02:29:33.178 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/13625067-128a-4d8f-8cc3-d532f5b97b93\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:33.696 response time in milliseconds: 517.24\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 2207806\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:33 GMT\n4 < Etag: \"a14569a99d5c9f929ccab40ec5481035-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:32 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A0887689F6EB\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":38}},{"name":"status 200","result":{"duration":9108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":39},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":308887,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":138729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":132375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"print \"size\", zipsize","result":{"duration":381989,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44,"doc_string":{"content_type":"","value":"02:29:33.706 [print] size 2207806","line":44}},{"name":"assert zipsize > 300","result":{"duration":17273150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":130684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":53630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def db = new mydownloads","result":{"duration":59044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"eval db.mywriteln('- Test: T05_2_kadastralegrens\\n'+'  Url: '+downloadlink+'\\n  Size: '+zipsize+'\\n  Time: '+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/fullcustomurl.yaml')","result":{"duration":2202604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50}]},{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/full\/custom'","result":{"duration":1811642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"02:29:37.075 base url : {\n  \"apiBaseUrl\": \"https:\/\/downloads.pdok.nl\/\"\n}","line":5}}]},{"line":57,"name":"download full custom op locatie hofvijver voor feature(s): pand","description":"","id":"download-full-custom-op-locatie-hofvijver-voor-feature(s):-pand","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"request {format: 'gml',featuretypes: [\"pand\"],  geofilter: 'POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))' }","result":{"duration":44030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":10},{"name":"method post","result":{"duration":486886164,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":11,"doc_string":{"content_type":"","value":"02:29:37.078 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/full\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 215\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"featuretypes\":[\"pand\"],\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\"}\n\n02:29:37.563 response time in milliseconds: 485.68\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 187\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:37 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/57163183-7468-4603-5ba9-e0f40471ad13\/status\"}},\"downloadRequestId\":\"57163183-7468-4603-5ba9-e0f40471ad13\"}","line":11}},{"name":"status 202","result":{"duration":5539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":13},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull' }","result":{"duration":171877,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"def links = response._links","result":{"duration":163304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":73793,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"def status = response.status","result":{"duration":6627832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":18},{"name":"def statusurl = apiBaseUrl  + links.status.href","result":{"duration":6927729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":19},{"name":"print 'links:' , links","result":{"duration":39447430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21,"doc_string":{"content_type":"","value":"02:29:37.617 [print] links: {\n  \"status\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/57163183-7468-4603-5ba9-e0f40471ad13\/status\"\n  }\n}","line":21}},{"name":"print  'statusurl', statusurl","result":{"duration":1367722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22,"doc_string":{"content_type":"","value":"02:29:37.619 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/57163183-7468-4603-5ba9-e0f40471ad13\/status","line":22}},{"name":"print 'extracId:', downloadRequestId","result":{"duration":3505554,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":24,"doc_string":{"content_type":"","value":"02:29:37.622 [print] extracId: 57163183-7468-4603-5ba9-e0f40471ad13","line":24}},{"name":"url statusurl","result":{"duration":15150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":26},{"name":"method GET","result":{"duration":504701621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":27,"doc_string":{"content_type":"","value":"02:29:37.630 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/57163183-7468-4603-5ba9-e0f40471ad13\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:38.127 response time in milliseconds: 496.72\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 160\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:38 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/57163183-7468-4603-5ba9-e0f40471ad13\/status\"}},\"progress\":100,\"status\":\"RUNNING\"}","line":27}},{"name":"print \"waiting update delta link\"","result":{"duration":1808440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":28,"doc_string":{"content_type":"","value":"02:29:38.132 [print] waiting update delta link","line":28}},{"name":"retry until responseStatus == 201","result":{"duration":4890,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"url statusurl","result":{"duration":6842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":31},{"name":"method GET","result":{"duration":480804140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":32,"doc_string":{"content_type":"","value":"02:29:38.133 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/57163183-7468-4603-5ba9-e0f40471ad13\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:38.613 response time in milliseconds: 479.57\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:38 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/0af8b23e-6382-4984-b646-f84988ff1fae\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":32}},{"name":"def downloadlink = apiBaseUrl  +  response._links.download.href","result":{"duration":2051410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":115094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":188425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36,"doc_string":{"content_type":"","value":"02:29:38.616 [print] downloadlink: https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/0af8b23e-6382-4984-b646-f84988ff1fae\/extract.zip","line":36}},{"name":"url downloadlink","result":{"duration":6363,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"method HEAD","result":{"duration":506077119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":38,"doc_string":{"content_type":"","value":"02:29:38.617 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/0af8b23e-6382-4984-b646-f84988ff1fae\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:39.122 response time in milliseconds: 504.93\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 1633902\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:39 GMT\n4 < Etag: \"5cc6b306c5b2ffba047bfcd004af849f-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:38 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A089B99DA68D\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":38}},{"name":"status 200","result":{"duration":4758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":39},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":248022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":144110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":165097,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"print \"size\", zipsize","result":{"duration":213680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44,"doc_string":{"content_type":"","value":"02:29:39.123 [print] size 1633902","line":44}},{"name":"assert zipsize > 300","result":{"duration":6511035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":282647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":92301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def db = new mydownloads","result":{"duration":77909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"eval db.mywriteln('- Test: T05_3_pand\\n'+'  Url: '+downloadlink+'\\n  Size: '+zipsize+'\\n  Time: '+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/fullcustomurl.yaml')","result":{"duration":6414746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50}]},{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/full\/custom'","result":{"duration":1407282,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"02:29:40.272 base url : {\n  \"apiBaseUrl\": \"https:\/\/downloads.pdok.nl\/\"\n}","line":5}}]},{"line":58,"name":"download full custom op locatie hofvijver voor feature(s): openbareruimtelabel","description":"","id":"download-full-custom-op-locatie-hofvijver-voor-feature(s):-openbareruimtelabel","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"request {format: 'gml',featuretypes: [\"openbareruimtelabel\"],  geofilter: 'POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))' }","result":{"duration":47394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":10},{"name":"method post","result":{"duration":2448806005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":11,"doc_string":{"content_type":"","value":"02:29:40.275 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/full\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 230\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"featuretypes\":[\"openbareruimtelabel\"],\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\"}\n\n02:29:42.723 response time in milliseconds: 2447.69\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 187\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:42 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/fba3dfc9-b1fd-4671-66ca-14db8c1f0889\/status\"}},\"downloadRequestId\":\"fba3dfc9-b1fd-4671-66ca-14db8c1f0889\"}","line":11}},{"name":"status 202","result":{"duration":46542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":13},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull' }","result":{"duration":182769,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"def links = response._links","result":{"duration":170563,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":85475,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"def status = response.status","result":{"duration":1729202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":18},{"name":"def statusurl = apiBaseUrl  + links.status.href","result":{"duration":1841485,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":19},{"name":"print 'links:' , links","result":{"duration":6729446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21,"doc_string":{"content_type":"","value":"02:29:42.740 [print] links: {\n  \"status\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/fba3dfc9-b1fd-4671-66ca-14db8c1f0889\/status\"\n  }\n}","line":21}},{"name":"print  'statusurl', statusurl","result":{"duration":3021544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22,"doc_string":{"content_type":"","value":"02:29:42.744 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/fba3dfc9-b1fd-4671-66ca-14db8c1f0889\/status","line":22}},{"name":"print 'extracId:', downloadRequestId","result":{"duration":2815307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":24,"doc_string":{"content_type":"","value":"02:29:42.746 [print] extracId: fba3dfc9-b1fd-4671-66ca-14db8c1f0889","line":24}},{"name":"url statusurl","result":{"duration":8682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":26},{"name":"method GET","result":{"duration":486536196,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":27,"doc_string":{"content_type":"","value":"02:29:42.750 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/fba3dfc9-b1fd-4671-66ca-14db8c1f0889\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:43.233 response time in milliseconds: 482.91\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:43 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4da425e2-9e33-4369-88e5-04d018615a9f\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":27}},{"name":"print \"waiting update delta link\"","result":{"duration":1718635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":28,"doc_string":{"content_type":"","value":"02:29:43.235 [print] waiting update delta link","line":28}},{"name":"retry until responseStatus == 201","result":{"duration":4910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"url statusurl","result":{"duration":6644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":31},{"name":"method GET","result":{"duration":493639060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":32,"doc_string":{"content_type":"","value":"02:29:43.237 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/fba3dfc9-b1fd-4671-66ca-14db8c1f0889\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:43.728 response time in milliseconds: 490.68\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:43 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4da425e2-9e33-4369-88e5-04d018615a9f\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":32}},{"name":"def downloadlink = apiBaseUrl  +  response._links.download.href","result":{"duration":4456582,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":282568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":555143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36,"doc_string":{"content_type":"","value":"02:29:43.734 [print] downloadlink: https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4da425e2-9e33-4369-88e5-04d018615a9f\/extract.zip","line":36}},{"name":"url downloadlink","result":{"duration":7708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"method HEAD","result":{"duration":500120657,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":38,"doc_string":{"content_type":"","value":"02:29:43.739 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/4da425e2-9e33-4369-88e5-04d018615a9f\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:44.234 response time in milliseconds: 494.74\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 29974\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:44 GMT\n4 < Etag: \"c592387aec83091f5cbe9d9309162462-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:42 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08AEABA1D6A\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":38}},{"name":"status 200","result":{"duration":5882,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":39},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":2042166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":857542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":902520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"print \"size\", zipsize","result":{"duration":2601675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44,"doc_string":{"content_type":"","value":"02:29:44.241 [print] size 29974","line":44}},{"name":"assert zipsize > 300","result":{"duration":1998520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":151060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":51498,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def db = new mydownloads","result":{"duration":44013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"eval db.mywriteln('- Test: T05_4_openbareruimtelabel\\n'+'  Url: '+downloadlink+'\\n  Size: '+zipsize+'\\n  Time: '+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/fullcustomurl.yaml')","result":{"duration":2211987,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50}]},{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/full\/custom'","result":{"duration":1086512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"02:29:47.336 base url : {\n  \"apiBaseUrl\": \"https:\/\/downloads.pdok.nl\/\"\n}","line":5}}]},{"line":59,"name":"download full custom op locatie hofvijver voor feature(s): perceel\",  \"kadastralegrens\", \"pand\", \"openbareruimtelabel","description":"","id":"download-full-custom-op-locatie-hofvijver-voor-feature(s):-perceel\",--\"kadastralegrens\",-\"pand\",-\"openbareruimtelabel","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"request {format: 'gml',featuretypes: [\"perceel\",  \"kadastralegrens\", \"pand\", \"openbareruimtelabel\"],  geofilter: 'POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))' }","result":{"duration":38494,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":10},{"name":"method post","result":{"duration":1865266718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":11,"doc_string":{"content_type":"","value":"02:29:47.338 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/full\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 265\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"featuretypes\":[\"perceel\",\"kadastralegrens\",\"pand\",\"openbareruimtelabel\"],\"geofilter\":\"POLYGON((81044.88 455429.52,81634.56000000001 455444.64,81735.36000000002 455199.36,81612.72 454955.76,81070.08 454952.4,80880.24 455192.64,81044.88 455429.52))\"}\n\n02:29:49.203 response time in milliseconds: 1864.29\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 187\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:49 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/7c821444-e2d3-4cae-481e-6241f811a1c3\/status\"}},\"downloadRequestId\":\"7c821444-e2d3-4cae-481e-6241f811a1c3\"}","line":11}},{"name":"status 202","result":{"duration":4836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":13},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull' }","result":{"duration":1242102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"def links = response._links","result":{"duration":180738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":448559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"def status = response.status","result":{"duration":7927001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":18},{"name":"def statusurl = apiBaseUrl  + links.status.href","result":{"duration":1597810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":19},{"name":"print 'links:' , links","result":{"duration":5041034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21,"doc_string":{"content_type":"","value":"02:29:49.219 [print] links: {\n  \"status\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/7c821444-e2d3-4cae-481e-6241f811a1c3\/status\"\n  }\n}","line":21}},{"name":"print  'statusurl', statusurl","result":{"duration":1779404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22,"doc_string":{"content_type":"","value":"02:29:49.222 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/7c821444-e2d3-4cae-481e-6241f811a1c3\/status","line":22}},{"name":"print 'extracId:', downloadRequestId","result":{"duration":3061190,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":24,"doc_string":{"content_type":"","value":"02:29:49.225 [print] extracId: 7c821444-e2d3-4cae-481e-6241f811a1c3","line":24}},{"name":"url statusurl","result":{"duration":7434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":26},{"name":"method GET","result":{"duration":673721077,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":27,"doc_string":{"content_type":"","value":"02:29:49.226 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/7c821444-e2d3-4cae-481e-6241f811a1c3\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:49.898 response time in milliseconds: 672.32\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 158\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:49 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/7c821444-e2d3-4cae-481e-6241f811a1c3\/status\"}},\"progress\":0,\"status\":\"PENDING\"}","line":27}},{"name":"print \"waiting update delta link\"","result":{"duration":1850849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":28,"doc_string":{"content_type":"","value":"02:29:49.900 [print] waiting update delta link","line":28}},{"name":"retry until responseStatus == 201","result":{"duration":23236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"url statusurl","result":{"duration":7042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":31},{"name":"method GET","result":{"duration":6038791172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":32,"doc_string":{"content_type":"","value":"02:29:49.901 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/7c821444-e2d3-4cae-481e-6241f811a1c3\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:50.449 response time in milliseconds: 547.85\n3 < 200\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 159\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:50 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/7c821444-e2d3-4cae-481e-6241f811a1c3\/status\"}},\"progress\":25,\"status\":\"RUNNING\"}\n\n02:29:50.450 retry condition not satisfied: responseStatus == 201\n02:29:50.450 sleeping before retry #1\n02:29:55.451 request:\n4 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/7c821444-e2d3-4cae-481e-6241f811a1c3\/status\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:55.932 response time in milliseconds: 481.32\n4 < 201\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Method: GET,POST,OPTIONS\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n4 < Content-Length: 167\n4 < Content-Type: application\/json\n4 < Date: Tue, 15 Jun 2021 02:29:55 GMT\n4 < Expires: 0\n4 < Pragma: no-cache\n4 < Server: Apache\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/827e7b8d-9908-400f-838b-288baeb65b43\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}\n\n02:29:55.939 retry condition satisfied","line":32}},{"name":"def downloadlink = apiBaseUrl  +  response._links.download.href","result":{"duration":3548297,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":161741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":322226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36,"doc_string":{"content_type":"","value":"02:29:55.943 [print] downloadlink: https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/827e7b8d-9908-400f-838b-288baeb65b43\/extract.zip","line":36}},{"name":"url downloadlink","result":{"duration":6003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"method HEAD","result":{"duration":494522137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":38,"doc_string":{"content_type":"","value":"02:29:55.945 request:\n5 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/827e7b8d-9908-400f-838b-288baeb65b43\/extract.zip\n5 > Accept-Encoding: gzip,deflate\n5 > Connection: Keep-Alive\n5 > Host: downloads.pdok.nl\n5 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:56.438 response time in milliseconds: 493.03\n5 < 200\n5 < Accept-Ranges: bytes\n5 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n5 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n5 < Access-Control-Allow-Origin: *\n5 < Access-Control-Max-Age: 1000\n5 < Content-Disposition: attachment; filename=extract.zip\n5 < Content-Length: 5676882\n5 < Content-Security-Policy: block-all-mixed-content\n5 < Content-Type: application\/zip\n5 < Date: Tue, 15 Jun 2021 02:29:56 GMT\n5 < Etag: \"4a00513059e6a7ede1887842a530d1ce-2\"\n5 < Last-Modified: Tue, 15 Jun 2021 02:29:52 GMT\n5 < Server: MinIO\n5 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n5 < Vary: Origin\n5 < X-Amz-Request-Id: 1688A08DC1FB4365\n5 < X-Cnection: close\n5 < X-Xss-Protection: 1; mode=block","line":38}},{"name":"status 200","result":{"duration":6724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":39},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":265736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":239892,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":172714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"print \"size\", zipsize","result":{"duration":226194,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44,"doc_string":{"content_type":"","value":"02:29:56.439 [print] size 5676882","line":44}},{"name":"assert zipsize > 300","result":{"duration":5504460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":146667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":90042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def db = new mydownloads","result":{"duration":954129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"eval db.mywriteln('- Test: T05_5_4features_hof\\n'+'  Url: '+downloadlink+'\\n  Size: '+zipsize+'\\n  Time: '+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/fullcustomurl.yaml')","result":{"duration":5859117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50}]},{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/full\/custom'","result":{"duration":998053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"02:29:55.009 base url : {\n  \"apiBaseUrl\": \"https:\/\/downloads.pdok.nl\/\"\n}","line":5}}]},{"line":60,"name":"download full custom op locatie swifterband voor feature(s): perceel\",\"openbareruimtelabel","description":"","id":"download-full-custom-op-locatie-swifterband-voor-feature(s):-perceel\",\"openbareruimtelabel","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"request {format: 'gml',featuretypes: [\"perceel\",\"openbareruimtelabel\"],  geofilter: 'POLYGON((171808.896 509246.97597949224,172768.51212304688 509276.54393847665,172760.44804101562 508392.1920000001,171773.95212304688 508381.43995898444,171808.896 509246.97597949224))' }","result":{"duration":36444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":10},{"name":"method post","result":{"duration":503339226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":11,"doc_string":{"content_type":"","value":"02:29:55.011 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/full\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 263\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"featuretypes\":[\"perceel\",\"openbareruimtelabel\"],\"geofilter\":\"POLYGON((171808.896 509246.97597949224,172768.51212304688 509276.54393847665,172760.44804101562 508392.1920000001,171773.95212304688 508381.43995898444,171808.896 509246.97597949224))\"}\n\n02:29:55.514 response time in milliseconds: 502.33\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 187\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:55 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/a13d9b9c-e7b4-4c70-4f1f-5754616e53ea\/status\"}},\"downloadRequestId\":\"a13d9b9c-e7b4-4c70-4f1f-5754616e53ea\"}","line":11}},{"name":"status 202","result":{"duration":5924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":13},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull' }","result":{"duration":4913334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"def links = response._links","result":{"duration":351283,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":518313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"def status = response.status","result":{"duration":1721134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":18},{"name":"def statusurl = apiBaseUrl  + links.status.href","result":{"duration":3465963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":19},{"name":"print 'links:' , links","result":{"duration":1799917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21,"doc_string":{"content_type":"","value":"02:29:55.527 [print] links: {\n  \"status\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/a13d9b9c-e7b4-4c70-4f1f-5754616e53ea\/status\"\n  }\n}","line":21}},{"name":"print  'statusurl', statusurl","result":{"duration":915049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22,"doc_string":{"content_type":"","value":"02:29:55.528 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/a13d9b9c-e7b4-4c70-4f1f-5754616e53ea\/status","line":22}},{"name":"print 'extracId:', downloadRequestId","result":{"duration":4473991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":24,"doc_string":{"content_type":"","value":"02:29:55.533 [print] extracId: a13d9b9c-e7b4-4c70-4f1f-5754616e53ea","line":24}},{"name":"url statusurl","result":{"duration":38892,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":26},{"name":"method GET","result":{"duration":511162610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":27,"doc_string":{"content_type":"","value":"02:29:55.536 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/a13d9b9c-e7b4-4c70-4f1f-5754616e53ea\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:56.044 response time in milliseconds: 507.93\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:55 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7a108de6-a3bc-4f65-82c0-8520494f2b09\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":27}},{"name":"print \"waiting update delta link\"","result":{"duration":2157370,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":28,"doc_string":{"content_type":"","value":"02:29:56.046 [print] waiting update delta link","line":28}},{"name":"retry until responseStatus == 201","result":{"duration":6360,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"url statusurl","result":{"duration":6106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":31},{"name":"method GET","result":{"duration":496017246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":32,"doc_string":{"content_type":"","value":"02:29:56.047 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/a13d9b9c-e7b4-4c70-4f1f-5754616e53ea\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:56.537 response time in milliseconds: 489.68\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:56 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7a108de6-a3bc-4f65-82c0-8520494f2b09\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":32}},{"name":"def downloadlink = apiBaseUrl  +  response._links.download.href","result":{"duration":739490,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":179825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":346236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36,"doc_string":{"content_type":"","value":"02:29:56.544 [print] downloadlink: https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7a108de6-a3bc-4f65-82c0-8520494f2b09\/extract.zip","line":36}},{"name":"url downloadlink","result":{"duration":5495,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"method HEAD","result":{"duration":776243977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":38,"doc_string":{"content_type":"","value":"02:29:56.549 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/7a108de6-a3bc-4f65-82c0-8520494f2b09\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:57.320 response time in milliseconds: 771.08\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 561032\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:29:57 GMT\n4 < Etag: \"d9a891898850e4dfa3d9333045cfdf81-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:55 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08DEB2968F9\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":38}},{"name":"status 200","result":{"duration":6394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":39},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":5556737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":125739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":88730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"print \"size\", zipsize","result":{"duration":132836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44,"doc_string":{"content_type":"","value":"02:29:57.326 [print] size 561032","line":44}},{"name":"assert zipsize > 300","result":{"duration":369145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":175897,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":128326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def db = new mydownloads","result":{"duration":122528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"eval db.mywriteln('- Test: T05_6_perceelenOpenbareruimtelabel_swift\\n'+'  Url: '+downloadlink+'\\n  Size: '+zipsize+'\\n  Time: '+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/fullcustomurl.yaml')","result":{"duration":2381233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50}]},{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/full\/custom'","result":{"duration":116995,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"02:29:58.374 base url : {\n  \"apiBaseUrl\": \"https:\/\/downloads.pdok.nl\/\"\n}","line":5}}]},{"line":61,"name":"download full custom op locatie Apeldoorndebrug voor feature(s): pand\",\"openbareruimtelabel","description":"","id":"download-full-custom-op-locatie-apeldoorndebrug-voor-feature(s):-pand\",\"openbareruimtelabel","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"request {format: 'gml',featuretypes: [\"pand\",\"openbareruimtelabel\"],  geofilter: 'POLYGON((194115.26404101565 465939.2639692384,194369.2799794922 465943.296010254,194351.80802050783 465775.29595898447,194093.76006152347 465724.2240205079,194115.26404101565 465939.2639692384))' }","result":{"duration":32273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":10},{"name":"method post","result":{"duration":512435702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":11,"doc_string":{"content_type":"","value":"02:29:58.375 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/full\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 271\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"featuretypes\":[\"pand\",\"openbareruimtelabel\"],\"geofilter\":\"POLYGON((194115.26404101565 465939.2639692384,194369.2799794922 465943.296010254,194351.80802050783 465775.29595898447,194093.76006152347 465724.2240205079,194115.26404101565 465939.2639692384))\"}\n\n02:29:58.887 response time in milliseconds: 511.34\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 187\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:29:58 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/febda526-4006-431f-4cb5-4a07b1a0944e\/status\"}},\"downloadRequestId\":\"febda526-4006-431f-4cb5-4a07b1a0944e\"}","line":11}},{"name":"status 202","result":{"duration":7102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":13},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull' }","result":{"duration":147231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"def links = response._links","result":{"duration":324722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":444813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"def status = response.status","result":{"duration":311362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":18},{"name":"def statusurl = apiBaseUrl  + links.status.href","result":{"duration":353913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":19},{"name":"print 'links:' , links","result":{"duration":650011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21,"doc_string":{"content_type":"","value":"02:29:58.889 [print] links: {\n  \"status\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/febda526-4006-431f-4cb5-4a07b1a0944e\/status\"\n  }\n}","line":21}},{"name":"print  'statusurl', statusurl","result":{"duration":2494013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22,"doc_string":{"content_type":"","value":"02:29:58.892 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/febda526-4006-431f-4cb5-4a07b1a0944e\/status","line":22}},{"name":"print 'extracId:', downloadRequestId","result":{"duration":679062,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":24,"doc_string":{"content_type":"","value":"02:29:58.893 [print] extracId: febda526-4006-431f-4cb5-4a07b1a0944e","line":24}},{"name":"url statusurl","result":{"duration":10390,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":26},{"name":"method GET","result":{"duration":505428154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":27,"doc_string":{"content_type":"","value":"02:29:58.901 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/febda526-4006-431f-4cb5-4a07b1a0944e\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:59.398 response time in milliseconds: 497.10\n2 < 201\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 167\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:29:59 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ba85c8bd-9cbc-41e9-9458-2d55adc5f6fd\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":27}},{"name":"print \"waiting update delta link\"","result":{"duration":266013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":28,"doc_string":{"content_type":"","value":"02:29:59.399 [print] waiting update delta link","line":28}},{"name":"retry until responseStatus == 201","result":{"duration":56031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"url statusurl","result":{"duration":6735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":31},{"name":"method GET","result":{"duration":480768007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":32,"doc_string":{"content_type":"","value":"02:29:59.400 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/febda526-4006-431f-4cb5-4a07b1a0944e\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:29:59.879 response time in milliseconds: 479.12\n3 < 201\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 167\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:29:59 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ba85c8bd-9cbc-41e9-9458-2d55adc5f6fd\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}","line":32}},{"name":"def downloadlink = apiBaseUrl  +  response._links.download.href","result":{"duration":538597,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":234783,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":5092224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36,"doc_string":{"content_type":"","value":"02:29:59.886 [print] downloadlink: https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ba85c8bd-9cbc-41e9-9458-2d55adc5f6fd\/extract.zip","line":36}},{"name":"url downloadlink","result":{"duration":6405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"method HEAD","result":{"duration":519608168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":38,"doc_string":{"content_type":"","value":"02:29:59.887 request:\n4 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/ba85c8bd-9cbc-41e9-9458-2d55adc5f6fd\/extract.zip\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:00.405 response time in milliseconds: 518.31\n4 < 200\n4 < Accept-Ranges: bytes\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Content-Disposition: attachment; filename=extract.zip\n4 < Content-Length: 138140\n4 < Content-Security-Policy: block-all-mixed-content\n4 < Content-Type: application\/zip\n4 < Date: Tue, 15 Jun 2021 02:30:00 GMT\n4 < Etag: \"fac221052db452b07945ee659eb7b023-1\"\n4 < Last-Modified: Tue, 15 Jun 2021 02:29:59 GMT\n4 < Server: MinIO\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < Vary: Origin\n4 < X-Amz-Request-Id: 1688A08EAD7AD1AE\n4 < X-Cnection: close\n4 < X-Xss-Protection: 1; mode=block","line":38}},{"name":"status 200","result":{"duration":6885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":39},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":339316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":142969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":159702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"print \"size\", zipsize","result":{"duration":261770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44,"doc_string":{"content_type":"","value":"02:30:00.406 [print] size 138140","line":44}},{"name":"assert zipsize > 300","result":{"duration":353578,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":204781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":88810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def db = new mydownloads","result":{"duration":85493,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"eval db.mywriteln('- Test: T05_7_dkkbgt_brug\\n'+'  Url: '+downloadlink+'\\n  Size: '+zipsize+'\\n  Time: '+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/fullcustomurl.yaml')","result":{"duration":5687237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50}]},{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiBaseUrl +'kadastralekaart\/api\/v4_0\/full\/custom'","result":{"duration":6840531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"02:30:03.927 base url : {\n  \"apiBaseUrl\": \"https:\/\/downloads.pdok.nl\/\"\n}","line":5}}]},{"line":64,"name":"download full custom op locatie Amersfoort Prodent Fabriek voor feature(s): perceel\",  \"kadastralegrens\", \"pand\", \"openbareruimtelabel","description":"","id":"download-full-custom-op-locatie-amersfoort-prodent-fabriek-voor-feature(s):-perceel\",--\"kadastralegrens\",-\"pand\",-\"openbareruimtelabel","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"request {format: 'gml',featuretypes: [\"perceel\",  \"kadastralegrens\", \"pand\", \"openbareruimtelabel\"],  geofilter: 'POLYGON ((154125.82490221905754879 463344.15998090390348807, 154404.92781473969807848 463761.69793803477659822, 154804.60318546928465366 463460.26679251249879599, 154447.35145744285546243 463040.49601208145031705, 154125.82490221905754879 463344.15998090390348807))' }","result":{"duration":47292,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":10},{"name":"method post","result":{"duration":486950352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":11,"doc_string":{"content_type":"","value":"02:30:03.937 request:\n1 > POST https:\/\/downloads.pdok.nl\/kadastralekaart\/api\/v4_0\/full\/custom\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 370\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: downloads.pdok.nl\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n{\"format\":\"gml\",\"featuretypes\":[\"perceel\",\"kadastralegrens\",\"pand\",\"openbareruimtelabel\"],\"geofilter\":\"POLYGON ((154125.82490221905754879 463344.15998090390348807, 154404.92781473969807848 463761.69793803477659822, 154804.60318546928465366 463460.26679251249879599, 154447.35145744285546243 463040.49601208145031705, 154125.82490221905754879 463344.15998090390348807))\"}\n\n02:30:04.421 response time in milliseconds: 483.24\n1 < 202\n1 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n1 < Access-Control-Allow-Method: GET,POST,OPTIONS\n1 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 1000\n1 < Content-Length: 187\n1 < Content-Type: application\/json\n1 < Date: Tue, 15 Jun 2021 02:30:04 GMT\n1 < Server: Apache\n1 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n1 < X-Cnection: close\n{\"_links\":{\"status\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/d0b267a4-285c-440f-415d-2f22ae5528a8\/status\"}},\"downloadRequestId\":\"d0b267a4-285c-440f-415d-2f22ae5528a8\"}","line":11}},{"name":"status 202","result":{"duration":5391,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":13},{"name":"match response == { downloadRequestId: '#uuid' , _links:'#notnull' }","result":{"duration":95276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"def links = response._links","result":{"duration":91828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def downloadRequestId = response.downloadRequestId","result":{"duration":55320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"def status = response.status","result":{"duration":1386027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":18},{"name":"def statusurl = apiBaseUrl  + links.status.href","result":{"duration":1179936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":19},{"name":"print 'links:' , links","result":{"duration":15480198,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21,"doc_string":{"content_type":"","value":"02:30:04.439 [print] links: {\n  \"status\": {\n    \"href\": \"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/d0b267a4-285c-440f-415d-2f22ae5528a8\/status\"\n  }\n}","line":21}},{"name":"print  'statusurl', statusurl","result":{"duration":6445347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22,"doc_string":{"content_type":"","value":"02:30:04.446 [print] statusurl https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/d0b267a4-285c-440f-415d-2f22ae5528a8\/status","line":22}},{"name":"print 'extracId:', downloadRequestId","result":{"duration":1309408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":24,"doc_string":{"content_type":"","value":"02:30:04.447 [print] extracId: d0b267a4-285c-440f-415d-2f22ae5528a8","line":24}},{"name":"url statusurl","result":{"duration":5579,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":26},{"name":"method GET","result":{"duration":493688505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":27,"doc_string":{"content_type":"","value":"02:30:04.448 request:\n2 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/d0b267a4-285c-440f-415d-2f22ae5528a8\/status\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: downloads.pdok.nl\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:04.941 response time in milliseconds: 492.84\n2 < 200\n2 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n2 < Access-Control-Allow-Method: GET,POST,OPTIONS\n2 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Max-Age: 1000\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 158\n2 < Content-Type: application\/json\n2 < Date: Tue, 15 Jun 2021 02:30:04 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Server: Apache\n2 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n2 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/d0b267a4-285c-440f-415d-2f22ae5528a8\/status\"}},\"progress\":0,\"status\":\"PENDING\"}","line":27}},{"name":"print \"waiting update delta link\"","result":{"duration":4707694,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":28,"doc_string":{"content_type":"","value":"02:30:04.946 [print] waiting update delta link","line":28}},{"name":"retry until responseStatus == 201","result":{"duration":6248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"url statusurl","result":{"duration":5774,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":31},{"name":"method GET","result":{"duration":5964709705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":32,"doc_string":{"content_type":"","value":"02:30:04.947 request:\n3 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/d0b267a4-285c-440f-415d-2f22ae5528a8\/status\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Host: downloads.pdok.nl\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:05.425 response time in milliseconds: 478.35\n3 < 200\n3 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n3 < Access-Control-Allow-Method: GET,POST,OPTIONS\n3 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n3 < Access-Control-Allow-Origin: *\n3 < Access-Control-Max-Age: 1000\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Content-Length: 158\n3 < Content-Type: application\/json\n3 < Date: Tue, 15 Jun 2021 02:30:05 GMT\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Server: Apache\n3 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n3 < X-Cnection: close\n{\"_links\":{\"self\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/d0b267a4-285c-440f-415d-2f22ae5528a8\/status\"}},\"progress\":0,\"status\":\"PENDING\"}\n\n02:30:05.428 retry condition not satisfied: responseStatus == 201\n02:30:05.428 sleeping before retry #1\n02:30:10.429 request:\n4 > GET https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/full\/custom\/d0b267a4-285c-440f-415d-2f22ae5528a8\/status\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Host: downloads.pdok.nl\n4 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:10.910 response time in milliseconds: 480.87\n4 < 201\n4 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n4 < Access-Control-Allow-Method: GET,POST,OPTIONS\n4 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n4 < Access-Control-Allow-Origin: *\n4 < Access-Control-Max-Age: 1000\n4 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n4 < Content-Length: 167\n4 < Content-Type: application\/json\n4 < Date: Tue, 15 Jun 2021 02:30:10 GMT\n4 < Expires: 0\n4 < Pragma: no-cache\n4 < Server: Apache\n4 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n4 < X-Cnection: close\n{\"_links\":{\"download\":{\"href\":\"\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/07823603-f8d2-4809-a2d5-f15f31768e91\/extract.zip\"}},\"progress\":100,\"status\":\"COMPLETED\"}\n\n02:30:10.910 retry condition satisfied","line":32}},{"name":"def downloadlink = apiBaseUrl  +  response._links.download.href","result":{"duration":1543355,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response == { _links:'#notnull' , progress:100, status:'COMPLETED' }","result":{"duration":65307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"print \"downloadlink:\", downloadlink","result":{"duration":1162651,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36,"doc_string":{"content_type":"","value":"02:30:10.913 [print] downloadlink: https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/07823603-f8d2-4809-a2d5-f15f31768e91\/extract.zip","line":36}},{"name":"url downloadlink","result":{"duration":4343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"method HEAD","result":{"duration":689653527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":38,"doc_string":{"content_type":"","value":"02:30:10.914 request:\n5 > HEAD https:\/\/downloads.pdok.nl\/\/kadaster\/kadastralekaart\/download\/v4_0\/extract\/07823603-f8d2-4809-a2d5-f15f31768e91\/extract.zip\n5 > Accept-Encoding: gzip,deflate\n5 > Connection: Keep-Alive\n5 > Host: downloads.pdok.nl\n5 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_151)\n\n02:30:11.603 response time in milliseconds: 688.40\n5 < 200\n5 < Accept-Ranges: bytes\n5 < Access-Control-Allow-Headers: SOAPAction,X-Requested-With,Content-Type,Origin,Authorization,Accept\n5 < Access-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\n5 < Access-Control-Allow-Origin: *\n5 < Access-Control-Max-Age: 1000\n5 < Content-Disposition: attachment; filename=extract.zip\n5 < Content-Length: 6083971\n5 < Content-Security-Policy: block-all-mixed-content\n5 < Content-Type: application\/zip\n5 < Date: Tue, 15 Jun 2021 02:30:11 GMT\n5 < Etag: \"583232ce09a7869dbdf51395f6ea5e45-2\"\n5 < Last-Modified: Tue, 15 Jun 2021 02:30:10 GMT\n5 < Server: MinIO\n5 < Strict-Transport-Security: [max-age=31536000; includeSubDomains; preload, max-age=3600; includeSubDomains; preload]\n5 < Vary: Origin\n5 < X-Amz-Request-Id: 1688A09144C52F97\n5 < X-Cnection: close\n5 < X-Xss-Protection: 1; mode=block","line":38}},{"name":"status 200","result":{"duration":7401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":39},{"name":"match responseHeaders['Content-Length'][0] == '#notnull'","result":{"duration":2297321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"match responseHeaders['Content-Type'][0] == 'application\/zip'","result":{"duration":2459642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"def zipsize =  responseHeaders['Content-Length'][0]","result":{"duration":147801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"print \"size\", zipsize","result":{"duration":186333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44,"doc_string":{"content_type":"","value":"02:30:11.608 [print] size 6083971","line":44}},{"name":"assert zipsize > 300","result":{"duration":1996827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45},{"name":"def mydownloads = Java.type('download.DataStorage')","result":{"duration":136102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":73491,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def db = new mydownloads","result":{"duration":81457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"eval db.mywriteln('- Test: T05_8_prodent_fabriek\\n'+'  Url: '+downloadlink+'\\n  Size: '+zipsize+'\\n  Time: '+ LocalDateTime.now() +'\\n' , 'target\/surefire-reports\/fullcustomurl.yaml')","result":{"duration":3408545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50}]}],"name":"download\/T05_FullCustom.feature","description":"DKK Api geeft Custom full","id":"dkk-api-geeft-custom-full","keyword":"Feature","uri":"download\/T05_FullCustom.feature","tags":[{"name":"@SMOKE","line":1}]}]